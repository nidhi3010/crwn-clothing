/*! For license information please see main.cdcb0a9f.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}return t}return t}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},151:function(e,t,n){var r=n(878);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t))},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,E=n[2]||l,S=m||g;r.push({name:y||a++,prefix:v||"",delimiter:E,optional:_,repeat:x,partial:w,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+s(E)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,i){for(var a="",u=n||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!t[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!t[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},878:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,S=60108,I=60114,T=60109,C=60110,A=60112,N=60113,O=60120,P=60115,R=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),E=U("react.fragment"),S=U("react.strict_mode"),I=U("react.profiler"),T=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),N=U("react.suspense"),O=U("react.suspense_list"),P=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Re,Fe=!1,je=!1;function Ue(){null===Ce&&null===Ae||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ye){Be=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ke=!1,Ge=null,$e={onError:function(e){He=!0,We=e}};function Qe(e,t,n,r,i,a,o,u,s){He=!1,We=null,qe.apply($e,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},St={},It={};function Tt(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return St[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Ot=Tt("transitionend"),Pt=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Fe||Le();var i=Jt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function Xt(e,t,n,r){$t(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),On=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Un=f&&"TextEvent"in window&&!jn,Vn=f&&(!Fn||jn&&8<jn&&11>=jn),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function $n(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function Xn(e){Ar(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if($n(t,Yn,e,Ie(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Re(e,t)}finally{Fe=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Rt.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Tr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Me(e,t,n)}finally{je=!1,Ue()}}((function(){var r=a,i=Ie(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case At:case Nt:s=bn;break;case Ot:s=Rn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Gn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?$n(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(m=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Si=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},ji=void 0!==Ai?Ai:function(){},Ui=null,Vi=null,Bi=!1,zi=Ni(),qi=1e4>zi?Ni:function(){return Ni()-zi};function Hi(){switch(Oi()){case Pi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),Si(e,t)}function Gi(e,t,n){return e=Wi(e),Ii(e,t,n)}function $i(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Qi()}function Qi(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ii(Pi,$i),n}finally{Bi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=$s(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Xs(t,e.mode,n)).return=e,t}if(xa(t)||z(t))return(t=$s(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=$s(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(z(a))return y(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ia=Sa(!0),Ta=Sa(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Oa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(fi(Oa,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,Ba=!1;function za(e,t){var n=Hs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ba){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=$r(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Ua=e);za(Ua,n)}Ua=e,Va=$r(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!Ba)return Wa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=$r(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?$r(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,Ba=!1}var $a=[];function Qa(){for(var e=0;e<$a.length;e++)$a[e]._workInProgressVersionPrimary=null;$a.length=0}var Ya=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,$a.push(t))),e)return n(t._source);throw $a.push(t),Error(o(350))}function po(e,t,n,r){var i=Ru;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Ht(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Hi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:To,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function jo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ia(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ho(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return jo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(mi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,u,a)):jo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var $o,Qo,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=$s(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=$s(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Nr(Ir[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,$o(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Nr(Ir[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Aa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===ju&&(ju=3):(0!==ju&&3!==ju||(ju=4),null===Ru||0===(134217727&Bu)&&0===(134217727&zu)||gs(Ru,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==ju||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=ja(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Eu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Pu=0,Ru=null,Du=null,Lu=0,Mu=0,Fu=ci(0),ju=0,Uu=null,Vu=0,Bu=0,zu=0,qu=0,Hu=null,Wu=0,Ku=1/0;function Gu(){Ku=qi()+500}var $u,Qu=null,Yu=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Hu?Hu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Ru&&(zu|=t,4===ju&&gs(e,Lu));var r=Hi();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ys(e,n),0===Pu&&(Gu(),$i())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Hu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Ht(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=jt(e,e===Ru?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],Vi=Ii(Pi,Qi)):Ui.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=jt(e,e===Ru?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Is();for(Ru===e&&Lu===r||(Gu(),Es(e,r));;)try{As();break}catch(s){Ss(e,s)}if(na(),Nu.current=a,Pu=i,null!==Du?r=0:(Ru=null,Lu=0,r=ju),0!==(Vu&zu))Es(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ts(e,n))),1===r)throw t=Uu,Es(e,0),gs(e,n),ys(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-qi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Ht(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Wr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ys(e,qi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ru&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&zu)&&(n=Ts(e,t=jt(e,t)))}else n=Ts(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ts(e,t))),1===n)throw n=Uu,Es(e,0),gs(e,t),ys(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ys(e,qi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu(),$i())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Gu(),$i())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function _s(){Mu=Fu.current,li(Fu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Ru=e,Du=Ks(e.current,null),Lu=Mu=Vu=t,ju=0,Uu=null,qu=zu=Bu=0}function Ss(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Ou.current=null,null===n||null===n.return){ju=1,Uu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ju&&(ju=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Is(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Is();for(Ru===e&&Lu===t||Es(e,t);;)try{Cs();break}catch(i){Ss(e,i)}if(na(),Pu=n,Nu.current=r,null!==Du)throw Error(o(261));return Ru=null,Lu=0,ju}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=$u(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Du=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===ju&&(ju=5)}function Ps(e){var t=Hi();return Ki(99,Rs.bind(null,e,t)),null}function Rs(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ru&&(Du=Ru=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ou.current=null,Br=Qt,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(I){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Qu=r;do{try{Ds()}catch(I){if(null===Qu)throw Error(o(330));Vs(Qu,I),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var k=Qu.flags;if(16&k&&ge(Qu.stateNode,""),128&k){var b=Qu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Qu),Qu.flags&=-3;break;case 6:xu(Qu),Qu.flags&=-3,Iu(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,Iu(Qu.alternate,Qu);break;case 4:Iu(Qu.alternate,Qu);break;case 8:Su(u,s=Qu);var x=s.alternate;bu(s),null!==x&&bu(x)}Qu=Qu.nextEffect}}catch(I){if(null===Qu)throw Error(o(330));Vs(Qu,I),Qu=Qu.nextEffect}}while(null!==Qu);if(w=zr,b=yr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Br,zr=Br=null,e.current=n,Qu=r;do{try{for(k=e;null!==Qu;){var _=Qu.flags;if(36&_&&mu(k,Qu.alternate,Qu),128&_){b=void 0;var E=Qu.ref;if(null!==E){var S=Qu.stateNode;Qu.tag,b=S,"function"===typeof E?E(b):E.current=b}}Qu=Qu.nextEffect}}catch(I){if(null===Qu)throw Error(o(330));Vs(Qu,I),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,ji(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((_=Qu).sibling=null,_.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(I){}if(ys(e,qi()),Yu)throw Yu=!1,e=Xu,Xu=null,e;return 0!==(8&Pu)||$i(),null}function Ds(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?et(Qu,ls)&&(fs=!0):13===Qu.tag&&Cu(e,Qu)&&et(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&yu(e,Qu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),Qu=Qu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,js)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function js(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,$i(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Lu&n)===n&&(4===ju||3===ju&&(62914560&Lu)===Lu&&500>qi()-Wu?Es(e,0):qu|=n),ys(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===ss&&(ss=Vu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ys(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(e,t,n,r){return new qs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Hs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return $s(n.children,i,a,t);case M:u=8,i|=16;break;case S:u=8,i|=1;break;case I:return(e=Hs(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case N:return(e=Hs(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case O:return(e=Hs(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return Qs(n,i,a,t);case j:return(e=Hs(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function $s(e,t,n,r){return(e=Hs(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=Hs(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Hs(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Hs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Hs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}$u=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=$r(t.stateNode.containerInfo.firstChild),Ua=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],$a.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Hr(r,i)?u=null:null!==a&&Hr(r,a)&&(t.flags|=16),qo(e,t),jo(e,t,u,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Jo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Gu(),$i())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,qi())}))}$i()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Gu(),$i())}};var sc={Events:[ri,ii,ai,Oe,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Pu=n,$i()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116;function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case s:return e;default:return t}}case v:case p:case i:return t}}}function m(e){return y(e)===f}t.typeOf=y,t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=v,t.Memo=p,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h)},t.isAsyncMode=function(e){return m(e)||y(e)===l},t.isConcurrentMode=m,t.isContextConsumer=function(e){return y(e)===c},t.isContextProvider=function(e){return y(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return y(e)===h},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===v},t.isMemo=function(e){return y(e)===p},t.isPortal=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===u},t.isStrictMode=function(e){return y(e)===o},t.isSuspense=function(e){return y(e)===d}},441:function(e,t,n){"use strict";e.exports=n(372)},93:function(e,t,n){"use strict";var r=n(495),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},886:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116;function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case s:return e;default:return t}}case v:case p:case i:return t}}}function m(e){return y(e)===f}t.typeOf=y,t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=v,t.Memo=p,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h)},t.isAsyncMode=function(e){return m(e)||y(e)===l},t.isConcurrentMode=m,t.isContextConsumer=function(e){return y(e)===c},t.isContextProvider=function(e){return y(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return y(e)===h},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===v},t.isMemo=function(e){return y(e)===p},t.isPortal=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===u},t.isStrictMode=function(e){return y(e)===o},t.isSuspense=function(e){return y(e)===d}},495:function(e,t,n){"use strict";e.exports=n(886)},459:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return b(e)===s}},900:function(e,t,n){"use strict";e.exports=n(459)},210:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(791)),o=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!1,l=!1,f=!1,h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:n.props.stripeKey}),n.hasPendingClick&&n.showStripeDialog())},n.onScriptError=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.hideLoadingDialog(),n.props.onScriptError&&n.props.onScriptError.apply(n,t)},n.onClosed=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n._isMounted&&n.setState({open:!1}),n.props.closed&&n.props.closed.apply(n,t)},n.onOpened=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.setState({open:!0}),n.props.opened&&n.props.opened.apply(n,t)},n.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce((function(e,t){return r({},e,n.props.hasOwnProperty(t)&&s({},t,n.props[t]))}),{opened:n.onOpened,closed:n.onClosed})},n.onClick=function(){if(!n.props.disabled)if(f)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch(e){}else t.stripeHandler?n.showStripeDialog():(n.showLoadingDialog(),n.hasPendingClick=!0)},n.handleOnMouseDown=function(){n.setState({buttonActive:!0})},n.handleOnMouseUp=function(){n.setState({buttonActive:!1})},n.state={open:!1,buttonActive:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,!l&&!c){c=!0;var t=document.createElement("script");"function"===typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(t),t.src="https://checkout.stripe.com/checkout.js",t.async=1,this.loadPromise=function(){var n=!1,r=new Promise((function(n,r){t.onload=function(){l=!0,c=!1,n(),e.onScriptLoaded()},t.onerror=function(t){f=!0,c=!1,r(t),e.onScriptError(t)}}));return{promise:new Promise((function(e,t){r.then((function(){return n?t({isCanceled:!0}):e()})),r.catch((function(e){return t(n?{isCanceled:!0}:e)}))})),cancel:function(){n=!0}}}(),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(t)}}},{key:"componentDidUpdate",value:function(){c||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.showLoadingDialog.apply(this,t)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.hideLoadingDialog.apply(this,t)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return a.default.createElement("button",r({},s({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:r({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),a.default.createElement("span",{style:r({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return a.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},a.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){!0!==this.props.desktopShowModal||this.state.open?!1===this.props.desktopShowModal&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?a.default.createElement(e,r({},s({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(a.default.Component);h.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"},h.propTypes={desktopShowModal:o.default.bool,triggerEvent:o.default.oneOf(["onClick","onTouchTap","onTouchStart"]),label:o.default.string,style:o.default.object,textStyle:o.default.object,disabled:o.default.bool,ComponentClass:o.default.string,showLoadingDialog:o.default.func,hideLoadingDialog:o.default.func,onScriptError:o.default.func,onScriptTagCreated:o.default.func,reconfigureOnUpdate:o.default.bool,stripeKey:o.default.string.isRequired,token:o.default.func.isRequired,name:o.default.string,description:o.default.string,image:o.default.string,amount:o.default.number,locale:o.default.oneOf(["auto","zh","da","nl","en","fr","de","it","ja","no","es","sv"]),currency:o.default.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:o.default.string,zipCode:o.default.bool,billingAddress:o.default.bool,shippingAddress:o.default.bool,email:o.default.string,allowRememberMe:o.default.bool,bitcoin:o.default.bool,alipay:o.default.oneOf(["auto",!0,!1]),alipayReusable:o.default.bool,opened:o.default.func,closed:o.default.func},h._isMounted=!1,t.Z=h},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+I(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+I(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function O(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},329:function(e,t,n){"use strict";e.exports=n(374)},896:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":N(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,h,d){d=d||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof h){if(r){if("function"==typeof r&&r(p,h))return;if("object"===("undefined"==typeof r?"undefined":N(r))){if(r.prefilter&&r.prefilter(p,h))return;if(r.normalize){var v=r.normalize(p,h,e,t);v&&(e=v[0],t=v[1])}}}p.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var y="undefined"==typeof e?"undefined":N(e),m="undefined"==typeof t?"undefined":N(t),g="undefined"!==y||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(h),k="undefined"!==m||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(h);if(!g&&k)n(new a(p,t));else if(!k&&g)n(new o(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!==0)n(new i(p,e,t));else if("object"===y&&null!==e&&null!==t)if(d.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new u(p,b,new o(void 0,e[b]))):l(e[b],t[b],n,r,p,b,d);for(;b<t.length;)n(new u(p,b,new a(void 0,t[b++])))}else{var w=Object.keys(e),x=Object.keys(t);w.forEach((function(i,a){var o=x.indexOf(i);o>=0?(l(e[i],t[i],n,r,p,i,d),x=s(x,o)):l(e[i],void 0,n,r,p,i,d)})),x.forEach((function(e){l(void 0,t[e],n,r,p,e,d)}))}d.length=d.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":h(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,i,a=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":p(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function y(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||d(e,t,r)}))}function m(e){return"color: "+R[e].color+"; font-weight: bold"}function g(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,a=e.index,o=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",o];default:return[]}}function k(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=g(e);n.log.apply(n,["%c "+R[t].text,m(t)].concat(O(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function b(e,t,n,r){switch("undefined"==typeof e?"undefined":N(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,O(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+i.toFixed(2)+" ms)"),a.join(" ")}}function x(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,a=void 0===i?w(t):i,o=t.collapsed,u=t.colors,s=t.level,c=t.diff,l="undefined"==typeof t.titleFormatter;e.forEach((function(i,f){var h=i.started,d=i.startedTime,p=i.action,v=i.prevState,y=i.error,m=i.took,g=i.nextState,w=e[f+1];w&&(g=w.prevState,m=w.started-h);var x=r(p),_="function"==typeof o?o((function(){return g}),p,i):o,E=C(d),S=u.title?"color: "+u.title(x)+";":"",I=["color: gray; font-weight: lighter;"];I.push(S),t.timestamp&&I.push("color: gray; font-weight: lighter;"),t.duration&&I.push("color: gray; font-weight: lighter;");var T=a(x,E,m);try{_?u.title&&l?n.groupCollapsed.apply(n,["%c "+T].concat(I)):n.groupCollapsed(T):u.title&&l?n.group.apply(n,["%c "+T].concat(I)):n.group(T)}catch(e){n.log(T)}var A=b(s,x,[v],"prevState"),N=b(s,x,[x],"action"),O=b(s,x,[y,v],"error"),P=b(s,x,[g],"nextState");if(A)if(u.prevState){var R="color: "+u.prevState(v)+"; font-weight: bold";n[A]("%c prev state",R,v)}else n[A]("prev state",v);if(N)if(u.action){var D="color: "+u.action(x)+"; font-weight: bold";n[N]("%c action    ",D,x)}else n[N]("action    ",x);if(y&&O)if(u.error){var L="color: "+u.error(y,v)+"; font-weight: bold;";n[O]("%c error     ",L,y)}else n[O]("error     ",y);if(P)if(u.nextState){var M="color: "+u.nextState(g)+"; font-weight: bold";n[P]("%c next state",M,g)}else n[P]("next state",g);c&&k(v,g,n,_);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},D,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,a=t.predicate,o=t.logErrors,u=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof a&&!a(n,c))return e(c);var l={};s.push(l),l.started=A.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(o)try{f=e(c)}catch(e){l.error=i(e)}else f=e(c);l.took=A.now()-l.started,l.nextState=r(n());var h=t.diff&&"function"==typeof u?u(n,c):t.diff;if(x(s,Object.assign({},t,{diff:h})),s.length=0,l.error)throw l.error;return f}}}}var E,S,I=function(e,t){return new Array(t+1).join(e)},T=function(e,t){return I("0",t-e.toString().length)+e},C=function(e){return T(e.getHours(),2)+":"+T(e.getMinutes(),2)+":"+T(e.getSeconds(),2)+"."+T(e.getMilliseconds(),3)},A="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},P=[];E="object"===("undefined"==typeof n.g?"undefined":N(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(S=E.DeepDiff)&&P.push((function(){"undefined"!=typeof S&&E.DeepDiff===f&&(E.DeepDiff=S,S=void 0)})),t(i,r),t(a,r),t(o,r),t(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof S},enumerable:!0},noConflict:{value:function(){return P&&(P.forEach((function(e){e()})),P=null),f},enumerable:!0}});var R={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},D={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?_()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=D,e.createLogger=_,e.logger=L,e.default=L,Object.defineProperty(e,"__esModule",{value:!0})}(t)},315:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(184))&&r.__esModule?r:{default:r}},184:function(e,t){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},752:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(315))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=y.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],C=1,A=null,N=3,O=!1,P=!1,R=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(I,t)}t=_(T)}}function L(e){if(R=!1,D(e),!P)if(null!==_(I))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,R&&(R=!1,i()),O=!0;var a=N;try{for(D(n),A=_(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===_(I)&&E(I),D(n)}else E(I);A=_(I)}if(null!==A)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,O=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(I)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(I)&&e===_(T)&&(R?i():R=!0,r(L,o-u))):(e.sortIndex=s,x(I,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},268:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/crwn-clothing/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return xa},SDK_VERSION:function(){return ko},_DEFAULT_ENTRY_NAME:function(){return ao},_addComponent:function(){return co},_addOrOverwriteComponent:function(){return lo},_apps:function(){return uo},_clearComponents:function(){return vo},_components:function(){return so},_getProvider:function(){return ho},_registerComponent:function(){return fo},_removeServiceInstance:function(){return po},deleteApp:function(){return _o},getApp:function(){return wo},getApps:function(){return xo},initializeApp:function(){return bo},onLog:function(){return Io},registerVersion:function(){return So},setLogLevel:function(){return To}});var t=n(791),r=n(164);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}var o=n(7),u=n.n(o);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e){return"/"===e.charAt(0)}function l(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&c(e),a=t&&c(t),o=i||a;if(e&&c(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var u=void 0;if(r.length){var s=r[r.length-1];u="."===s||".."===s||""===s}else u=!1;for(var f=0,h=r.length;h>=0;h--){var d=r[h];"."===d?l(r,h):".."===d?(l(r,h),f++):f&&(l(r,h),f--)}if(!o)for(;f--;f)r.unshift("..");!o||""===r[0]||r[0]&&c(r[0])||r.unshift("");var p=r.join("/");return u&&"/"!==p.substr(-1)&&(p+="/"),p},h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var d=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));var r="undefined"===typeof t?"undefined":h(t);if(r!==("undefined"===typeof n?"undefined":h(n)))return!1;if("object"===r){var i=t.valueOf(),a=n.valueOf();if(i!==t||a!==n)return e(i,a);var o=Object.keys(t),u=Object.keys(n);return o.length===u.length&&o.every((function(r){return e(t[r],n[r])}))}return!1},p="Invariant failed";var v=function(e,t){if(!e)throw new Error(p)};function y(e){return"/"===e.charAt(0)?e:"/"+e}function m(e){return"/"===e.charAt(0)?e.substr(1):e}function g(e,t){return function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}(e,t)?e.substr(t.length):e}function k(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function b(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function w(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=s({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=f(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function x(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&d(e.state,t.state)}function _(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var E=!("undefined"===typeof window||!window.document||!window.document.createElement);function S(e,t){t(window.confirm(e))}var I="popstate",T="hashchange";function C(){try{return window.history.state||{}}catch(e){return{}}}function A(e){void 0===e&&(e={}),E||v(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,c=void 0===u?S:u,l=i.keyLength,f=void 0===l?6:l,h=e.basename?k(y(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=g(a,h)),w(a,r,n)}function p(){return Math.random().toString(36).substr(2,f)}var m=_();function x(e){s(V,e),V.length=t.length,m.notifyListeners(V.location,V.action)}function A(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||P(d(e.state))}function N(){P(d(C()))}var O=!1;function P(e){if(O)O=!1,x();else{m.confirmTransitionTo(e,"POP",c,(function(t){t?x({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(O=!0,M(i))}(e)}))}}var R=d(C()),D=[R.key];function L(e){return h+b(e)}function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?(window.addEventListener(I,A),r&&window.addEventListener(T,N)):0===F&&(window.removeEventListener(I,A),r&&window.removeEventListener(T,N))}var U=!1;var V={length:t.length,action:"POP",location:R,createHref:L,push:function(e,r){var i="PUSH",a=w(e,r,p(),V.location);m.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,-1===c?0:c+1);l.push(a.key),D=l,x({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=w(e,r,p(),V.location);m.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),x({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=m.appendListener(e);return j(1),function(){j(-1),t()}}};return V}var N="hashchange",O={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+m(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:m,decodePath:y},slash:{encodePath:y,decodePath:y}};function P(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function R(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)}function D(e){void 0===e&&{},E||v(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?S:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?k(y(e.basename)):"",c=O[o],l=c.encodePath,f=c.decodePath;function h(){var e=f(P());return u&&g(e,u),w(e)}var d=_();function p(e){s(V,e),V.length=t.length,d.notifyListeners(V.location,V.action)}var m=!1,I=null;function T(){var e=P(),t=l(e);if(e!==t)R(t);else{var n=h(),r=V.location;if(!m&&x(r,n))return;if(I===b(n))return;null,function(e){if(m)!1,p();else{var t="POP";d.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(b(t));-1===n&&0;var r=L.lastIndexOf(b(e));-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}(n)}}var C=P(),A=l(C);C!==A&&R(A);var D=h(),L=[b(D)];function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?window.addEventListener(N,T):0===F&&window.removeEventListener(N,T)}var U=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){return"#"+l(u+b(e))},push:function(e,t){var n="PUSH",r=w(e,void 0,void 0,V.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=b(r),i=l(u+t);if(P()!==i){t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(b(V.location)),o=L.slice(0,-1===a?0:a+1);o.push(t),o,p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=w(e,void 0,void 0,V.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=b(r),i=l(u+t);P()!==i&&(t,R(i));var a=L.indexOf(b(V.location));-1!==a&&(L[a]=t),p({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=d.setPrompt(e);return U||(j(1),!0),function(){return U&&(!1,j(-1)),t()}},listen:function(e){var t=d.appendListener(e);return j(1),function(){j(-1),t()}}};return V}function L(e,t,n){return Math.min(Math.max(e,t),n)}function M(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=_();function f(e){s(m,e),m.length=m.entries.length,l.notifyListeners(m.location,m.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=L(o,0,i.length-1),p=i.map((function(e){return w(e,void 0,"string"===typeof e?h():e.key||h())})),v=b;function y(e){var t=L(m.index+e,0,m.entries.length-1),r=m.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var m={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=w(e,t,h(),m.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=w(e,t,h(),m.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(m.entries[m.index]=i,f({action:r,location:i}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return m}var F=1073741823,j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function U(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var V=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return j[e]=(j[e]||0)+1}()+"__",s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=U(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):F,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);s.childContextTypes=((r={})[o]=u().object.isRequired,r);var c=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?F:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?F:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return c.contextTypes=((i={})[o]=u().object,i),{Provider:s,Consumer:c}},B=V;function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}var q=n(151),H=n.n(q),W=n(441);function K(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var G=n(110),$=n.n(G),Q=function(e){var t=B();return t.displayName=e,t},Y=Q("Router-History"),X=Q("Router"),J=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(X.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Y.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var Z=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var ee={},te=0;function ne(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(ee[e])return ee[e];var t=H().compile(e);return te<1e4&&(ee[e]=t,te++),t}(e)(t,{pretty:!0})}function re(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(X.Consumer,null,(function(e){e||v(!1);var i=e.history,o=e.staticContext,u=a?i.push:i.replace,s=w(n?"string"===typeof r?ne(r,n.params):z({},r,{pathname:ne(r.pathname,n.params)}):r);return o?(u(s),null):t.createElement(Z,{onMount:function(){u(s)},onUpdate:function(e,t){var n=w(t.to);x(n,z({},s,{key:n.key}))||u(s)},to:r})}))}var ie={},ae=0;function oe(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ie[n]||(ie[n]={});if(r[e])return r[e];var i=[],a={regexp:H()(e,i,t),keys:i};return ae<1e4&&(r[e]=a,ae++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var ue=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(X.Consumer,null,(function(n){n||v(!1);var r=e.props.location||n.location,i=z({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?oe(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(X.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function se(e){return"/"===e.charAt(0)?e:"/"+e}function ce(e,t){if(!e)return t;var n=se(e);return 0!==t.pathname.indexOf(n)?t:z({},t,{pathname:t.pathname.substr(n.length)})}function le(e){return"string"===typeof e?e:b(e)}function fe(e){return function(){v(!1)}}function he(){}t.Component;var de=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(X.Consumer,null,(function(n){n||v(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?oe(a.pathname,z({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);function pe(e){var n="withRouter("+(e.displayName||e.name)+")",r=function(n){var r=n.wrappedComponentRef,i=K(n,["wrappedComponentRef"]);return t.createElement(X.Consumer,null,(function(n){return n||v(!1),t.createElement(e,z({},i,n,{ref:r}))}))};return r.displayName=n,r.WrappedComponent=e,$()(r,e)}t.useContext;var ve=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=A(t.props),t}return a(n,e),n.prototype.render=function(){return t.createElement(J,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var ye=function(e,t){return"function"===typeof e?e(t):e},me=function(e,t){return"string"===typeof e?w(e,null,null,t):e},ge=function(e){return e},ke=t.forwardRef;"undefined"===typeof ke&&(ke=ge);var be=ke((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=K(e,["innerRef","navigate","onClick"]),u=o.target,s=z({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=ge!==ke&&n||r,t.createElement("a",s)}));var we=ke((function(e,n){var r=e.component,i=void 0===r?be:r,a=e.replace,o=e.to,u=e.innerRef,s=K(e,["component","replace","to","innerRef"]);return t.createElement(X.Consumer,null,(function(e){e||v(!1);var r=e.history,c=me(ye(o,e.location),e.location),l=c?r.createHref(c):"",f=z({},s,{href:l,navigate:function(){var t=ye(o,e.location),n=b(e.location)===b(me(t));(a||n?r.replace:r.push)(t)}});return ge!==ke?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),xe=function(e){return e},_e=t.forwardRef;"undefined"===typeof _e&&(_e=xe);_e((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,y=e.to,m=e.innerRef,g=K(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(X.Consumer,null,(function(e){e||v(!1);var r=f||e.location,a=me(ye(y,r),r),k=a.pathname,b=k&&k.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?oe(r.pathname,{path:b,exact:c,sensitive:h,strict:d}):null,x=!!(l?l(w,r):w),_="function"===typeof s?s(x):s,E="function"===typeof p?p(x):p;x&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,o),E=z({},E,u));var S=z({"aria-current":x&&i||null,className:_,style:E,to:a},g);return xe!==_e?S.ref=n||m:S.innerRef=m,t.createElement(we,S)}))}));var Ee=t.createContext(null);var Se=function(e){e()},Ie=function(){return Se};var Te={notify:function(){},get:function(){return[]}};function Ce(e,t){var n,r=Te;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Ie(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Te)},getListeners:function(){return r}};return o}var Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var Ne=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var e=Ce(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);Ae((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var u=r||Ee;return t.createElement(u.Provider,{value:a},i)},Oe=n(93),Pe=n.n(Oe),Re=n(900),De=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Le=["reactReduxForwardedRef"],Me=[],Fe=[null,null];function je(e,t){var n=e[1];return[t.payload,n+1]}function Ue(e,t,n){Ae((function(){return e.apply(void 0,t)}),n)}function Ve(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function Be(e,t,n,r,i,a,o,u,s,c){if(e){var l=!1,f=null,h=function(){if(!l){var e,n,h=t.getState();try{e=r(h,i.current)}catch(d){n=d,f=d}n||(f=null),e===a.current?o.current||s():(a.current=e,u.current=e,o.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var ze=function(){return[null,0]};function qe(e,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,o=r.methodName,u=void 0===o?"connectAdvanced":o,s=r.renderCountProp,c=void 0===s?void 0:s,l=r.shouldHandleStateChanges,f=void 0===l||l,h=r.storeKey,d=void 0===h?"store":h,p=(r.withRef,r.forwardRef),v=void 0!==p&&p,y=r.context,m=void 0===y?Ee:y,g=K(r,De),k=m;return function(n){var r=n.displayName||n.name||"Component",i=a(r),o=z({},g,{getDisplayName:a,methodName:u,renderCountProp:c,shouldHandleStateChanges:f,storeKey:d,displayName:i,wrappedComponentName:r,WrappedComponent:n}),s=g.pure;var l=s?t.useMemo:function(e){return e()};function h(r){var i=(0,t.useMemo)((function(){var e=r.reactReduxForwardedRef,t=K(r,Le);return[r.context,e,t]}),[r]),a=i[0],u=i[1],s=i[2],c=(0,t.useMemo)((function(){return a&&a.Consumer&&(0,Re.isContextConsumer)(t.createElement(a.Consumer,null))?a:k}),[a,k]),h=(0,t.useContext)(c),d=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(h)&&Boolean(h.store);var p=d?r.store:h.store,v=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,o)}(p)}),[p]),y=(0,t.useMemo)((function(){if(!f)return Fe;var e=Ce(p,d?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,d,h]),m=y[0],g=y[1],b=(0,t.useMemo)((function(){return d?h:z({},h,{subscription:m})}),[d,h,m]),w=(0,t.useReducer)(je,Me,ze),x=w[0][0],_=w[1];if(x&&x.error)throw x.error;var E=(0,t.useRef)(),S=(0,t.useRef)(s),I=(0,t.useRef)(),T=(0,t.useRef)(!1),C=l((function(){return I.current&&s===S.current?I.current:v(p.getState(),s)}),[p,x,s]);Ue(Ve,[S,E,T,s,C,I,g]),Ue(Be,[f,p,m,v,S,E,T,I,g,_],[p,m,v]);var A=(0,t.useMemo)((function(){return t.createElement(n,z({},C,{ref:u}))}),[u,n,C]);return(0,t.useMemo)((function(){return f?t.createElement(c.Provider,{value:b},A):A}),[c,A,b])}var p=s?t.memo(h):h;if(p.WrappedComponent=n,p.displayName=h.displayName=i,v){var y=t.forwardRef((function(e,n){return t.createElement(p,z({},e,{reactReduxForwardedRef:n}))}));return y.displayName=i,y.WrappedComponent=n,Pe()(y,n)}return Pe()(p,n)}}function He(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function We(e,t){if(He(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!He(e[n[i]],t[n[i]]))return!1;return!0}function Ke(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Ge(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function $e(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Ge(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Ge(i),i=r(t,n)),i},r}}var Qe=[function(e){return"function"===typeof e?$e(e):void 0},function(e){return e?void 0:Ke((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?Ke((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var Ye=[function(e){return"function"===typeof e?$e(e):void 0},function(e){return e?void 0:Ke((function(){return{}}))}];function Xe(e,t,n){return z({},n,e,t)}var Je=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,u){var s=e(t,n,u);return o?i&&a(s,r)||(r=s):(o=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return Xe}}],Ze=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function et(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function tt(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a);return a=i,o=d,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!h(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return d?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),d=!0,c)}}function nt(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=K(t,Ze),o=n(e,a),u=r(e,a),s=i(e,a);return(a.pure?tt:et)(o,u,s,e,a)}var rt=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function it(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function at(e,t){return e===t}function ot(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?qe:n,i=t.mapStateToPropsFactories,a=void 0===i?Ye:i,o=t.mapDispatchToPropsFactories,u=void 0===o?Qe:o,s=t.mergePropsFactories,c=void 0===s?Je:s,l=t.selectorFactory,f=void 0===l?nt:l;return function(e,t,n,i){void 0===i&&(i={});var o=i,s=o.pure,l=void 0===s||s,h=o.areStatesEqual,d=void 0===h?at:h,p=o.areOwnPropsEqual,v=void 0===p?We:p,y=o.areStatePropsEqual,m=void 0===y?We:y,g=o.areMergedPropsEqual,k=void 0===g?We:g,b=K(o,rt),w=it(e,a,"mapStateToProps"),x=it(t,u,"mapDispatchToProps"),_=it(n,c,"mergeProps");return r(f,z({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:x,initMergeProps:_,pure:l,areStatesEqual:d,areOwnPropsEqual:v,areStatePropsEqual:m,areMergedPropsEqual:k},b))}}var ut=ot();var st;function ct(e){return ct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return!t||"object"!==ct(t)&&"function"!==typeof t?pt(e):t}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(e)}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e,t){return vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vt(e,t)}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}st=r.unstable_batchedUpdates,Se=st;var mt=function(e){function t(){var e,n;lt(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return yt(pt(n=ht(this,(e=dt(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),yt(pt(n),"_unsubscribe",void 0),yt(pt(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&ft(n.prototype,r),i&&ft(n,i),t}(t.PureComponent);function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}yt(mt,"defaultProps",{children:null,loading:null});var xt="function"===typeof Symbol&&Symbol.observable||"@@observable",_t=function(){return Math.random().toString(36).substring(7).split("").join(".")},Et={INIT:"@@redux/INIT"+_t(),REPLACE:"@@redux/REPLACE"+_t(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_t()}};function St(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function It(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(wt(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(wt(1));return n(It)(e,t)}if("function"!==typeof e)throw new Error(wt(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(wt(3));return a}function f(e){if("function"!==typeof e)throw new Error(wt(4));if(s)throw new Error(wt(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(wt(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!St(e))throw new Error(wt(7));if("undefined"===typeof e.type)throw new Error(wt(8));if(s)throw new Error(wt(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(wt(10));i=e,h({type:Et.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(wt(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[xt]=function(){return this},e}return h({type:Et.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[xt]=p,r}function Tt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Ct="persist:",At="persist/FLUSH",Nt="persist/REHYDRATE",Ot="persist/PAUSE",Pt="persist/PERSIST",Rt="persist/PURGE",Dt="persist/REGISTER";function Lt(e){return Lt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(n,!0).forEach((function(t){Ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===Lt(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function Ut(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],a=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:Ct).concat(e.key),u=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:Vt;var s=e.writeFailHandler||null,c={},l={},f=[],h=null,d=null;function p(){if(0===f.length)return h&&clearInterval(h),void(h=null);var e=f.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{l[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete l[e];0===f.length&&(Object.keys(l).forEach((function(e){void 0===c[e]&&delete l[e]})),d=u.setItem(o,t(l)).catch(y))}function v(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function y(e){s&&s(e)}return{update:function(e){Object.keys(e).forEach((function(t){v(t)&&c[t]!==e[t]&&-1===f.indexOf(t)&&f.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&v(t)&&-1===f.indexOf(t)&&void 0!==c[t]&&f.push(t)})),null===h&&(h=setInterval(p,a)),c=e},flush:function(){for(;0!==f.length;)p();return d||Promise.resolve()}}}function Vt(e){return JSON.stringify(e)}function Bt(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:Ct).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:zt,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(a){throw a}}))}function zt(e){return JSON.parse(e)}function qt(e){0}function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(n,!0).forEach((function(t){Kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $t(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(n,!0).forEach((function(t){Xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jt={registry:[],bootstrapped:!1},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:return Yt({},e,{registry:[].concat($t(e.registry),[t.key])});case Nt:var n=e.registry.indexOf(t.key),r=$t(e.registry);return r.splice(n,1),Yt({},e,{registry:r,bootstrapped:0===r.length});default:return e}};n(896);function en(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var tn=en();tn.withExtraArgument=en;var nn=tn,rn=n(752),an="SET_CURRENT_USER",on={currentUser:null},un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;return t.type===an?bt(bt({},e),{},{currentUser:t.payload}):e},sn={TOGGLE_CART_HIDDEN:"TOGGLE_CART_HIDDEN",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",CLEAR_ITEM_FROM_CART:"CLEAR_ITEM_FROM_CART"};function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ln(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function fn(e,t){if(e){if("string"===typeof e)return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}function hn(e){return function(e){if(Array.isArray(e))return cn(e)}(e)||ln(e)||fn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var dn=function(e,t){return e.find((function(e){return e.id===t.id}))?e.map((function(e){return e.id===t.id?bt(bt({},e),{},{quantity:e.quantity+1}):e})):[].concat(hn(e),[bt(bt({},t),{},{quantity:1})])},pn=function(e,t){return 1===e.find((function(e){return e.id===t.id})).quantity?e.filter((function(e){return e.id!==t.id})):e.map((function(e){return e.id===t.id?bt(bt({},e),{},{quantity:e.quantity-1}):e}))},vn={hidden:!0,cartItems:[]},yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sn.TOGGLE_CART_HIDDEN:return bt(bt({},e),{},{hidden:!e.hidden});case sn.ADD_ITEM:return bt(bt({},e),{},{cartItems:dn(e.cartItems,t.payload)});case sn.REMOVE_ITEM:return bt(bt({},e),{},{cartItems:pn(e.cartItems,t.payload)});case sn.CLEAR_ITEM_FROM_CART:return bt(bt({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload.id}))});default:return e}},mn={sections:[{title:"hats",imageUrl:"https://i.ibb.co/cvpntL1/hats.png",id:1,linkUrl:"shop/hats"},{title:"jackets",imageUrl:"https://i.ibb.co/px2tCc3/jackets.png",id:2,linkUrl:"shop/jackets"},{title:"sneakers",imageUrl:"https://i.ibb.co/0jqHpnp/sneakers.png",id:3,linkUrl:"shop/sneakers"},{title:"womens",imageUrl:"https://i.ibb.co/GCCdy8t/womens.png",size:"large",id:4,linkUrl:"shop/womens"},{title:"mens",imageUrl:"https://i.ibb.co/R70vBrQ/men.png",size:"large",id:5,linkUrl:"shop/mens"}]},gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;return t.type,e},kn={FETCH_COLLECTIONS_START:"FETCH_COLLECTIONS_START",FETCH_COLLECTIONS_SUCCESS:"FETCH_COLLECTIONS_SUCCESS",FETCH_COLLECTIONS_FAILURE:"FETCH_COLLECTIONS_FAILURE"},bn={collections:null,isFetching:!1,errorMessage:void 0},wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kn.FETCH_COLLECTIONS_START:return bt(bt({},e),{},{isFetching:!0});case kn.FETCH_COLLECTIONS_SUCCESS:return bt(bt({},e),{},{isFetching:!1,collections:t.payload});case kn.FETCH_COLLECTIONS_FAILURE:return bt(bt({},e),{},{isFetching:!1,errorMessage:t.payload});default:return e}},xn={key:"root",storage:rn.Z,whitelist:["cart"]},_n=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Et.INIT}))throw new Error(wt(12));if("undefined"===typeof n(void 0,{type:Et.PROBE_UNKNOWN_ACTION()}))throw new Error(wt(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(wt(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({user:un,cart:yn,directory:gn,shop:wn}),En=function(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?jt:e.stateReconciler),i=e.getStoredState||Bt,a=void 0!==e.timeout?e.timeout:5e3,o=null,u=!1,s=!0,c=function(e){return e._persist.rehydrated&&o&&!s&&o.update(e),e};return function(l,f){var h=l||{},d=h._persist,p=Gt(h,["_persist"]);if(f.type===Pt){var v=!1,y=function(t,n){v||(f.rehydrate(e.key,t,n),v=!0)};if(a&&setTimeout((function(){!v&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),a),s=!1,o||(o=Ut(e)),d)return Wt({},t(p,f),{_persist:d});if("function"!==typeof f.rehydrate||"function"!==typeof f.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(e.key),i(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then((function(e){y(e)}),(function(e){y(void 0,e)}))}),(function(e){y(void 0,e)})),Wt({},t(p,f),{_persist:{version:n,rehydrated:!1}})}if(f.type===Rt)return u=!0,f.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:Ct).concat(e.key);return t.removeItem(n,qt)}(e)),Wt({},t(p,f),{_persist:d});if(f.type===At)return f.result(o&&o.flush()),Wt({},t(p,f),{_persist:d});if(f.type===Ot)s=!0;else if(f.type===Nt){if(u)return Wt({},p,{_persist:Wt({},d,{rehydrated:!0})});if(f.key===e.key){var m=t(p,f),g=f.payload,k=Wt({},!1!==r&&void 0!==g?r(g,l,m,e):m,{_persist:Wt({},d,{rehydrated:!0})});return c(k)}}if(!d)return t(l,f);var b=t(p,f);return b===p?l:c(Wt({},b,{_persist:d}))}}(xn,_n);var Sn=It(En,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(wt(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Tt.apply(void 0,a)(n.dispatch),bt(bt({},n),{},{dispatch:r})}}}.apply(void 0,[nn])),In=function(e,t,n){var r=n||!1,i=It(Zt,Jt,t&&t.enhancer?t.enhancer:void 0),a=function(e){i.dispatch({type:Dt,key:e})},o=function(t,n,a){var o={type:Nt,payload:n,err:a,key:t};e.dispatch(o),i.dispatch(o),r&&u.getState().bootstrapped&&(r(),r=!1)},u=Yt({},i,{purge:function(){var t=[];return e.dispatch({type:Rt,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:At,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:Ot})},persist:function(){e.dispatch({type:Pt,register:a,rehydrate:o})}});return t&&t.manualPersist||u.persist(),u}(Sn);function Tn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Cn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Tn(a,r,i,o,u,"next",e)}function u(e){Tn(a,r,i,o,u,"throw",e)}o(void 0)}))}}function An(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e,t,n){return t&&Nn(e.prototype,t),n&&Nn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function Rn(e){return Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rn(e)}function Dn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ln(e){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(e)}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(e,t){if(t&&("object"===Ln(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mn(e)}function jn(e){var t=Dn();return function(){var n,r=Rn(e);if(t){var i=Rn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fn(this,n)}}var Un=n(757),Vn=n.n(Un),Bn="NOT_FOUND";var zn=function(e,t){return e===t};function qn(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?zn:r,a=n.maxSize,o=void 0===a?1:a,u=n.resultEqualityCheck,s=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),c=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:Bn},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(s):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return Bn}return{get:r,put:function(t,i){r(t)===Bn&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,s);function l(){var t=c.get(arguments);if(t===Bn){if(t=e.apply(null,arguments),u){var n=c.getEntries(),r=n.find((function(e){return u(e.value,t)}));r&&(t=r.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}function Hn(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function Wn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,u={memoizeOptions:void 0},s=r.pop();if("object"===typeof s&&(u=s,s=r.pop()),"function"!==typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var c=u,l=c.memoizeOptions,f=void 0===l?n:l,h=Array.isArray(f)?f:[f],d=Hn(r),p=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(h)),v=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return a=p.apply(null,e)}));return Object.assign(v,{resultFunc:s,memoizedResultFunc:p,dependencies:d,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),v};return i}var Kn=Wn(qn),Gn=function(e,t){if(void 0===t&&(t=Kn),"object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r};function $n(e,t){if(null==e)return{};var n,r,i=K(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Qn=Kn([function(e){return e.directory}],(function(e){return e.sections})),Yn=n(329),Xn=pe((function(e){var t=e.title,n=e.imageUrl,r=e.size,i=e.history,a=e.linkUrl,o=e.match;return(0,Yn.jsxs)("div",{className:"".concat(r," menu-item"),onClick:function(){return i.push("".concat(o.url).concat(a))},children:[(0,Yn.jsx)("div",{className:"background-image",style:{backgroundImage:"url(".concat(n,")")}}),(0,Yn.jsxs)("div",{className:"content",children:[(0,Yn.jsx)("h1",{className:"title",children:t.toUpperCase()}),(0,Yn.jsx)("span",{className:"subtitle",children:"SHOP NOW"})]})]})})),Jn=["id"],Zn=ut(Gn({sections:Qn}))((function(e){var t=e.sections;return(0,Yn.jsx)("div",{className:"directory-menu",children:t.map((function(e){var t=e.id,n=$n(e,Jn);return(0,Yn.jsx)(Xn,bt({},n),t)}))})}));function er(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var tr=n(613),nr=n.n(tr);var rr=function(e){function t(e,r,s,c,h){for(var d,p,v,y,b,x=0,_=0,E=0,S=0,I=0,P=0,D=v=d=0,M=0,F=0,j=0,U=0,V=s.length,B=V-1,z="",q="",H="",W="";M<V;){if(p=s.charCodeAt(M),M===B&&0!==_+S+E+x&&(0!==_&&(p=47===_?10:47),S=E=x=0,V++,B++),0===_+S+E+x){if(M===B&&(0<F&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<B;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=O}if(U=(v=t(r,F,v,p,h+1)).length,0<R&&(b=u(3,v,F=n(O,z,j),r,C,T,U,p,h,c),z=F.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(m,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,j),v,c,h+1);H+=v,v=j=F=D=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(z=(0<F?z.replace(f,""):z).trim()).length))switch(0===D&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<R&&void 0!==(b=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(U=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=z+s.charAt(M);break}default:58!==z.charCodeAt(U-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}j=F=D=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<z.length&&(F=1,z+="\0"),0<R*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+S+E+x){T++;break}default:switch(T++,y=s.charAt(M),p){case 9:case 32:if(0===S+x+_)switch(I){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===S+_+x&&(F=j=1,y="\f"+y);break;case 108:if(0===S+_+x+A&&0<D)switch(M-D){case 2:112===I&&58===s.charCodeAt(M-3)&&(A=I);case 8:111===P&&(A=P)}break;case 58:0===S+_+x&&(D=M);break;case 44:0===_+E+S+x&&(F=1,y+="\r");break;case 34:case 39:0===_&&(S=S===p?0:0===S?p:S);break;case 91:0===S+_+E&&x++;break;case 93:0===S+_+E&&x--;break;case 41:0===S+_+x&&E--;break;case 40:if(0===S+_+x){if(0===d)if(2*I+3*P===533);else d=1;E++}break;case 64:0===_+E+S+x+D+v&&(v=1);break;case 42:case 47:if(!(0<S+x+E))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===I&&U+2!==M&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,M+1)),y="",_=0)}}0===_&&(z+=y)}P=I,I=p,M++}if(0<(U=q.length)){if(F=r,0<R&&(void 0!==(b=u(2,q,F,e,C,T,U,c,h,c))&&0===(q=b).length))return W+q+H;if(q=F.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return W+q+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(I,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<R;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?N=1:(N=2,D=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(O,r,n,0,0);return 0<R&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,O=[],P=[],R=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:R=P.length=0;break;default:if("function"===typeof t)P[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},ir={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ar=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},or=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ur=ar((function(e){return or.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),sr=n(268),cr=n.n(sr);function lr(){return(lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var fr=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},hr=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,W.typeOf)(e)},dr=Object.freeze([]),pr=Object.freeze({});function vr(e){return"function"==typeof e}function yr(e){return e.displayName||e.name||"Component"}function mr(e){return e&&"string"==typeof e.styledComponentId}var gr="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",kr="undefined"!=typeof window&&"HTMLElement"in window,br=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var xr=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&wr(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),_r=new Map,Er=new Map,Sr=1,Ir=function(e){if(_r.has(e))return _r.get(e);for(;Er.has(Sr);)Sr++;var t=Sr++;return _r.set(e,t),Er.set(t,e),t},Tr=function(e){return Er.get(e)},Cr=function(e,t){t>=Sr&&(Sr=t+1),_r.set(e,t),Er.set(t,e)},Ar="style["+gr+'][data-styled-version="5.3.3"]',Nr=new RegExp("^"+gr+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Or=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Pr=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(Nr);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(Cr(c,s),Or(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},Rr=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Dr=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(gr))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(gr,"active"),r.setAttribute("data-styled-version","5.3.3");var o=Rr();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Lr=function(){function e(e){var t=this.element=Dr(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}wr(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Mr=function(){function e(e){var t=this.element=Dr(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Fr=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),jr=kr,Ur={isServer:!kr,useCSSOMInjection:!br},Vr=function(){function e(e,t,n){void 0===e&&(e=pr),void 0===t&&(t={}),this.options=lr({},Ur,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&kr&&jr&&(jr=!1,function(e){for(var t=document.querySelectorAll(Ar),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(gr)&&(Pr(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Ir(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(lr({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Fr(i):r?new Lr(i):new Mr(i),new xr(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Ir(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Ir(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Ir(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Tr(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=gr+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Br=/(a)(d)/gi,zr=function(e){return String.fromCharCode(e+(e>25?39:97))};function qr(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=zr(t%52)+n;return(zr(t%52)+n).replace(Br,"$1-$2")}var Hr=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Wr=function(e){return Hr(5381,e)};function Kr(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(vr(n)&&!mr(n))return!1}return!0}var Gr=Wr("5.3.3"),$r=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Kr(e),this.componentId=t,this.baseHash=Hr(Gr,t),this.baseStyle=n,Vr.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=hi(this.rules,e,t,n).join(""),o=qr(Hr(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=Hr(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=hi(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Hr(c,p+f),l+=p}}if(l){var v=qr(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),Qr=/^\s*\/\/.*$/gm,Yr=[":","[",".","#"];function Xr(e){var t,n,r,i,a=void 0===e?pr:e,o=a.options,u=void 0===o?pr:o,s=a.plugins,c=void 0===s?dr:s,l=new rr(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==Yr.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(Qr,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||wr(15),Hr(e,t.name)}),5381).toString():"",p}var Jr=t.createContext(),Zr=(Jr.Consumer,t.createContext()),ei=(Zr.Consumer,new Vr),ti=Xr();function ni(){return(0,t.useContext)(Jr)||ei}function ri(){return(0,t.useContext)(Zr)||ti}function ii(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=ni(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return Xr({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){nr()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(Jr.Provider,{value:o},t.createElement(Zr.Provider,{value:u},e.children))}var ai=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ti);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return wr(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ti),this.name+e.hash},e}(),oi=/([A-Z])/,ui=/([A-Z])/g,si=/^ms-/,ci=function(e){return"-"+e.toLowerCase()};function li(e){return oi.test(e)?e.replace(ui,ci).replace(si,"-ms-"):e}var fi=function(e){return null==e||!1===e||""===e};function hi(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=hi(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return fi(e)?"":mr(e)?"."+e.styledComponentId:vr(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:hi(e(t),t,n,r):e instanceof ai?n?(e.inject(n,r),e.getName(r)):e:hr(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!fi(t[o])&&(Array.isArray(t[o])&&t[o].isCss||vr(t[o])?a.push(li(o)+":",t[o],";"):hr(t[o])?a.push.apply(a,e(t[o],o)):a.push(li(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in ir?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var di=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function pi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vr(e)||hr(e)?di(hi(fr(dr,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:di(hi(fr(e,n)))}new Set;var vi=function(e,t,n){return void 0===n&&(n=pr),e.theme!==n.theme&&e.theme||t||n.theme},yi=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,mi=/(^-|-$)/g;function gi(e){return e.replace(yi,"-").replace(mi,"")}var ki=function(e){return qr(Wr(e)>>>0)};function bi(e){return"string"==typeof e&&!0}var wi=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},xi=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function _i(e,t,n){var r=e[n];wi(t)&&wi(r)?Ei(r,t):e[n]=t}function Ei(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(wi(o))for(var u in o)xi(u)&&_i(e,o[u],u)}return e}var Si=t.createContext();Si.Consumer;var Ii={};function Ti(e,n,r){var i=mr(e),a=!bi(e),o=n.attrs,u=void 0===o?dr:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":gi(e);Ii[n]=(Ii[n]||0)+1;var r=n+"-"+ki("5.3.3"+n+Ii[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return bi(e)?"styled."+e:"Styled("+yr(e)+")"}(e):l,h=n.displayName&&n.componentId?gi(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,y=new $r(r,h,i?e.componentStyle:void 0),m=y.isStatic&&0===u.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=pr);var r=lr({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in vr(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(vi(n,(0,t.useContext)(Si),u)||pr,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=ni(),a=ri();return t?e.generateAndInjectStyles(pr,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),y=r,m=p.$as||n.$as||p.as||n.as||f,g=bi(m),k=p!==n?lr({},n,{},p):n,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,ur,m):!g||ur(w))&&(b[w]=k[w]));return n.style&&p.style!==n.style&&(b.style=lr({},n.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=y,(0,t.createElement)(m,b)}(v,e,n,m)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=y,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):dr,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(bi(e)?e:gi(yr(e)));return Ti(e,lr({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Ei({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&cr()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Ci=function(e){return function e(t,n,r){if(void 0===r&&(r=pr),!(0,W.isValidElementType)(n))return wr(1,String(n));var i=function(){return t(n,r,pi.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,lr({},r,{},i))},i.attrs=function(i){return e(t,n,lr({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Ti,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Ci[e]=Ci(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Kr(e),Vr.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(hi(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Vr.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Rr();return"<style "+[n&&'nonce="'+n+'"',gr+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?wr(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return wr(2);var r=((n={})[gr]="",n["data-styled-version"]="5.3.3",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=Rr();return i&&(r.nonce=i),[t.createElement("style",lr({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Vr({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?wr(2):t.createElement(ii,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return wr(3)}}();var Ai,Ni,Oi,Pi,Ri,Di=Ci,Li=Di.div(Ai||(Ai=er(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Mi=function(){return(0,Yn.jsx)(Li,{children:(0,Yn.jsx)(Zn,{})})},Fi=pi(Ni||(Ni=er(["\n  background-color: black;\n  color: white;\n  border: none;\n\n  &:hover {\n    background-color: white;\n    color: black;\n    border: 1px solid black;\n  }\n"]))),ji=pi(Oi||(Oi=er(["\n  background-color: white;\n  color: black;\n  border: 1px solid black;\n\n  &:hover {\n    background-color: black;\n    color: white;\n    border: none;\n  }\n"]))),Ui=pi(Pi||(Pi=er(["\n  background-color: #4285f4;\n  color: white;\n\n  &:hover {\n    background-color: #357ae8;\n    border: none;\n  }\n"]))),Vi=Di.button(Ri||(Ri=er(["\n  min-width: 165px;\n  width: auto;\n  height: 50px;\n  letter-spacing: 0.5px;\n  line-height: 50px;\n  padding: 0 35px 0 35px;\n  font-size: 15px;\n  text-transform: uppercase;\n  font-family: 'Open Sans Condensed';\n  font-weight: bolder;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n\n  ","\n"])),(function(e){return e.isGoogleSignIn?Ui:e.inverted?ji:Fi})),Bi=["children"],zi=function(e){var t=e.children,n=$n(e,Bi);return(0,Yn.jsx)(Vi,bt(bt({},n),{},{children:t}))},qi=function(){return{type:sn.TOGGLE_CART_HIDDEN}},Hi=function(e){return{type:sn.ADD_ITEM,payload:e}},Wi=ut(null,(function(e){return{addItem:function(t){return e(Hi(t))}}}))((function(e){var t=e.item,n=e.addItem,r=t.name,i=t.price,a=t.imageUrl;return(0,Yn.jsxs)("div",{className:"collection-item",children:[(0,Yn.jsx)("div",{className:"image",style:{backgroundImage:"url(".concat(a,")")}}),(0,Yn.jsxs)("div",{className:"collection-footer",children:[(0,Yn.jsx)("span",{className:"name",children:r}),(0,Yn.jsx)("span",{className:"price",children:i})]}),(0,Yn.jsx)(zi,{className:"custom-button",onClick:function(){return n(t)},inverted:!0,children:"Add to cart"})]})})),Ki=function(e){var t=e.title,n=e.items;return(0,Yn.jsxs)("div",{className:"collection-preview",children:[(0,Yn.jsx)("h1",{className:"title",children:t.toUpperCase()}),(0,Yn.jsx)("div",{className:"preview",children:n.filter((function(e,t){return t<4})).map((function(e){return(0,Yn.jsx)(Wi,{item:e},e.id)}))})]})},Gi=function(e){return e.shop},$i=Kn([Gi],(function(e){return e.collections})),Qi=Kn([$i],(function(e){return e?Object.keys(e).map((function(t){return e[t]})):[]})),Yi=Kn([Gi],(function(e){return e.isFetching})),Xi=Kn([Gi],(function(e){return!!e.collections})),Ji=["id"],Zi=ut(Gn({collections:Qi}))((function(e){var t=e.collections;return(0,Yn.jsx)("div",{className:"collections-overview",children:t.map((function(e){var t=e.id,n=$n(e,Ji);return(0,Yn.jsx)(Ki,bt({},n),t)}))})})),ea=ut((function(e,t){return{collection:(n=t.match.params.collectionId,Kn([$i],(function(e){return e?e[n]:null})))(e)};var n}))((function(e){var t=e.collection,n=t.title,r=t.items;return(0,Yn.jsxs)("div",{className:"collection-page",children:[(0,Yn.jsx)("h2",{className:"title",children:n}),(0,Yn.jsx)("div",{className:"items",children:r.map((function(e){return(0,Yn.jsx)(Wi,{item:e},e.id)}))})]})}));function ta(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=fn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function na(e){if(Array.isArray(e))return e}function ra(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ia(e,t){return na(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||fn(e,t)||ra()}function aa(e,t,n){return aa=Dn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},aa.apply(null,arguments)}function oa(e){var t="function"===typeof Map?new Map:void 0;return oa=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return aa(e,arguments,Rn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},oa(e)}var ua=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},sa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ua(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ca=function(e){return function(e){var t=ua(e);return sa.encodeByteArray(t,!0)}(e).replace(/\./g,"")},la=function(e){try{return sa.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function fa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&ha(n)&&(e[n]=fa(e[n],t[n]));return e}function ha(e){return"__proto__"!==e}var da=function(){function e(){var t=this;An(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return On(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function pa(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ca(JSON.stringify({alg:"none",type:"JWT"})),ca(JSON.stringify(a)),""].join(".")}function va(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ya(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(va())}function ma(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ga(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ka(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ba(){var e=va();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function wa(){return"object"===typeof indexedDB}var xa=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Mn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Mn(a),_a.prototype.create),a}return On(n)}(oa(Error)),_a=function(){function e(t,n,r){An(this,e),this.service=t,this.serviceName=n,this.errors=r}return On(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ea(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new xa(n,a,t);return o}}]),e}();function Ea(e,t){return e.replace(Sa,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Sa=/\{\$([^}]+)}/g;function Ia(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ta(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ca(u)&&Ca(s)){if(!Ta(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ca(e){return null!==e&&"object"===typeof e}function Aa(e){for(var t=[],n=function(){var e=ia(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Na(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=ia(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Oa(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Pa(e,t){var n=new Ra(e,t);return n.subscribe.bind(n)}var Ra=function(){function e(t,n){var r=this;An(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return On(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ta(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Da),void 0===r.error&&(r.error=Da),void 0===r.complete&&(r.complete=Da);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Da(){}function La(e){return e&&e._delegate?e._delegate:e}function Ma(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var Fa=function(){function e(t){An(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return On(e,[{key:"transaction",value:function(e,t){return new ja(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Ua(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),ja=function(){function e(t){var n=this;An(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return On(e,[{key:"objectStore",value:function(e){return new Ua(this._transaction.objectStore(e))}}]),e}(),Ua=function(){function e(t){An(this,e),this._store=t}return On(e,[{key:"index",value:function(e){return new Va(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Va(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Ma(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Ma(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Ma(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Ma(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Va=function(){function e(t){An(this,e),this._index=t}return On(e,[{key:"get",value:function(e){return Ma(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var Ba=function(){function e(t,n,r){An(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return On(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),za="[DEFAULT]",qa=function(){function e(t,n){An(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return On(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new da;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch(s){}var t,n=ta(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=ia(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Cn(Un.mark((function e(){var t;return Un.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(hn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),hn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ta(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=ia(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ta(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(nk){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===za?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(nk){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za;return this.component?this.component.multipleInstances?e:za:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ha,Wa,Ka=function(){function e(t){An(this,e),this.name=t,this.providers=new Map}return On(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new qa(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ga=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Wa||(Wa={}));var $a,Qa,Ya={debug:Wa.DEBUG,verbose:Wa.VERBOSE,info:Wa.INFO,warn:Wa.WARN,error:Wa.ERROR,silent:Wa.SILENT},Xa=Wa.INFO,Ja=(gt(Ha={},Wa.DEBUG,"log"),gt(Ha,Wa.VERBOSE,"log"),gt(Ha,Wa.INFO,"info"),gt(Ha,Wa.WARN,"warn"),gt(Ha,Wa.ERROR,"error"),Ha),Za=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ja[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},eo=function(){function e(t){An(this,e),this.name=t,this._logLevel=Xa,this._logHandler=Za,this._userLogHandler=null,Ga.push(this)}return On(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Wa))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ya[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wa.DEBUG].concat(t)),this._logHandler.apply(this,[this,Wa.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wa.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Wa.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wa.INFO].concat(t)),this._logHandler.apply(this,[this,Wa.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wa.WARN].concat(t)),this._logHandler.apply(this,[this,Wa.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wa.ERROR].concat(t)),this._logHandler.apply(this,[this,Wa.ERROR].concat(t))}}]),e}();var to=function(){function e(t){An(this,e),this.container=t}return On(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var no="@firebase/app",ro="0.7.19",io=new eo("@firebase/app"),ao="[DEFAULT]",oo=(gt($a={},no,"fire-core"),gt($a,"@firebase/app-compat","fire-core-compat"),gt($a,"@firebase/analytics","fire-analytics"),gt($a,"@firebase/analytics-compat","fire-analytics-compat"),gt($a,"@firebase/app-check","fire-app-check"),gt($a,"@firebase/app-check-compat","fire-app-check-compat"),gt($a,"@firebase/auth","fire-auth"),gt($a,"@firebase/auth-compat","fire-auth-compat"),gt($a,"@firebase/database","fire-rtdb"),gt($a,"@firebase/database-compat","fire-rtdb-compat"),gt($a,"@firebase/functions","fire-fn"),gt($a,"@firebase/functions-compat","fire-fn-compat"),gt($a,"@firebase/installations","fire-iid"),gt($a,"@firebase/installations-compat","fire-iid-compat"),gt($a,"@firebase/messaging","fire-fcm"),gt($a,"@firebase/messaging-compat","fire-fcm-compat"),gt($a,"@firebase/performance","fire-perf"),gt($a,"@firebase/performance-compat","fire-perf-compat"),gt($a,"@firebase/remote-config","fire-rc"),gt($a,"@firebase/remote-config-compat","fire-rc-compat"),gt($a,"@firebase/storage","fire-gcs"),gt($a,"@firebase/storage-compat","fire-gcs-compat"),gt($a,"@firebase/firestore","fire-fst"),gt($a,"@firebase/firestore-compat","fire-fst-compat"),gt($a,"fire-js","fire-js"),gt($a,"firebase","fire-js-all"),$a),uo=new Map,so=new Map;function co(e,t){try{e.container.addComponent(t)}catch(n){io.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function lo(e,t){e.container.addOrOverwriteComponent(t)}function fo(e){var t=e.name;if(so.has(t))return io.debug("There were multiple attempts to register component ".concat(t,".")),!1;so.set(t,e);var n,r=ta(uo.values());try{for(r.s();!(n=r.n()).done;){co(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ho(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function po(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ao;ho(e,t).clearInstance(n)}function vo(){so.clear()}var yo=(gt(Qa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),gt(Qa,"bad-app-name","Illegal App name: '{$appName}"),gt(Qa,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),gt(Qa,"app-deleted","Firebase App named '{$appName}' already deleted"),gt(Qa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),gt(Qa,"invalid-log-argument","First argument to `onLog` must be null or a function."),gt(Qa,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),gt(Qa,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),gt(Qa,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),gt(Qa,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Qa),mo=new _a("app","Firebase",yo),go=function(){function e(t,n,r){var i=this;An(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ba("app",(function(){return i}),"PUBLIC"))}return On(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}}]),e}(),ko="9.6.9";function bo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ao,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw mo.create("bad-app-name",{appName:String(i)});var a=uo.get(i);if(a){if(Ta(e,a.options)&&Ta(r,a.config))return a;throw mo.create("duplicate-app",{appName:i})}var o,u=new Ka(i),s=ta(so.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new go(e,r,u);return uo.set(i,l),l}function wo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ao,t=uo.get(e);if(!t)throw mo.create("no-app",{appName:e});return t}function xo(){return Array.from(uo.values())}function _o(e){return Eo.apply(this,arguments)}function Eo(){return Eo=Cn(Un.mark((function e(t){var n;return Un.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!uo.has(n)){e.next=6;break}return uo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function So(e,t,n){var r,i=null!==(r=oo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void io.warn(u.join(" "))}fo(new Ba("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Io(e,t){if(null!==e&&"function"!==typeof e)throw mo.create("invalid-log-argument");!function(e,t){var n,r=ta(Ga);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ya[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Wa[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function To(e){var t;t=e,Ga.forEach((function(e){e.setLogLevel(t)}))}var Co="firebase-heartbeat-store",Ao=null;function No(){var e,t,n;return Ao||(Ao=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Co)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new Fa(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new Fa(a.result),e.oldVersion,e.newVersion,new ja(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw mo.create("storage-open",{originalErrorMessage:e.message})}))),Ao}function Oo(e){return Po.apply(this,arguments)}function Po(){return Po=Cn(Un.mark((function e(t){var n;return Un.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,No();case 3:return n=e.sent,e.abrupt("return",n.transaction(Co).objectStore(Co).get(Lo(t)));case 7:throw e.prev=7,e.t0=e.catch(0),mo.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Po.apply(this,arguments)}function Ro(e,t){return Do.apply(this,arguments)}function Do(){return Do=Cn(Un.mark((function e(t,n){var r,i,a;return Un.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,No();case 3:return r=e.sent,i=r.transaction(Co,"readwrite"),a=i.objectStore(Co),e.next=8,a.put(n,Lo(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),mo.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Do.apply(this,arguments)}function Lo(e){return"".concat(e.name,"!").concat(e.options.appId)}var Mo=function(){function e(t){var n=this;An(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Bo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return On(e,[{key:"triggerHeartbeat",value:function(){var e=Cn(Un.mark((function e(){var t,n,r;return Un.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Fo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Cn(Un.mark((function e(){var t,n,r,i,a;return Un.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Fo(),n=jo(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ca(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fo(){return(new Date).toISOString().substring(0,10)}function jo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ta(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),zo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),zo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Uo,Vo,Bo=function(){function e(t){An(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return On(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Cn(Un.mark((function e(){return Un.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wa()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Cn(Un.mark((function e(){var t;return Un.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Oo(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Cn(Un.mark((function e(t){var n,r;return Un.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ro(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Cn(Un.mark((function e(t){var n,r;return Un.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ro(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(hn(r.heartbeats),hn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function zo(e){return ca(JSON.stringify({version:2,heartbeats:e})).length}Uo="",fo(new Ba("platform-logger",(function(e){return new to(e)}),"PRIVATE")),fo(new Ba("heartbeat",(function(e){return new Mo(e)}),"PRIVATE")),So(no,ro,Uo),So(no,ro,"esm2017"),So("fire-js","");var qo=function(){function e(t,n){var r=this;An(this,e),this._delegate=t,this.firebase=n,co(t,new Ba("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return On(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),_o(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ao;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ao;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){co(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){lo(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ho=(gt(Vo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),gt(Vo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Vo),Wo=new _a("app-compat","Firebase",Ho);var Ko=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=bo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ia(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:So,setLogLevel:To,onLog:Io,apps:null,SDK_VERSION:ko,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(fo(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Wo.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&fa(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ia(n,e=e||ao))throw Wo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(qo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){fa(n,e)},createSubscribe:Pa,ErrorFactory:_a,deepExtend:fa}),n}(),Go=new eo("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Go.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var $o=self.firebase.SDK_VERSION;$o&&$o.indexOf("LITE")>=0&&Go.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Qo=Ko;!function(e){So("@firebase/app-compat","0.1.20",e)}();function Yo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rn(e)););return e}function Xo(){return Xo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Yo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Xo.apply(this,arguments)}Qo.registerVersion("firebase","9.6.9","app-compat");var Jo,Zo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},eu={},tu=tu||{},nu=Zo||self;function ru(){}function iu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function au(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ou="closure_uid_"+(1e9*Math.random()>>>0),uu=0;function su(e,t,n){return e.call.apply(e.bind,arguments)}function cu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function lu(e,t,n){return(lu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?su:cu).apply(null,arguments)}function fu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function hu(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function du(){this.s=this.s,this.o=this.o}var pu={};du.prototype.s=!1,du.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ou)&&e[ou]||(e[ou]=++uu)}(this);delete pu[e]}},du.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var vu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},yu=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function mu(e){return Array.prototype.concat.apply([],arguments)}function gu(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ku(e){return/^[\s\xa0]*$/.test(e)}var bu,wu=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function xu(e,t){return-1!=e.indexOf(t)}function _u(e,t){return e<t?-1:e>t?1:0}e:{var Eu=nu.navigator;if(Eu){var Su=Eu.userAgent;if(Su){bu=Su;break e}}bu=""}function Iu(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Tu(e){var t={};for(var n in e)t[n]=e[n];return t}var Cu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Au(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Cu.length;a++)n=Cu[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Nu(e){return Nu[" "](e),e}Nu[" "]=ru;var Ou,Pu=xu(bu,"Opera"),Ru=xu(bu,"Trident")||xu(bu,"MSIE"),Du=xu(bu,"Edge"),Lu=Du||Ru,Mu=xu(bu,"Gecko")&&!(xu(bu.toLowerCase(),"webkit")&&!xu(bu,"Edge"))&&!(xu(bu,"Trident")||xu(bu,"MSIE"))&&!xu(bu,"Edge"),Fu=xu(bu.toLowerCase(),"webkit")&&!xu(bu,"Edge");function ju(){var e=nu.document;return e?e.documentMode:void 0}e:{var Uu="",Vu=function(){var e=bu;return Mu?/rv:([^\);]+)(\)|;)/.exec(e):Du?/Edge\/([\d\.]+)/.exec(e):Ru?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Fu?/WebKit\/(\S+)/.exec(e):Pu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Vu&&(Uu=Vu?Vu[1]:""),Ru){var Bu=ju();if(null!=Bu&&Bu>parseFloat(Uu)){Ou=String(Bu);break e}}Ou=Uu}var zu,qu={};function Hu(){return function(e){var t=qu;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=wu(String(Ou)).split("."),n=wu("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=_u(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||_u(0==a[2].length,0==o[2].length)||_u(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(nu.document&&Ru){var Wu=ju();zu=Wu||(parseInt(Ou,10)||void 0)}else zu=void 0;var Ku=zu,Gu=function(){if(!nu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{nu.addEventListener("test",ru,t),nu.removeEventListener("test",ru,t)}catch(n){}return e}();function $u(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Qu(e,t){if($u.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Mu){e:{try{Nu(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Yu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Qu.Z.h.call(this)}}$u.prototype.h=function(){this.defaultPrevented=!0},hu(Qu,$u);var Yu={2:"touch",3:"pen",4:"mouse"};Qu.prototype.h=function(){Qu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xu="closure_listenable_"+(1e6*Math.random()|0),Ju=0;function Zu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ju,this.ca=this.fa=!1}function es(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ts(e){this.src=e,this.g={},this.h=0}function ns(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=vu(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(es(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function rs(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}ts.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=rs(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Zu(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var is="closure_lm_"+(1e6*Math.random()|0),as={};function os(e,t,n,r,i){if(r&&r.once)return ss(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)os(e,t[a],n,r,i);return null}return n=vs(n),e&&e[Xu]?e.N(t,n,au(r)?!!r.capture:!!r,i):us(e,t,n,!1,r,i)}function us(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=au(i)?!!i.capture:!!i,u=ds(e);if(u||(e[is]=u=new ts(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=hs;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Gu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ss(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ss(e,t[a],n,r,i);return null}return n=vs(n),e&&e[Xu]?e.O(t,n,au(r)?!!r.capture:!!r,i):us(e,t,n,!0,r,i)}function cs(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)cs(e,t[a],n,r,i);else r=au(r)?!!r.capture:!!r,n=vs(n),e&&e[Xu]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=rs(a=e.g[t],n,r,i))&&(es(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ds(e))&&(t=e.g[t.toString()],e=-1,t&&(e=rs(t,n,r,i)),(n=-1<e?t[e]:null)&&ls(n))}function ls(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Xu])ns(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ds(t))?(ns(n,e),0==n.h&&(n.src=null,t[is]=null)):es(e)}}}function fs(e){return e in as?as[e]:as[e]="on"+e}function hs(e,t){if(e.ca)e=!0;else{t=new Qu(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ls(e),e=n.call(r,t)}return e}function ds(e){return(e=e[is])instanceof ts?e:null}var ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function vs(e){return"function"===typeof e?e:(e[ps]||(e[ps]=function(t){return e.handleEvent(t)}),e[ps])}function ys(){du.call(this),this.i=new ts(this),this.P=this,this.I=null}function ms(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new $u(t,e);else if(t instanceof $u)t.target=t.target||e;else{var i=t;Au(t=new $u(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=gs(o,r,!0,t)&&i}if(i=gs(o=t.g=e,r,!0,t)&&i,i=gs(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=gs(o=t.g=n[a],r,!1,t)&&i}function gs(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ns(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}hu(ys,du),ys.prototype[Xu]=!0,ys.prototype.removeEventListener=function(e,t,n,r){cs(this,e,t,n,r)},ys.prototype.M=function(){if(ys.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)es(n[r]);delete t.g[e],t.h--}}this.I=null},ys.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ys.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ks=nu.JSON.stringify;function bs(){var e=Cs,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ws,xs=function(){function e(){An(this,e),this.h=this.g=null}return On(e,[{key:"add",value:function(e,t){var n=_s.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),_s=new(function(){function e(t,n){An(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return On(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Es}),(function(e){return e.reset()})),Es=function(){function e(){An(this,e),this.next=this.g=this.h=null}return On(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ss(e){nu.setTimeout((function(){throw e}),0)}function Is(e,t){ws||function(){var e=nu.Promise.resolve(void 0);ws=function(){e.then(As)}}(),Ts||(ws(),Ts=!0),Cs.add(e,t)}var Ts=!1,Cs=new xs;function As(){for(var e;e=bs();){try{e.h.call(e.g)}catch(n){Ss(n)}var t=_s;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ts=!1}function Ns(e,t){ys.call(this),this.h=e||1,this.g=t||nu,this.j=lu(this.kb,this),this.l=Date.now()}function Os(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ps(e,t,n){if("function"===typeof e)n&&(e=lu(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=lu(e.handleEvent,e)}return 2147483647<Number(t)?-1:nu.setTimeout(e,t||0)}function Rs(e){e.g=Ps((function(){e.g=null,e.i&&(e.i=!1,Rs(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}hu(Ns,ys),(Jo=Ns.prototype).da=!1,Jo.S=null,Jo.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ms(this,"tick"),this.da&&(Os(this),this.start()))}},Jo.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jo.M=function(){Ns.Z.M.call(this),Os(this),delete this.g};var Ds=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return On(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Rs(this)}},{key:"M",value:function(){Xo(Rn(n.prototype),"M",this).call(this),this.g&&(nu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(du);function Ls(e){du.call(this),this.h=e,this.g={}}hu(Ls,du);var Ms=[];function Fs(e,t,n,r){Array.isArray(n)||(n&&(Ms[0]=n.toString()),n=Ms);for(var i=0;i<n.length;i++){var a=os(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function js(e){Iu(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ls(e)}),e),e.g={}}function Us(){this.g=!0}function Vs(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ks(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ls.prototype.M=function(){Ls.Z.M.call(this),js(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Us.prototype.Aa=function(){this.g=!1},Us.prototype.info=function(){};var Bs={},zs=null;function qs(){return zs=zs||new ys}function Hs(e){$u.call(this,Bs.Ma,e)}function Ws(e){var t=qs();ms(t,new Hs(t,e))}function Ks(e,t){$u.call(this,Bs.STAT_EVENT,e),this.stat=t}function Gs(e){var t=qs();ms(t,new Ks(t,e))}function $s(e,t){$u.call(this,Bs.Na,e),this.size=t}function Qs(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return nu.setTimeout((function(){e()}),t)}Bs.Ma="serverreachability",hu(Hs,$u),Bs.STAT_EVENT="statevent",hu(Ks,$u),Bs.Na="timingevent",hu($s,$u);var Ys={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Xs={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Js(){}function Zs(e){return e.h||(e.h=e.i())}function ec(){}Js.prototype.h=null;var tc,nc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function rc(){$u.call(this,"d")}function ic(){$u.call(this,"c")}function ac(){}function oc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ls(this),this.P=sc,e=Lu?125:void 0,this.W=new Ns(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new uc}function uc(){this.i=null,this.g="",this.h=!1}hu(rc,$u),hu(ic,$u),hu(ac,Js),ac.prototype.g=function(){return new XMLHttpRequest},ac.prototype.i=function(){return{}},tc=new ac;var sc=45e3,cc={},lc={};function fc(e,t,n){e.K=1,e.v=Dc(Cc(t)),e.s=n,e.U=!0,hc(e,null)}function hc(e,t){e.F=Date.now(),yc(e),e.A=Cc(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Gc(n.h,"t",r),e.C=0,n=e.l.H,e.h=new uc,e.g=Ql(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ds(lu(e.Ia,e,e.g),e.O)),Fs(e.V,e.g,"readystatechange",e.gb),t=e.H?Tu(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ws(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function dc(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function pc(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=vc(e,n))==lc){4==t&&(e.o=4,Gs(14),i=!1),Vs(e.j,e.m,null,"[Incomplete Response]");break}if(r==cc){e.o=4,Gs(15),Vs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Vs(e.j,e.m,r,null),wc(e,r)}dc(e)&&r!=lc&&r!=cc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Gs(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bl(t),t.L=!0,Gs(11))):(Vs(e.j,e.m,n,"[Invalid Chunked Response]"),bc(e),kc(e))}function vc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?lc:(n=Number(t.substring(n,r)),isNaN(n)?cc:(r+=1)+n>t.length?lc:(t=t.substr(r,n),e.C=r+n,t))}function yc(e){e.Y=Date.now()+e.P,mc(e,e.P)}function mc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Qs(lu(e.eb,e),t)}function gc(e){e.B&&(nu.clearTimeout(e.B),e.B=null)}function kc(e){0==e.l.G||e.I||Hl(e.l,e)}function bc(e){gc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Os(e.W),js(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function wc(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||tl(n.i,e)))if(n.I=e.N,!e.J&&tl(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ql(n),Pl(n)}Vl(n),Gs(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Qs(lu(n.ab,n),6e3));if(1>=el(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Kl(n,11)}else if((e.J||n.g==e)&&ql(n),!ku(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(xu(l,"spdy")||xu(l,"quic")||xu(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(nl(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Rc(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=$l(r,r.H?r.la:null,r.W),d.J){rl(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(gc(p),yc(p)),r.g=d}else Ul(r);0<n.l.length&&Ll(n)}else"stop"!=a[0]&&"close"!=a[0]||Kl(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Kl(n,7):Ol(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ws(4)}catch(a){}}function xc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(iu(e)||"string"===typeof e)yu(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(iu(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(iu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function _c(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof _c)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ec(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Sc(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Sc(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Sc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Jo=oc.prototype).setTimeout=function(e){this.P=e},Jo.gb=function(e){e=e.target;var t=this.L;t&&3==Il(e)?t.l():this.Ia(e)},Jo.Ia=function(e){try{if(e==this.g)e:{var t=Il(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Lu||this.g&&(this.h.h||this.g.ga()||Tl(this.g)))){this.I||4!=t||7==n||Ws(8==n||0>=r?3:2),gc(this);var i=this.g.ba();this.N=i;t:if(dc(this)){var a=Tl(this.g);e="";var o=a.length,u=4==Il(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){bc(this),kc(this);var s="";break t}this.h.i=new nu.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ku(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Gs(12),bc(this),kc(this);break e}Vs(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wc(this,i)}this.U?(pc(this,t,s),Lu&&this.i&&3==t&&(Fs(this.V,this.W,"tick",this.fb),this.W.start())):(Vs(this.j,this.m,s,null),wc(this,s)),4==t&&bc(this),this.i&&!this.I&&(4==t?Hl(this.l,this):(this.i=!1,yc(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Gs(12)):(this.o=0,Gs(13)),bc(this),kc(this)}}}catch(t){}},Jo.fb=function(){if(this.g){var e=Il(this.g),t=this.g.ga();this.C<t.length&&(gc(this),pc(this,e,t),this.i&&4!=e&&yc(this))}},Jo.cancel=function(){this.I=!0,bc(this)},Jo.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ws(3),Gs(17)),bc(this),this.o=2,kc(this)):mc(this,this.Y-e)},(Jo=_c.prototype).R=function(){Ec(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Jo.T=function(){return Ec(this),this.g.concat()},Jo.get=function(e,t){return Sc(this.h,e)?this.h[e]:t},Jo.set=function(e,t){Sc(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Jo.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ic=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tc(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Tc){this.g=void 0!==t?t:e.g,Ac(this,e.j),this.s=e.s,Nc(this,e.i),Oc(this,e.m),this.l=e.l,t=e.h;var n=new qc;n.i=t.i,t.g&&(n.g=new _c(t.g),n.h=t.h),Pc(this,n),this.o=e.o}else e&&(n=String(e).match(Ic))?(this.g=!!t,Ac(this,n[1]||"",!0),this.s=Lc(n[2]||""),Nc(this,n[3]||"",!0),Oc(this,n[4]),this.l=Lc(n[5]||"",!0),Pc(this,n[6]||"",!0),this.o=Lc(n[7]||"")):(this.g=!!t,this.h=new qc(null,this.g))}function Cc(e){return new Tc(e)}function Ac(e,t,n){e.j=n?Lc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Nc(e,t,n){e.i=n?Lc(t,!0):t}function Oc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Pc(e,t,n){t instanceof qc?(e.h=t,function(e,t){t&&!e.j&&(Hc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wc(this,t),Gc(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Mc(t,Bc)),e.h=new qc(t,e.g))}function Rc(e,t,n){e.h.set(t,n)}function Dc(e){return Rc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Lc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Mc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Fc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Mc(t,jc,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Mc(t,jc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Mc(n,"/"==n.charAt(0)?Vc:Uc,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Mc(n,zc)),e.join("")};var jc=/[#\/\?@]/g,Uc=/[#\?:]/g,Vc=/[#\?]/g,Bc=/[#\?@]/g,zc=/#/g;function qc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Hc(e){e.g||(e.g=new _c,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wc(e,t){Hc(e),t=$c(e,t),Sc(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Sc((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ec(e)))}function Kc(e,t){return Hc(e),t=$c(e,t),Sc(e.g.h,t)}function Gc(e,t,n){Wc(e,t),0<n.length&&(e.i=null,e.g.set($c(e,t),gu(n)),e.h+=n.length)}function $c(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Jo=qc.prototype).add=function(e,t){Hc(this),this.i=null,e=$c(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Jo.forEach=function(e,t){Hc(this),this.g.forEach((function(n,r){yu(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Jo.T=function(){Hc(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Jo.R=function(e){Hc(this);var t=[];if("string"===typeof e)Kc(this,e)&&(t=mu(t,this.g.get($c(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=mu(t,e[n])}return t},Jo.set=function(e,t){return Hc(this),this.i=null,Kc(this,e=$c(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Jo.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Jo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Qc=On((function e(t,n){An(this,e),this.h=t,this.g=n}));function Yc(e){this.l=e||Jc,nu.PerformanceNavigationTiming?e=0<(e=nu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(nu.g&&nu.g.Ea&&nu.g.Ea()&&nu.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xc,Jc=10;function Zc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function el(e){return e.h?1:e.g?e.g.size:0}function tl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nl(e,t){e.g?e.g.add(t):e.h=t}function rl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function il(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ta(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return gu(e.i)}function al(){}function ol(){this.g=new al}function ul(e,t,n){var r=n||"";try{xc(e,(function(e,n){var i=e;au(e)&&(i=ks(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function sl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function cl(e){this.l=e.$b||null,this.j=e.ib||!1}function ll(e,t){ys.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=fl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yc.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ta(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},al.prototype.stringify=function(e){return nu.JSON.stringify(e,void 0)},al.prototype.parse=function(e){return nu.JSON.parse(e,void 0)},hu(cl,Js),cl.prototype.g=function(){return new ll(this.l,this.j)},cl.prototype.i=(Xc={},function(){return Xc}),hu(ll,ys);var fl=0;function hl(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function dl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,pl(e)}function pl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Jo=ll.prototype).open=function(e,t){if(this.readyState!=fl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,pl(this)},Jo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||nu).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Jo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dl(this)),this.readyState=fl},Jo.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,pl(this)),this.g&&(this.readyState=3,pl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof nu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hl(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Jo.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?dl(this):pl(this),3==this.readyState&&hl(this)}},Jo.Ua=function(e){this.g&&(this.response=this.responseText=e,dl(this))},Jo.Ta=function(e){this.g&&(this.response=e,dl(this))},Jo.ha=function(){this.g&&dl(this)},Jo.setRequestHeader=function(e,t){this.v.append(e,t)},Jo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Jo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var vl=nu.JSON.parse;function yl(e){ys.call(this),this.headers=new _c,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ml,this.K=this.L=!1}hu(yl,ys);var ml="",gl=/^https?$/i,kl=["POST","PUT"];function bl(e){return"content-type"==e.toLowerCase()}function wl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xl(e),El(e)}function xl(e){e.D||(e.D=!0,ms(e,"complete"),ms(e,"error"))}function _l(e){if(e.h&&"undefined"!=typeof tu&&(!e.C[1]||4!=Il(e)||2!=e.ba()))if(e.v&&4==Il(e))Ps(e.Fa,0,e);else if(ms(e,"readystatechange"),4==Il(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ic)[1]||null;if(!a&&nu.self&&nu.self.location){var o=nu.self.location.protocol;a=o.substr(0,o.length-1)}i=!gl.test(a?a.toLowerCase():"")}t=i}if(t)ms(e,"complete"),ms(e,"success");else{e.m=6;try{var u=2<Il(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",xl(e)}}finally{El(e)}}}function El(e,t){if(e.g){Sl(e);var n=e.g,r=e.C[0]?ru:null;e.g=null,e.C=null,t||ms(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Sl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(nu.clearTimeout(e.A),e.A=null)}function Il(e){return e.g?e.g.readyState:0}function Tl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ml:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(vr){return null}}function Cl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Iu(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Rc(e,t,n))}function Al(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Nl(e){this.za=0,this.l=[],this.h=new Us,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Al("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Al("baseRetryDelayMs",5e3,e),this.$a=Al("retryDelaySeedMs",1e4,e),this.Ya=Al("forwardChannelMaxRetries",2,e),this.ra=Al("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Yc(e&&e.concurrentRequestLimit),this.Ca=new ol,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ol(e){if(Rl(e),3==e.G){var t=e.V++,n=Cc(e.F);Rc(n,"SID",e.J),Rc(n,"RID",t),Rc(n,"TYPE","terminate"),Fl(e,n),(t=new oc(e,e.h,t,void 0)).K=2,t.v=Dc(Cc(n)),n=!1,nu.navigator&&nu.navigator.sendBeacon&&(n=nu.navigator.sendBeacon(t.v.toString(),"")),!n&&nu.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ql(t.l,null),t.g.ea(t.v)),t.F=Date.now(),yc(t)}Gl(e)}function Pl(e){e.g&&(Bl(e),e.g.cancel(),e.g=null)}function Rl(e){Pl(e),e.u&&(nu.clearTimeout(e.u),e.u=null),ql(e),e.i.cancel(),e.m&&("number"===typeof e.m&&nu.clearTimeout(e.m),e.m=null)}function Dl(e,t){e.l.push(new Qc(e.Za++,t)),3==e.G&&Ll(e)}function Ll(e){Zc(e.i)||e.m||(e.m=!0,Is(e.Ha,e),e.C=0)}function Ml(e,t){var n;n=t?t.m:e.V++;var r=Cc(e.F);Rc(r,"SID",e.J),Rc(r,"RID",n),Rc(r,"AID",e.U),Fl(e,r),e.o&&e.s&&Cl(r,e.o,e.s),n=new oc(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=jl(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),nl(e.i,n),fc(n,r,t)}function Fl(e,t){e.j&&xc({},(function(e,n){Rc(t,n,e)}))}function jl(e,t,n){n=Math.min(e.l.length,n);var r=e.j?lu(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ul(l,o,"req"+c+"_")}catch(Ar){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ul(e){e.g||e.u||(e.Y=1,Is(e.Ga,e),e.A=0)}function Vl(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Qs(lu(e.Ga,e),Wl(e,e.A)),e.A++,!0)}function Bl(e){null!=e.B&&(nu.clearTimeout(e.B),e.B=null)}function zl(e){e.g=new oc(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Cc(e.oa);Rc(t,"RID","rpc"),Rc(t,"SID",e.J),Rc(t,"CI",e.N?"0":"1"),Rc(t,"AID",e.U),Fl(e,t),Rc(t,"TYPE","xmlhttp"),e.o&&e.s&&Cl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Dc(Cc(t)),n.s=null,n.U=!0,hc(n,e)}function ql(e){null!=e.v&&(nu.clearTimeout(e.v),e.v=null)}function Hl(e,t){var n=null;if(e.g==t){ql(e),Bl(e),e.g=null;var r=2}else{if(!tl(e.i,t))return;n=t.D,rl(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ms(r=qs(),new $s(r,n,t,i)),Ll(e)}else Ul(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(el(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Qs(lu(e.Ha,e,t),Wl(e,e.C)),e.C++,!0))}(e,t)||2==r&&Vl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Kl(e,5);break;case 4:Kl(e,10);break;case 3:Kl(e,6);break;default:Kl(e,2)}}function Wl(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Kl(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=lu(e.jb,e);n||(n=new Tc("//www.google.com/images/cleardot.gif"),nu.location&&"http"==nu.location.protocol||Ac(n,"https"),Dc(n)),function(e,t){var n=new Us;if(nu.Image){var r=new Image;r.onload=fu(sl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=fu(sl,n,r,"TestLoadImage: error",!1,t),r.onabort=fu(sl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=fu(sl,n,r,"TestLoadImage: timeout",!1,t),nu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Gs(2);e.G=0,e.j&&e.j.va(t),Gl(e),Rl(e)}function Gl(e){e.G=0,e.I=-1,e.j&&(0==il(e.i).length&&0==e.l.length||(e.i.i.length=0,gu(e.l),e.l.length=0),e.j.ua())}function $l(e,t,n){var r=function(e){return e instanceof Tc?Cc(e):new Tc(e,void 0)}(n);if(""!=r.i)t&&Nc(r,t+"."+r.i),Oc(r,r.m);else{var i=nu.location;r=function(e,t,n,r){var i=new Tc(null,void 0);return e&&Ac(i,e),t&&Nc(i,t),n&&Oc(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Iu(e.aa,(function(e,t){Rc(r,t,e)})),t=e.D,n=e.sa,t&&n&&Rc(r,t,n),Rc(r,"VER",e.ma),Fl(e,r),r}function Ql(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new yl(new cl({ib:!0})):new yl(e.qa)).L=e.H,t}function Yl(){}function Xl(){if(Ru&&!(10<=Number(Ku)))throw Error("Environmental error: no available transport.")}function Jl(e,t){ys.call(this),this.g=new Nl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ku(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ku(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new tf(this)}function Zl(e){rc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ef(){ic.call(this),this.status=1}function tf(e){this.g=e}(Jo=yl.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tc.g(),this.C=this.u?Zs(this.u):Zs(tc),this.g.onreadystatechange=lu(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void wl(this,a)}e=n||"";var i=new _c(this.headers);r&&xc(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=bl,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=nu.FormData&&e instanceof nu.FormData,!(0<=vu(kl,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sl(this),0<this.B&&((this.K=function(e){return Ru&&Hu()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lu(this.pa,this)):this.A=Ps(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){wl(this,a)}},Jo.pa=function(){"undefined"!=typeof tu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ms(this,"timeout"),this.abort(8))},Jo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ms(this,"complete"),ms(this,"abort"),El(this))},Jo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),El(this,!0)),yl.Z.M.call(this)},Jo.Fa=function(){this.s||(this.F||this.v||this.l?_l(this):this.cb())},Jo.cb=function(){_l(this)},Jo.ba=function(){try{return 2<Il(this)?this.g.status:-1}catch(Xc){return-1}},Jo.ga=function(){try{return this.g?this.g.responseText:""}catch(Xc){return""}},Jo.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),vl(t)}},Jo.Da=function(){return this.m},Jo.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Jo=Nl.prototype).ma=8,Jo.G=1,Jo.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(vr){}},Jo.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new oc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Au(n=Tu(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=jl(this,t,r),Rc(i=Cc(this.F),"RID",e),Rc(i,"CVER",22),this.D&&Rc(i,"X-HTTP-Session-Id",this.D),Fl(this,i),this.o&&n&&Cl(i,this.o,n),nl(this.i,t),this.Ra&&Rc(i,"TYPE","init"),this.ja?(Rc(i,"$req",r),Rc(i,"SID","null"),t.$=!0,fc(t,i,null)):fc(t,i,r),this.G=2}}else 3==this.G&&(e?Ml(this,e):0==this.l.length||Zc(this.i)||Ml(this))},Jo.Ga=function(){if(this.u=null,zl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Qs(lu(this.bb,this),e)}},Jo.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gs(10),Pl(this),zl(this))},Jo.ab=function(){null!=this.v&&(this.v=null,Pl(this),Vl(this),Gs(19))},Jo.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Gs(2)):(this.h.info("Failed to ping google.com"),Gs(1))},(Jo=Yl.prototype).xa=function(){},Jo.wa=function(){},Jo.va=function(){},Jo.ua=function(){},Jo.Oa=function(){},Xl.prototype.g=function(e,t){return new Jl(e,t)},hu(Jl,ys),Jl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Is(lu(e.hb,e,t))),Gs(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=$l(e,null,e.W),Ll(e)},Jl.prototype.close=function(){Ol(this.g)},Jl.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Dl(this.g,t)}else this.v?((t={}).__data__=ks(e),Dl(this.g,t)):Dl(this.g,e)},Jl.prototype.M=function(){this.g.j=null,delete this.j,Ol(this.g),delete this.g,Jl.Z.M.call(this)},hu(Zl,rc),hu(ef,ic),hu(tf,Yl),tf.prototype.xa=function(){ms(this.g,"a")},tf.prototype.wa=function(e){ms(this.g,new Zl(e))},tf.prototype.va=function(e){ms(this.g,new ef(e))},tf.prototype.ua=function(){ms(this.g,"b")},Xl.prototype.createWebChannel=Xl.prototype.g,Jl.prototype.send=Jl.prototype.u,Jl.prototype.open=Jl.prototype.m,Jl.prototype.close=Jl.prototype.close,Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,Xs.COMPLETE="complete",ec.EventType=nc,nc.OPEN="a",nc.CLOSE="b",nc.ERROR="c",nc.MESSAGE="d",ys.prototype.listen=ys.prototype.N,yl.prototype.listenOnce=yl.prototype.O,yl.prototype.getLastError=yl.prototype.La,yl.prototype.getLastErrorCode=yl.prototype.Da,yl.prototype.getStatus=yl.prototype.ba,yl.prototype.getResponseJson=yl.prototype.Qa,yl.prototype.getResponseText=yl.prototype.ga,yl.prototype.send=yl.prototype.ea;var nf=eu.createWebChannelTransport=function(){return new Xl},rf=eu.getStatEventTarget=function(){return qs()},af=eu.ErrorCode=Ys,of=eu.EventType=Xs,uf=eu.Event=Bs,sf=eu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},cf=eu.FetchXmlHttpFactory=cl,lf=eu.WebChannel=ec,ff=eu.XhrIo=yl,hf="@firebase/firestore",df=function(){function e(t){An(this,e),this.uid=t}return On(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();df.UNAUTHENTICATED=new df(null),df.GOOGLE_CREDENTIALS=new df("google-credentials-uid"),df.FIRST_PARTY=new df("first-party-uid"),df.MOCK_USER=new df("mock-user");var pf="9.6.9",vf=new eo("@firebase/firestore");function yf(){return vf.logLevel}function mf(e){if(vf.logLevel<=Wa.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bf);vf.debug.apply(vf,["Firestore (".concat(pf,"): ").concat(e)].concat(hn(i)))}}function gf(e){if(vf.logLevel<=Wa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bf);vf.error.apply(vf,["Firestore (".concat(pf,"): ").concat(e)].concat(hn(i)))}}function kf(e){if(vf.logLevel<=Wa.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bf);vf.warn.apply(vf,["Firestore (".concat(pf,"): ").concat(e)].concat(hn(i)))}}function bf(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function wf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(pf,") INTERNAL ASSERTION FAILED: ")+e;throw gf(t),new Error(t)}function xf(e,t){e||wf()}function _f(e,t){return e}var Ef={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Sf=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return On(n)}(xa),If=On((function e(){var t=this;An(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Tf=On((function e(t,n){An(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Cf=function(){function e(){An(this,e)}return On(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(df.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Af=function(){function e(t){An(this,e),this.token=t,this.changeListener=null}return On(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Nf=function(){function e(t){An(this,e),this.t=t,this.currentUser=df.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return On(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new If;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new If,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){mf("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(mf("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new If)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(mf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(xf("string"==typeof n.accessToken),new Tf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return xf(null===e||"string"==typeof e),new df(e)}}]),e}(),Of=On((function e(t,n,r){An(this,e),this.type="FirstParty",this.user=df.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Pf=function(){function e(t,n,r){An(this,e),this.h=t,this.l=n,this.m=r}return On(e,[{key:"getToken",value:function(){return Promise.resolve(new Of(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(df.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Rf=On((function e(t){An(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Df=function(){function e(t){An(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return On(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&mf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,mf("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){mf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):mf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(xf("string"==typeof t.token),e.p=t.token,new Rf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Lf=function(){function e(t,n){var r=this;An(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return On(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Mf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Lf.A=-1;var Ff=function(){function e(){An(this,e)}return On(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Mf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function jf(e,t){return e<t?-1:e>t?1:0}function Uf(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Vf(e){return e+"\0"}var Bf=function(){function e(t,n){if(An(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Sf(Ef.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Sf(Ef.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Sf(Ef.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Sf(Ef.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return On(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?jf(this.nanoseconds,e.nanoseconds):jf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),zf=function(){function e(t){An(this,e),this.timestamp=t}return On(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Bf(0,0))}}]),e}();function qf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wf(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Kf=function(){function e(t,n,r){An(this,e),void 0===n?n=0:n>t.length&&wf(),void 0===r?r=t.length-n:r>t.length-n&&wf(),this.segments=t,this.offset=n,this.len=r}return On(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Gf=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.apply(this,arguments)}return On(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,hn(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Kf),$f=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qf=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.apply(this,arguments)}return On(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return $f.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Sf(Ef.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Sf(Ef.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Sf(Ef.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Kf),Yf=function(){function e(t){An(this,e),this.fields=t,t.sort(Qf.comparator)}return On(e,[{key:"covers",value:function(e){var t,n=ta(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Uf(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Xf=function(e){function t(e){An(this,t),this.binaryString=e}return On(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return jf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Xf.EMPTY_BYTE_STRING=new Xf("");var Jf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zf(e){if(xf(!!e),"string"==typeof e){var t=0,n=Jf.exec(e);if(xf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:eh(e.seconds),nanos:eh(e.nanos)}}function eh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function th(e){return"string"==typeof e?Xf.fromBase64String(e):Xf.fromUint8Array(e)}function nh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rh(e){var t=e.mapValue.fields.__previous_value__;return nh(t)?rh(t):t}function ih(e){var t=Zf(e.mapValue.fields.__local_write_time__.timestampValue);return new Bf(t.seconds,t.nanos)}var ah=On((function e(t,n,r,i,a,o,u,s){An(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),oh=function(){function e(t,n){An(this,e),this.projectId=t,this.database=n||"(default)"}return On(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function uh(e){return null==e}function sh(e){return 0===e&&1/e==-1/0}function ch(e){return"number"==typeof e&&Number.isInteger(e)&&!sh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var lh=function(){function e(t){An(this,e),this.path=t}return On(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Gf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Gf.fromString(t))}},{key:"fromName",value:function(t){return new e(Gf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Gf.emptyPath())}},{key:"comparator",value:function(e,t){return Gf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Gf(t.slice()))}}]),e}(),fh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hh={nullValue:"NULL_VALUE"};function dh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nh(e)?4:Th(e)?9:10:wf()}function ph(e,t){if(e===t)return!0;var n=dh(e);if(n!==dh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ih(e).isEqual(ih(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Zf(e.timestampValue),r=Zf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return th(e.bytesValue).isEqual(th(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return eh(e.geoPointValue.latitude)===eh(t.geoPointValue.latitude)&&eh(e.geoPointValue.longitude)===eh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return eh(e.integerValue)===eh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=eh(e.doubleValue),r=eh(t.doubleValue);return n===r?sh(n)===sh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Uf(e.arrayValue.values||[],t.arrayValue.values||[],ph);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qf(n)!==qf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ph(n[i],r[i])))return!1;return!0}(e,t);default:return wf()}}function vh(e,t){return void 0!==(e.values||[]).find((function(e){return ph(e,t)}))}function yh(e,t){if(e===t)return 0;var n=dh(e),r=dh(t);if(n!==r)return jf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=eh(e.integerValue||e.doubleValue),r=eh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return mh(e.timestampValue,t.timestampValue);case 4:return mh(ih(e),ih(t));case 5:return jf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=th(e),r=th(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=jf(n[i],r[i]);if(0!==a)return a}return jf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=jf(eh(e.latitude),eh(t.latitude));return 0!==n?n:jf(eh(e.longitude),eh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=yh(n[i],r[i]);if(a)return a}return jf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=jf(r[o],a[o]);if(0!==u)return u;var s=yh(n[r[o]],i[a[o]]);if(0!==s)return s}return jf(r.length,a.length)}(e.mapValue,t.mapValue);default:throw wf()}}function mh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return jf(e,t);var n=Zf(e),r=Zf(t),i=jf(n.seconds,r.seconds);return 0!==i?i:jf(n.nanos,r.nanos)}function gh(e){return kh(e)}function kh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Zf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?th(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,lh.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ta(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=kh(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ta(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(kh(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):wf();var t,n}function bh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function wh(e){return!!e&&"integerValue"in e}function xh(e){return!!e&&"arrayValue"in e}function _h(e){return!!e&&"nullValue"in e}function Eh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sh(e){return!!e&&"mapValue"in e}function Ih(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Hf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ih(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ih(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Th(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ch(e,t){return void 0===e?t:void 0===t||yh(e,t)>0?e:t}function Ah(e,t){return void 0===e?t:void 0===t||yh(e,t)<0?e:t}var Nh=function(){function e(t){An(this,e),this.value=t}return On(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Sh(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ih(t)}},{key:"setAll",value:function(e){var t=this,n=Qf.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ih(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Sh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ph(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Sh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Hf(t,(function(t,n){return e[t]=n}));var r,i=ta(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ih(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Oh(e){var t=[];return Hf(e.fields,(function(e,n){var r=new Qf([e]);if(Sh(n)){var i=Oh(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ta(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Yf(t)}var Ph=function(){function e(t,n,r,i,a,o){An(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return On(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Nh.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Nh.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,zf.min(),zf.min(),Nh.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,zf.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,zf.min(),Nh.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,zf.min(),Nh.empty(),2)}}]),e}(),Rh=On((function e(t,n,r,i){An(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Dh(e){return e.fields.find((function(e){return 2===e.kind}))}function Lh(e){return e.fields.filter((function(e){return 2!==e.kind}))}Rh.UNKNOWN_ID=-1;var Mh=On((function e(t,n){An(this,e),this.fieldPath=t,this.kind=n})),Fh=function(){function e(t,n){An(this,e),this.sequenceNumber=t,this.offset=n}return On(e,null,[{key:"empty",value:function(){return new e(0,jh.min())}}]),e}(),jh=function(){function e(t,n,r){An(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return On(e,null,[{key:"min",value:function(){return new e(zf.min(),lh.empty(),-1)}}]),e}(),Uh=On((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;An(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Vh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Uh(e,t,n,r,i,a,o)}function Bh(e){var t=_f(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+gh(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),uh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return gh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return gh(e)})).join(",")),t.P=n}return t.P}function zh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!nd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!ph(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!id(e.startAt,t.startAt)&&id(e.endAt,t.endAt)}function qh(e){return lh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Hh(e,t){return e.filters.filter((function(e){return e instanceof Wh&&e.field.isEqual(t)}))}var Wh=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return On(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(yh(t,this.value)):null!==t&&dh(this.value)===dh(t)&&this.v(yh(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wf()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Kh(e,t,r):"array-contains"===t?new Yh(e,r):"in"===t?new Xh(e,r):"not-in"===t?new Jh(e,r):"array-contains-any"===t?new Zh(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Gh(e,n):new $h(e,n)}}]),n}(function(){return On((function e(){An(this,e)}))}()),Kh=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this,e,r,i)).key=lh.fromName(i.referenceValue),a}return On(n,[{key:"matches",value:function(e){var t=lh.comparator(e.key,this.key);return this.v(t)}}]),n}(Wh),Gh=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,"in",r)).keys=Qh("in",r),i}return On(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Wh),$h=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,"not-in",r)).keys=Qh("not-in",r),i}return On(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Wh);function Qh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return lh.fromName(e.referenceValue)}))}var Yh=function(e){Pn(n,e);var t=jn(n);function n(e,r){return An(this,n),t.call(this,e,"array-contains",r)}return On(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return xh(t)&&vh(t.arrayValue,this.value)}}]),n}(Wh),Xh=function(e){Pn(n,e);var t=jn(n);function n(e,r){return An(this,n),t.call(this,e,"in",r)}return On(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&vh(this.value.arrayValue,t)}}]),n}(Wh),Jh=function(e){Pn(n,e);var t=jn(n);function n(e,r){return An(this,n),t.call(this,e,"not-in",r)}return On(n,[{key:"matches",value:function(e){if(vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!vh(this.value.arrayValue,t)}}]),n}(Wh),Zh=function(e){Pn(n,e);var t=jn(n);function n(e,r){return An(this,n),t.call(this,e,"array-contains-any",r)}return On(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!xh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return vh(t.value.arrayValue,e)}))}}]),n}(Wh),ed=On((function e(t,n){An(this,e),this.position=t,this.inclusive=n})),td=On((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";An(this,e),this.field=t,this.dir=n}));function nd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function rd(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?lh.comparator(lh.fromName(o.referenceValue),n.key):yh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function id(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ph(e.position[n],t.position[n]))return!1;return!0}var ad=On((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;An(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function od(e,t,n,r,i,a,o,u){return new ad(e,t,n,r,i,a,o,u)}function ud(e){return new ad(e)}function sd(e){return!uh(e.limit)&&"F"===e.limitType}function cd(e){return!uh(e.limit)&&"L"===e.limitType}function ld(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function fd(e){var t,n=ta(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function hd(e){return null!==e.collectionGroup}function dd(e){var t=_f(e);if(null===t.D){t.D=[];var n=fd(t),r=ld(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new td(n)),t.D.push(new td(Qf.keyField(),"asc"));else{var i,a=!1,o=ta(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new td(Qf.keyField(),s))}}}return t.D}function pd(e){var t=_f(e);if(!t.C)if("F"===t.limitType)t.C=Vh(t.path,t.collectionGroup,dd(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ta(dd(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new td(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ed(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new ed(t.startAt.position,!t.startAt.inclusive):null;t.C=Vh(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function vd(e,t,n){return new ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yd(e,t){return zh(pd(e),pd(t))&&e.limitType===t.limitType}function md(e){return"".concat(Bh(pd(e)),"|lt:").concat(e.limitType)}function gd(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(gh(t.value));var t})).join(", "),"]")),uh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return gh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return gh(e)})).join(",")),"Target(".concat(t,")")}(pd(e)),"; limitType=").concat(e.limitType,")")}function kd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):lh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ta(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ta(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=rd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,dd(e),t))&&!(e.endAt&&!function(e,t,n){var r=rd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,dd(e),t))}(e,t)}function bd(e){return function(t,n){var r,i=!1,a=ta(dd(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=wd(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function wd(e,t,n){var r=e.field.isKeyField()?lh.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?yh(r,i):wf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wf()}}function xd(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(t)?"-0":t}}function _d(e){return{integerValue:""+e}}function Ed(e,t){return ch(t)?_d(t):xd(e,t)}var Sd=On((function e(){An(this,e),this._=void 0}));function Id(e,t,n){return e instanceof Ad?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Nd?Od(e,t):e instanceof Pd?Rd(e,t):function(e,t){var n=Cd(e,t),r=Ld(n)+Ld(e.k);return wh(n)&&wh(e.k)?_d(r):xd(e.M,r)}(e,t)}function Td(e,t,n){return e instanceof Nd?Od(e,t):e instanceof Pd?Rd(e,t):n}function Cd(e,t){return e instanceof Dd?wh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ad=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.apply(this,arguments)}return On(n)}(Sd),Nd=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this)).elements=e,r}return On(n)}(Sd);function Od(e,t){var n,r=Md(t),i=ta(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ph(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Pd=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this)).elements=e,r}return On(n)}(Sd);function Rd(e,t){var n,r=Md(t),i=ta(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ph(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Dd=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).M=e,i.k=r,i}return On(n)}(Sd);function Ld(e){return eh(e.integerValue||e.doubleValue)}function Md(e){return xh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Fd=On((function e(t,n){An(this,e),this.field=t,this.transform=n}));var jd=On((function e(t,n){An(this,e),this.version=t,this.transformResults=n})),Ud=function(){function e(t,n){An(this,e),this.updateTime=t,this.exists=n}return On(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Vd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Bd=On((function e(){An(this,e)}));function zd(e,t,n){e instanceof Gd?function(e,t,n){var r=e.value.clone(),i=Yd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $d?function(e,t,n){if(Vd(e.precondition,t)){var r=Yd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Qd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qd(e,t,n){e instanceof Gd?function(e,t,n){if(Vd(e.precondition,t)){var r=e.value.clone(),i=Xd(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Kd(t),r).setHasLocalMutations()}}(e,t,n):e instanceof $d?function(e,t,n){if(Vd(e.precondition,t)){var r=Xd(e.fieldTransforms,n,t),i=t.data;i.setAll(Qd(e)),i.setAll(r),t.convertToFoundDocument(Kd(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Vd(e.precondition,t)&&t.convertToNoDocument(zf.min())}(e,t)}function Hd(e,t){var n,r=null,i=ta(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Cd(a.transform,o||null);null!=u&&(null==r&&(r=Nh.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Wd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Uf(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Nd&&t instanceof Nd||e instanceof Pd&&t instanceof Pd?Uf(e.elements,t.elements,ph):e instanceof Dd&&t instanceof Dd?ph(e.k,t.k):e instanceof Ad&&t instanceof Ad}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Kd(e){return e.isFoundDocument()?e.version:zf.min()}var Gd=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return An(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return On(n)}(Bd),$d=function(e){Pn(n,e);var t=jn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return An(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return On(n)}(Bd);function Qd(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Yd(e,t,n){var r=new Map;xf(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Td(o,u,n[i]))}return r}function Xd(e,t,n){var r,i=new Map,a=ta(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Id(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Jd,Zd,ep=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return On(n)}(Bd),tp=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return On(n)}(Bd),np=On((function e(t){An(this,e),this.count=t}));function rp(e){switch(e){default:return wf();case Ef.CANCELLED:case Ef.UNKNOWN:case Ef.DEADLINE_EXCEEDED:case Ef.RESOURCE_EXHAUSTED:case Ef.INTERNAL:case Ef.UNAVAILABLE:case Ef.UNAUTHENTICATED:return!1;case Ef.INVALID_ARGUMENT:case Ef.NOT_FOUND:case Ef.ALREADY_EXISTS:case Ef.PERMISSION_DENIED:case Ef.FAILED_PRECONDITION:case Ef.ABORTED:case Ef.OUT_OF_RANGE:case Ef.UNIMPLEMENTED:case Ef.DATA_LOSS:return!0}}function ip(e){if(void 0===e)return gf("GRPC error has no .code"),Ef.UNKNOWN;switch(e){case Jd.OK:return Ef.OK;case Jd.CANCELLED:return Ef.CANCELLED;case Jd.UNKNOWN:return Ef.UNKNOWN;case Jd.DEADLINE_EXCEEDED:return Ef.DEADLINE_EXCEEDED;case Jd.RESOURCE_EXHAUSTED:return Ef.RESOURCE_EXHAUSTED;case Jd.INTERNAL:return Ef.INTERNAL;case Jd.UNAVAILABLE:return Ef.UNAVAILABLE;case Jd.UNAUTHENTICATED:return Ef.UNAUTHENTICATED;case Jd.INVALID_ARGUMENT:return Ef.INVALID_ARGUMENT;case Jd.NOT_FOUND:return Ef.NOT_FOUND;case Jd.ALREADY_EXISTS:return Ef.ALREADY_EXISTS;case Jd.PERMISSION_DENIED:return Ef.PERMISSION_DENIED;case Jd.FAILED_PRECONDITION:return Ef.FAILED_PRECONDITION;case Jd.ABORTED:return Ef.ABORTED;case Jd.OUT_OF_RANGE:return Ef.OUT_OF_RANGE;case Jd.UNIMPLEMENTED:return Ef.UNIMPLEMENTED;case Jd.DATA_LOSS:return Ef.DATA_LOSS;default:return wf()}}(Zd=Jd||(Jd={}))[Zd.OK=0]="OK",Zd[Zd.CANCELLED=1]="CANCELLED",Zd[Zd.UNKNOWN=2]="UNKNOWN",Zd[Zd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zd[Zd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zd[Zd.NOT_FOUND=5]="NOT_FOUND",Zd[Zd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zd[Zd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zd[Zd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zd[Zd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zd[Zd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zd[Zd.ABORTED=10]="ABORTED",Zd[Zd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zd[Zd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zd[Zd.INTERNAL=13]="INTERNAL",Zd[Zd.UNAVAILABLE=14]="UNAVAILABLE",Zd[Zd.DATA_LOSS=15]="DATA_LOSS";var ap=function(){function e(t,n){An(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return On(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ta(n);try{for(i.s();!(r=i.n()).done;){var a=ia(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Hf(this.inner,(function(t,n){var r,i=ta(n);try{for(i.s();!(r=i.n()).done;){var a=ia(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Wf(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),op=function(){function e(t,n){An(this,e),this.comparator=t,this.root=n||sp.EMPTY}return On(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,sp.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sp.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new up(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new up(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new up(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new up(this.root,e,this.comparator,!0)}}]),e}(),up=function(){function e(t,n,r,i){An(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return On(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),sp=function(){function e(t,n,r,i,a){An(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return On(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw wf();if(this.right.isRed())throw wf();var e=this.left.check();if(e!==this.right.check())throw wf();return e+(this.isRed()?0:1)}}]),e}();sp.EMPTY=null,sp.RED=!0,sp.BLACK=!1,sp.EMPTY=new(function(){function e(){An(this,e),this.size=0}return On(e,[{key:"key",get:function(){throw wf()}},{key:"value",get:function(){throw wf()}},{key:"color",get:function(){throw wf()}},{key:"left",get:function(){throw wf()}},{key:"right",get:function(){throw wf()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new sp(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var cp=function(){function e(t){An(this,e),this.comparator=t,this.data=new op(this.comparator)}return On(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new lp(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new lp(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),lp=function(){function e(t){An(this,e),this.iter=t}return On(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function fp(e){return e.hasNext()?e.getNext():void 0}var hp=new op(lh.comparator);function dp(){return hp}var pp=new op(lh.comparator);function vp(){return pp}function yp(){return new ap((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var mp=new op(lh.comparator),gp=new cp(lh.comparator);function kp(){for(var e=gp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var bp=new cp(jf);function wp(){return bp}var xp=function(){function e(t,n,r,i,a){An(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return On(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,_p.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(zf.min(),r,wp(),dp(),kp())}}]),e}(),_p=function(){function e(t,n,r,i,a){An(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return On(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Xf.EMPTY_BYTE_STRING,n,kp(),kp(),kp())}}]),e}(),Ep=On((function e(t,n,r,i){An(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.$=i})),Sp=On((function e(t,n){An(this,e),this.targetId=t,this.F=n})),Ip=On((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;An(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Tp=function(){function e(){An(this,e),this.B=0,this.L=Np(),this.q=Xf.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}return On(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.q}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.q=e)}},{key:"H",value:function(){var e=kp(),t=kp(),n=kp();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wf()}})),new _p(this.q,this.U,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Np()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.U=!0}}]),e}(),Cp=function(){function e(t){An(this,e),this.nt=t,this.st=new Map,this.it=dp(),this.rt=Ap(),this.ot=new cp(jf)}return On(e,[{key:"at",value:function(e){var t,n=ta(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.ct(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=ta(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:wf()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(qh(i))if(0===n){var a=new lh(i.path);this.ct(t,a,Ph.newNoDocument(a,zf.min()))}else xf(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&qh(a.target)){var o=new lh(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Ph.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=kp();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new xp(e,n,this.ot,this.it,r);return this.it=dp(),this.rt=Ap(),this.ot=new cp(jf),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Tp,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new cp(jf),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||mf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Tp),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ap(){return new op(lh.comparator)}function Np(){return new op(lh.comparator)}var Op={asc:"ASCENDING",desc:"DESCENDING"},Pp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rp=On((function e(t,n){An(this,e),this.databaseId=t,this.N=n}));function Dp(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Lp(e,t){return e.N?t.toBase64():t.toUint8Array()}function Mp(e,t){return Dp(e,t.toTimestamp())}function Fp(e){return xf(!!e),zf.fromTimestamp(function(e){var t=Zf(e);return new Bf(t.seconds,t.nanos)}(e))}function jp(e,t){return function(e){return new Gf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Up(e){var t=Gf.fromString(e);return xf(sv(t)),t}function Vp(e,t){return jp(e.databaseId,t.path)}function Bp(e,t){var n=Up(t);if(n.get(1)!==e.databaseId.projectId)throw new Sf(Ef.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Sf(Ef.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new lh(Wp(n))}function zp(e,t){return jp(e.databaseId,t)}function qp(e){var t=Up(e);return 4===t.length?Gf.emptyPath():Wp(t)}function Hp(e){return new Gf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wp(e){return xf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Kp(e,t,n){return{name:Vp(e,t),fields:n.value.mapValue.fields}}function Gp(e,t,n){var r=Bp(e,t.name),i=Fp(t.updateTime),a=new Nh({mapValue:{fields:t.fields}}),o=Ph.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function $p(e,t){return"found"in t?function(e,t){xf(!!t.found),t.found.name,t.found.updateTime;var n=Bp(e,t.found.name),r=Fp(t.found.updateTime),i=new Nh({mapValue:{fields:t.found.fields}});return Ph.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){xf(!!t.missing),xf(!!t.readTime);var n=Bp(e,t.missing),r=Fp(t.readTime);return Ph.newNoDocument(n,r)}(e,t):wf()}function Qp(e,t){var n;if(t instanceof Gd)n={update:Kp(e,t.key,t.value)};else if(t instanceof ep)n={delete:Vp(e,t.key)};else if(t instanceof $d)n={update:Kp(e,t.key,t.data),updateMask:uv(t.fieldMask)};else{if(!(t instanceof tp))return wf();n={verify:Vp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ad)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Dd)return{fieldPath:t.field.canonicalString(),increment:n.k};throw wf()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Mp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wf()}(e,t.precondition)),n}function Yp(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ud.updateTime(Fp(e.updateTime)):void 0!==e.exists?Ud.exists(e.exists):Ud.none()}(t.currentDocument):Ud.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)xf("REQUEST_TIME"===t.setToServerValue),n=new Ad;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Nd(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Pd(i)}else"increment"in t?n=new Dd(e,t.increment):wf();var a=Qf.fromServerFormat(t.fieldPath);return new Fd(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Bp(e,t.update.name),a=new Nh({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Yf(t.map((function(e){return Qf.fromServerFormat(e)})))}(t.updateMask);return new $d(i,a,o,n,r)}return new Gd(i,a,n,r)}if(t.delete){var u=Bp(e,t.delete);return new ep(u,n)}if(t.verify){var s=Bp(e,t.verify);return new tp(s,n)}return wf()}function Xp(e,t){return{documents:[zp(e,t.path)]}}function Jp(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=zp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=zp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Eh(e.value))return{unaryFilter:{field:rv(e.field),op:"IS_NAN"}};if(_h(e.value))return{unaryFilter:{field:rv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Eh(e.value))return{unaryFilter:{field:rv(e.field),op:"IS_NOT_NAN"}};if(_h(e.value))return{unaryFilter:{field:rv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rv(e.field),op:nv(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:rv(e.field),direction:tv(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||uh(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Zp(e){var t=qp(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xf(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=ev(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new td(iv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return uh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ed(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ed(n,t)}(n.endAt)),od(t,i,u,o,s,"F",c,l)}function ev(e){return e?void 0!==e.unaryFilter?[ov(e)]:void 0!==e.fieldFilter?[av(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return ev(e)})).reduce((function(e,t){return e.concat(t)})):wf():[]}function tv(e){return Op[e]}function nv(e){return Pp[e]}function rv(e){return{fieldPath:e.canonicalString()}}function iv(e){return Qf.fromServerFormat(e.fieldPath)}function av(e){return Wh.create(iv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wf()}}(e.fieldFilter.op),e.fieldFilter.value)}function ov(e){switch(e.unaryFilter.op){case"IS_NAN":var t=iv(e.unaryFilter.field);return Wh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=iv(e.unaryFilter.field);return Wh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=iv(e.unaryFilter.field);return Wh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=iv(e.unaryFilter.field);return Wh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wf()}}function uv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function sv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function cv(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=fv(t)),t=lv(e.get(n),t);return fv(t)}function lv(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function fv(e){return e+"\x01\x01"}function hv(e){var t=e.length;if(xf(t>=2),2===t)return xf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Gf.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&wf(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:wf()}a=o+2}return new Gf(r)}var dv=["userId","batchId"];function pv(e,t){return[e,cv(t)]}function vv(e,t,n){return[e,cv(t),n]}var yv={},mv=["parentPath","readTime"],gv=["canonicalId","targetId"],kv=["targetId","path"],bv=["path","targetId"],wv=["collectionId","parent"],xv=["indexId","uid"],_v=["uid","sequenceNumber"],Ev=["indexId","uid","arrayValue","directionalValue","documentKey"],Sv=["indexId","uid","documentKey"],Iv=["userId","collectionPath","documentId"],Tv=["userId","collectionPath","largestBatchId"],Cv=["userId","collectionGroup","largestBatchId"],Av=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Nv=[].concat(hn(Av),["documentOverlays"]),Ov=[].concat(hn(Nv),["indexConfiguration","indexState","indexEntries"]),Pv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rv=function(){function e(){An(this,e),this.onCommittedListeners=[]}return On(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Dv=function(){function e(t){var n=this;An(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return On(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&wf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ta(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Lv=function(){function e(t,n){var r=this;An(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new If,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new jv(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=qv(e.target.error);r.At.reject(new jv(t,n))}}return On(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(mf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Vv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new jv(n,t)}}}]),e}(),Mv=function(){function e(t,n,r){An(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(va())&&gf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return On(e,[{key:"Nt",value:function(){var e=Cn(Vn().mark((function e(t){var n=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return mf("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new jv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Sf(Ef.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Sf(Ef.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new jv(t,n))},i.onupgradeneeded=function(e){mf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){mf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Cn(Vn().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Vn().mark((function e(){var n,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=Lv.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),Dv.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,mf("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return mf("SimpleDb","Removing database:",e),Bv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!wa())return!1;if(e.St())return!0;var t=va(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/crwn-clothing",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Fv=function(){function e(t){An(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return On(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"qt",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Bv(this.$t.delete())}}]),e}(),jv=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,Ef.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return On(n)}(Sf);function Uv(e){return"IndexedDbTransactionError"===e.name}var Vv=function(){function e(t){An(this,e),this.store=t}return On(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(mf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(mf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Bv(n)}},{key:"add",value:function(e){return mf("SimpleDb","ADD",this.store.name,e,e),Bv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Bv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),mf("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return mf("SimpleDb","DELETE",this.store.name,e),Bv(this.store.delete(e))}},{key:"count",value:function(){return mf("SimpleDb","COUNT",this.store.name),Bv(this.store.count())}},{key:"Ut",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Dv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Dv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){mf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new Dv((function(n,r){t.onerror=function(e){var t=qv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Dv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Fv(i),o=t(i.primaryKey,i.value,a);if(o instanceof Dv){var u=o.catch((function(e){return a.done(),Dv.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Dv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Bv(e){return new Dv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qv(e.target.error);n(t)}}))}var zv=!1;function qv(e){var t=Mv.Vt(va());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Sf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return zv||(zv=!0,setTimeout((function(){throw r}),0)),r}}return e}var Hv=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return On(n)}(Rv);function Wv(e,t){var n=_f(e);return Mv.xt(n.Ht,t)}var Kv=function(){function e(t,n,r,i){An(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return On(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&zd(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ta(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&qd(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=ta(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&qd(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(zf.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),kp())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Uf(this.mutations,e.mutations,(function(e,t){return Wd(e,t)}))&&Uf(this.baseMutations,e.baseMutations,(function(e,t){return Wd(e,t)}))}}]),e}(),Gv=function(){function e(t,n,r,i){An(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return On(e,null,[{key:"from",value:function(t,n,r){xf(t.mutations.length===r.length);for(var i=mp,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),$v=function(){function e(t,n){An(this,e),this.largestBatchId=t,this.mutation=n}return On(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Qv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zf.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xf.EMPTY_BYTE_STRING;An(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return On(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Yv=On((function e(t){An(this,e),this.Jt=t}));function Xv(e,t){var n;if(t.document)n=Gp(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=lh.fromSegments(t.noDocument.path),i=ny(t.noDocument.readTime);n=Ph.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return wf();var a=lh.fromSegments(t.unknownDocument.path),o=ny(t.unknownDocument.version);n=Ph.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(ey(t.readTime)),n}function Jv(e,t){var n=t.key.path.popLast().toArray(),r=Zv(t.readTime);if(t.isFoundDocument()){var i=function(e,t){return{name:Vp(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Dp(e,t.version.toTimestamp())}}(e.Jt,t);return{document:i,hasCommittedMutations:t.hasCommittedMutations,readTime:r,parentPath:n}}if(t.isNoDocument()){var a=t.key.path.toArray(),o=t.hasCommittedMutations;return{noDocument:{path:a,readTime:ty(t.version)},hasCommittedMutations:o,readTime:r,parentPath:n}}return t.isUnknownDocument()?{unknownDocument:{path:t.key.path.toArray(),version:ty(t.version)},hasCommittedMutations:!0,readTime:r,parentPath:n}:wf()}function Zv(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ey(e){var t=new Bf(e[0],e[1]);return zf.fromTimestamp(t)}function ty(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ny(e){var t=new Bf(e.seconds,e.nanoseconds);return zf.fromTimestamp(t)}function ry(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Yp(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Yp(e.Jt,t)})),u=Bf.fromMillis(t.localWriteTimeMs);return new Kv(t.batchId,u,n,o)}function iy(e){var t,n,r=ny(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ny(e.lastLimboFreeSnapshotVersion):zf.min();return void 0!==e.query.documents?(xf(1===(n=e.query).documents.length),t=pd(ud(qp(n.documents[0])))):t=function(e){return pd(Zp(e))}(e.query),new Qv(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Xf.fromBase64String(e.resumeToken))}function ay(e,t){var n,r=ty(t.snapshotVersion),i=ty(t.lastLimboFreeSnapshotVersion);n=qh(t.target)?Xp(e.Jt,t.target):Jp(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Bh(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function oy(e){var t=Zp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vd(t,t.limit,"L"):t}function uy(e,t){return new $v(t.largestBatchId,Yp(e.Jt,t.overlayMutation))}function sy(e,t){var n=t.path.lastSegment();return[e,cv(t.path.popLast()),n]}var cy=function(){function e(){An(this,e)}return On(e,[{key:"getBundleMetadata",value:function(e,t){return ly(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ny(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ly(e).put({bundleId:(n=t).id,createTime:ty(Fp(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return fy(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:oy(t.bundledQuery),readTime:ny(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return fy(e).put(function(e){return{name:e.name,readTime:ty(Fp(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ly(e){return Wv(e,"bundles")}function fy(e){return Wv(e,"namedQueries")}var hy=function(){function e(t,n){An(this,e),this.M=t,this.userId=n}return On(e,[{key:"getOverlay",value:function(e,t){var n=this;return dy(e).get(sy(this.userId,t)).next((function(e){return e?uy(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new $v(t,a);i.push(r.Xt(e,o))})),Dv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(cv(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(dy(e).Qt("collectionPathOverlayIndex",i))})),Dv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=yp(),a=cv(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return dy(e).Ut("collectionPathOverlayIndex",o).next((function(e){var t,n=ta(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=uy(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=yp(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return dy(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=uy(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return dy(e).put(function(e,t,n){var r=ia(sy(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Qp(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function dy(e){return Wv(e,"documentOverlays")}var py=function(){function e(){An(this,e)}return On(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(eh(e.integerValue));else if("doubleValue"in e){var n=eh(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),sh(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ae(th(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ue(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Th(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):wf()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=ta(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ue",value:function(e,t){var n=this;this.ne(t,37),lh.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function vy(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function yy(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=vy(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}py.fe=new py;var my=function(){function e(){An(this,e),this.buffer=new Uint8Array(1024),this.position=0}return On(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=ta(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=ta(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=yy(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=yy(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),gy=function(){function e(t){An(this,e),this.De=t}return On(e,[{key:"ae",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),ky=function(){function e(t){An(this,e),this.De=t}return On(e,[{key:"ae",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),by=function(){function e(){An(this,e),this.De=new my,this.Ce=new gy(this.De),this.xe=new ky(this.De)}return On(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),wy=function(){function e(t,n,r,i){An(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return On(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function xy(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=_y(e.arrayValue,t.arrayValue))?n:0!==(n=_y(e.directionalValue,t.directionalValue))?n:lh.comparator(e.documentKey,t.documentKey)}function _y(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Ey=function(){function e(t){An(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=ta(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.$e=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return On(e,[{key:"Fe",value:function(e){var t=Dh(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Lh(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.$e){var a=n[r];if(!this.Le(this.$e,a)||!this.qe(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.qe(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=ta(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"qe",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Sy=function(){function e(){An(this,e),this.Ue=new Iy}return On(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ue.add(t),Dv.resolve()}},{key:"getCollectionParents",value:function(e,t){return Dv.resolve(this.Ue.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Dv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Dv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Dv.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return Dv.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Dv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Dv.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Dv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Dv.resolve()}}]),e}(),Iy=function(){function e(){An(this,e),this.index={}}return On(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cp(Gf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new cp(Gf.comparator)).toArray()}}]),e}(),Ty=new Uint8Array(0),Cy=function(){function e(t){An(this,e),this.user=t,this.Ke=new Iy,this.Ge=new ap((function(e){return Bh(e)}),(function(e,t){return zh(e,t)})),this.uid=t.uid||""}return On(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:cv(i)};return Ay(e).put(a)}return Dv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Vf(t),""],!1,!0);return Ay(e).Ut(r).next((function(e){var r,i=ta(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(hv(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Oy(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Oy(e),r=Py(e),i=Ny(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Ny(e),i=!0,a=new Map;return Dv.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=kp();return Dv.forEach(a,(function(i,a){var o;mf("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Bh(t)));var u=function(e,t){var n=Dh(t);if(void 0===n)return null;var r,i=ta(Hh(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=ta(Lh(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=ta(Hh(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=ta(Lh(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=ta(Hh(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?hh:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?bh(oh.empty(),lh.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:wf();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=hh}Ch(c,d)===d&&(c=d,l=p)}}catch(m){f.e(m)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var y=e.startAt.position[v];Ch(c,y)===y&&(c=y,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(m){o.e(m)}finally{o.f()}return new ed(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=ta(Lh(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=ta(Hh(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?bh(oh.empty(),lh.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?fh:wf(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=fh}Ah(c,d)===d&&(c=d,l=p)}}catch(m){f.e(m)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var y=e.endAt.position[v];Ah(c,y)===y&&(c=y,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(m){o.e(m)}finally{o.f()}return new ed(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return Dv.forEach(p,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new lh(hv(t.documentKey)))}))}))}))})).next((function(){return e}))}return Dv.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):Ty,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,hn(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new wy(e,lh.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new wy(e,lh.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new wy(e,lh.empty(),Ty,Ty)}},{key:"getFieldIndex",value:function(e,t){var n=new Ey(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.Fe(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new by,i=ta(Lh(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);py.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new by;return py.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new by);var i,a=0,o=ta(Lh(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=ta(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&xh(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);py.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=hn(e),a=[],o=ta(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=ta(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new by;f.seed(l.Se()),py.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Wh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Oy(e),i=Py(e);return(t?r.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.Ut()).next((function(e){var t=[];return Dv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Fh(t.sequenceNumber,new jh(ny(t.readTime),new lh(hv(t.documentKey)),t.largestBatchId)):Fh.empty(),r=e.fields.map((function(e){var t=ia(e,2),n=t[0],r=t[1];return new Mh(Qf.fromServerFormat(n),r)}));return new Rh(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:jf(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Oy(e),a=Py(e);return this.sn(e).next((function(e){return i.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Dv.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ty(r.readTime),documentKey:cv(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Dv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Dv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Dv.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?Dv.resolve():n.an(e,i,t,a)}))}))}))}))}},{key:"un",value:function(e,t,n){return Ny(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:cv(t.key.path)})}},{key:"cn",value:function(e,t,n){return Ny(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,cv(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=Ny(e),i=new cp(xy);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,cv(t.path)])},(function(e,r){i=i.add(new wy(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new cp(xy),r=this.Ze(t,e);if(null==r)return n;var i=Dh(t);if(null!=i){var a=e.data.field(i.fieldPath);if(xh(a)){var o,u=ta(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new wy(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new wy(t.indexId,e.key,Ty,r));return n}},{key:"an",value:function(e,t,n,r){var i=this;mf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=fp(a),s=fp(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=fp(o)):l?(i(u),u=fp(a)):(u=fp(a),s=fp(o))}}(n,r,xy,(function(n){a.push(i.un(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),Dv.waitFor(a)}},{key:"sn",value:function(e){var t=1;return Py(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return xy(e,t)})).filter((function(e,t,n){return!t||0!==xy(e,n[t-1])}));var r=[];r.push(e);var i,a=ta(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=xy(o,e),s=xy(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function Ay(e){return Wv(e,"collectionParents")}function Ny(e){return Wv(e,"indexEntries")}function Oy(e){return Wv(e,"indexConfiguration")}function Py(e){return Wv(e,"indexState")}var Ry={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dy=function(){function e(t,n,r){An(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return On(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Ly(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){xf(1===u)})));var c,l=[],f=ta(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=vv(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Dv.waitFor(a).next((function(){return l}))}function My(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw wf();t=e.noDocument}return JSON.stringify(t).length}Dy.DEFAULT_COLLECTION_PERCENTILE=10,Dy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dy.DEFAULT=new Dy(41943040,Dy.DEFAULT_COLLECTION_PERCENTILE,Dy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dy.DISABLED=new Dy(-1,0,0);var Fy=function(){function e(t,n,r,i){An(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return On(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uy(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Vy(e),o=Uy(e);return o.add({}).next((function(u){xf("number"==typeof u);var s,c=new Kv(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Qp(e.Jt,t)})),i=n.mutations.map((function(t){return Qp(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new cp((function(e,t){return jf(e.canonicalString(),t.canonicalString())})),d=ta(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=vv(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,yv))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),Dv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Uy(e).get(t).next((function(e){return e?(xf(e.userId===n.userId),ry(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?Dv.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Uy(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(xf(t.batchId>=r),a=ry(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Uy(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uy(e).Ut("userMutationsIndex",n).next((function(e){return e.map((function(e){return ry(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=pv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Vy(e).Wt({range:i},(function(r,i,o){var u=ia(r,3),s=u[0],c=u[1],l=u[2],f=hv(c);if(s===n.userId&&t.path.isEqual(f))return Uy(e).get(l).next((function(e){if(!e)throw wf();xf(e.userId===n.userId),a.push(ry(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cp(jf),i=[];return t.forEach((function(t){var a=pv(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Vy(e).Wt({range:o},(function(e,i,a){var o=ia(e,3),u=o[0],s=o[1],c=o[2],l=hv(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Dv.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=pv(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new cp(jf);return Vy(e).Wt({range:o},(function(e,t,a){var o=ia(e,3),s=o[0],c=o[1],l=o[2],f=hv(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Uy(e).get(t).next((function(e){if(null===e)throw wf();xf(e.userId===n.userId),r.push(ry(n.M,e))})))})),Dv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Ly(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),Dv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Dv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Vy(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=hv(e[1]);i.push(a)}else r.done()})).next((function(){xf(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return jy(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return By(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return xf(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function jy(e,t,n){var r=pv(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Vy(e).Wt({range:a,jt:!0},(function(e,n,r){var a=ia(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Uy(e){return Wv(e,"mutations")}function Vy(e){return Wv(e,"documentMutations")}function By(e){return Wv(e,"mutationQueues")}var zy=function(){function e(t){An(this,e),this.wn=t}return On(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),qy=function(){function e(t,n){An(this,e),this.referenceDelegate=t,this.M=n}return On(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new zy(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return zf.fromTimestamp(new Bf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Hy(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return xf(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Hy(e).Wt((function(o,u){var s=iy(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Dv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Hy(e).Wt((function(e,n){var r=iy(n);t(r)}))}},{key:"yn",value:function(e){return Wy(e).get("targetGlobalKey").next((function(e){return xf(null!==e),e}))}},{key:"pn",value:function(e,t){return Wy(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return Hy(e).put(ay(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Bh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Hy(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=iy(n);zh(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Ky(e);return t.forEach((function(t){var o=cv(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Dv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Ky(e);return Dv.forEach(t,(function(t){var a=cv(t.path);return Dv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Ky(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ky(e),i=kp();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=hv(e[1]),a=new lh(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=cv(t.path),r=IDBKeyRange.bound([n],[Vf(n)],!1,!0),i=0;return Ky(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=ia(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Hy(e).get(t).next((function(e){return e?iy(e):null}))}}]),e}();function Hy(e){return Wv(e,"targets")}function Wy(e){return Wv(e,"targetGlobal")}function Ky(e){return Wv(e,"targetDocuments")}function Gy(e){return $y.apply(this,arguments)}function $y(){return $y=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ef.FAILED_PRECONDITION&&t.message===Pv){e.next=2;break}throw t;case 2:mf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}function Qy(e,t){var n=ia(e,2),r=n[0],i=n[1],a=ia(t,2),o=a[0],u=a[1],s=jf(r,o);return 0===s?jf(i,u):s}var Yy=function(){function e(t){An(this,e),this.En=t,this.buffer=new cp(Qy),this.An=0}return On(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Qy(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Xy=function(){function e(t,n){An(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return On(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;mf("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Cn(Vn().mark((function n(){return Vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Uv(n.t0)){n.next=12;break}mf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Gy(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Jy=function(){function e(t,n){An(this,e),this.Sn=t,this.params=n}return On(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Dv.resolve(Lf.A);var r=new Yy(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(mf("LruGarbageCollector","Garbage collection skipped; disabled"),Dv.resolve(Ry)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(mf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Ry):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(mf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),yf()<=Wa.DEBUG&&mf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Dv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Zy=function(){function e(t,n){An(this,e),this.db=t,this.garbageCollector=function(e,t){return new Jy(e,t)}(this,n)}return On(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return em(e,n)}},{key:"removeReference",value:function(e,t,n){return em(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return em(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return By(e).zt((function(r){return jy(e,r,t).next((function(e){return e&&(n=!0),Dv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,zf.min()),Ky(e).delete([0,cv(o.path)])}))}));i.push(s)}})).next((function(){return Dv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return em(e,t)}},{key:"kn",value:function(e,t){var n,r=Ky(e),i=Lf.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=ia(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Lf.A&&t(new lh(hv(n)),i),i=s,n=u):i=Lf.A})).next((function(){i!==Lf.A&&t(new lh(hv(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function em(e,t){return Ky(e).put(function(e,t){return{targetId:0,path:cv(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var tm=function(){function e(){An(this,e),this.changes=new ap((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return On(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ph.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Dv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),nm=function(){function e(t){An(this,e),this.M=t}return On(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return am(e).put(om(t),n)}},{key:"removeEntry",value:function(e,t){var n=am(e),r=om(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return am(e).get(om(t)).next((function(e){return n.$n(t,e)}))}},{key:"Fn",value:function(e,t){var n=this;return am(e).get(om(t)).next((function(e){return{document:n.$n(t,e),size:My(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=dp();return this.Bn(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=dp(),i=new op(lh.comparator);return this.Bn(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,My(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return Dv.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return am(e).Wt({range:r},(function(e,t,r){for(var o=lh.fromSegments(e);a&&lh.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.qt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=dp(),a=t.length+1,o={};if(n.isEqual(zf.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=Zv(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index="collectionReadTimeIndex"}return am(e).Wt(o,(function(e,n,o){if(e.length===a){var u=r.$n(lh.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new rm(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return im(e).get("remoteDocumentGlobalKey").next((function(e){return xf(!!e),e}))}},{key:"On",value:function(e,t){return im(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=Xv(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(zf.min()))return n}return Ph.newInvalidDocument(e)}}]),e}(),rm=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).Un=e,i.trackRemovals=r,i.Kn=new ap((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return On(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new cp((function(e,t){return jf(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Kn.get(a);if(o.isValidDocument()){var s=Jv(t.Un.M,o);i=i.add(a.path.popLast());var c=My(s);r+=c-u,n.push(t.Un.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=Jv(t.Un.M,o.convertToNoDocument(zf.min()));n.push(t.Un.addEntry(e,a,l))}else n.push(t.Un.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Un.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Un.updateMetadata(e,r)),Dv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Un.Fn(e,t).next((function(e){return n.Kn.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Un.Ln(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,t){n.Kn.set(e,t)})),t}))}}]),n}(tm);function im(e){return Wv(e,"remoteDocumentGlobal")}function am(e){return Wv(e,"remoteDocuments")}function om(e){return e.path.toArray()}var um=function(){function e(t){An(this,e),this.M=t}return On(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Lv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dv,{unique:!0}),e.createObjectStore("documentMutations")}(e),sm(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Dv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),sm(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:zf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").Ut().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dv,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Dv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore("remoteDocuments");t.createIndex("readTimeIndex","readTime",{unique:!1}),t.createIndex("collectionReadTimeIndex",mv,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Iv});t.createIndex("collectionPathOverlayIndex",Tv,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Cv,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:xv}).createIndex("sequenceNumberIndex",_v,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ev}).createIndex("documentKeyIndex",Sv,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=My(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.Ut().next((function(n){return Dv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ut("userMutationsIndex",i).next((function(r){return Dv.forEach(r,(function(r){xf(r.userId===n.userId);var i=ry(t.M,r);return Ly(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Gf(n),o=function(e){return[0,cv(e)]}(a);r.push(t.get(o).next((function(n){return n?Dv.resolve():function(n){return t.put({targetId:0,path:cv(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Dv.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:wv});var n=t.store("collectionParents"),r=new Iy,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:cv(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Gf(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=ia(e,3),r=(n[0],n[1]),a=(n[2],hv(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=iy(r),a=ay(t.M,i);return n.put(a)}))}}]),e}();function sm(e){e.createObjectStore("targetDocuments",{keyPath:kv}).createIndex("documentTargetsIndex",bv,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gv,{unique:!0}),e.createObjectStore("targetGlobal")}var cm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lm=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(An(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hn=a,this.window=o,this.document=u,this.Jn=c,this.Yn=l,this.Xn=f,this.Zn=null,this.ts=!1,this.isPrimary=!1,this.networkEnabled=!0,this.es=null,this.inForeground=!1,this.ns=null,this.ss=null,this.rs=Number.NEGATIVE_INFINITY,this.os=function(e){return Promise.resolve()},!e.vt())throw new Sf(Ef.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zy(this,i),this.us=n+"main",this.M=new Yv(s),this.cs=new Mv(this.us,this.Xn,new um(this.M)),this.hs=new qy(this.referenceDelegate,this.M),this.ls=function(e){return new nm(e)}(this.M),this.fs=new cy,this.window&&this.window.localStorage?this.ds=this.window.localStorage:(this.ds=null,!1===l&&gf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return On(e,[{key:"start",value:function(){var e=this;return this._s().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Sf(Ef.FAILED_PRECONDITION,cm);return e.ws(),e.gs(),e.ys(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.hs.getHighestSequenceNumber(t)}))})).then((function(t){e.Zn=new Lf(t,e.Jn)})).then((function(){e.ts=!0})).catch((function(t){return e.cs&&e.cs.close(),Promise.reject(t)}))}},{key:"ps",value:function(e){var t=this;return this.os=function(){var n=Cn(Vn().mark((function n(r){return Vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.cs.Ot(function(){var t=Cn(Vn().mark((function t(n){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hn.enqueueAndForget(Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t._s();case 4:case"end":return e.stop()}}),e)})))))}},{key:"_s",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return hm(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Is(t).next((function(t){t||(e.isPrimary=!1,e.Hn.enqueueRetryable((function(){return e.os(!1)})))}))})).next((function(){return e.Ts(t)})).next((function(n){return e.isPrimary&&!n?e.Es(t).next((function(){return!1})):!!n&&e.As(t).next((function(){return!0}))}))})).catch((function(t){if(Uv(t))return mf("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return mf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hn.enqueueRetryable((function(){return e.os(t)})),e.isPrimary=t}))}},{key:"Is",value:function(e){var t=this;return fm(e).get("owner").next((function(e){return Dv.resolve(t.Rs(e))}))}},{key:"bs",value:function(e){return hm(e).delete(this.clientId)}},{key:"Ps",value:function(){var e=Cn(Vn().mark((function e(){var t,n,r,i,a=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vs(this.rs,18e5)){e.next=6;break}return this.rs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Wv(e,"clientMetadata");return t.Ut().next((function(e){var n=a.vs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Dv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ds){n=ta(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ds.removeItem(this.Ss(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ys",value:function(){var e=this;this.ss=this.Hn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e._s().then((function(){return e.Ps()})).then((function(){return e.ys()}))}))}},{key:"Rs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ts",value:function(e){var t=this;return this.Yn?Dv.resolve(!0):fm(e).get("owner").next((function(n){if(null!==n&&t.Vs(n.leaseTimestampMs,5e3)&&!t.Ds(n.ownerId)){if(t.Rs(n)&&t.networkEnabled)return!0;if(!t.Rs(n)){if(!n.allowTabSynchronization)throw new Sf(Ef.FAILED_PRECONDITION,cm);return!1}}return!(!t.networkEnabled||!t.inForeground)||hm(e).Ut().next((function(e){return void 0===t.vs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&mf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Cn(Vn().mark((function e(){var t=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ts=!1,this.Cs(),this.ss&&(this.ss.cancel(),this.ss=null),this.xs(),this.Ns(),e.next=7,this.cs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Hv(e,Lf.A);return t.Es(n).next((function(){return t.bs(n)}))}));case 7:this.cs.close(),this.ks();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vs",value:function(e,t){var n=this;return e.filter((function(e){return n.Vs(e.updateTimeMs,t)&&!n.Ds(e.clientId)}))}},{key:"Ms",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return hm(t).Ut().next((function(t){return e.vs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ts}},{key:"getMutationQueue",value:function(e,t){return Fy.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getIndexManager",value:function(e){return new Cy(e)}},{key:"getDocumentOverlayCache",value:function(e){return hy.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;mf("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.Xn)?Ov:12===i?Nv:11===i?Av:void wf();return this.cs.runTransaction(e,o,u,(function(i){return a=new Hv(i,r.Zn?r.Zn.next():Lf.A),"readwrite-primary"===t?r.Is(a).next((function(e){return!!e||r.Ts(a)})).next((function(t){if(!t)throw gf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hn.enqueueRetryable((function(){return r.os(!1)})),new Sf(Ef.FAILED_PRECONDITION,Pv);return n(a)})).next((function(e){return r.As(a).next((function(){return e}))})):r.Os(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e){var t=this;return fm(e).get("owner").next((function(e){if(null!==e&&t.Vs(e.leaseTimestampMs,5e3)&&!t.Ds(e.ownerId)&&!t.Rs(e)&&!(t.Yn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Sf(Ef.FAILED_PRECONDITION,cm)}))}},{key:"As",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fm(e).put("owner",t)}},{key:"Es",value:function(e){var t=this,n=fm(e);return n.get("owner").next((function(e){return t.Rs(e)?(mf("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Dv.resolve()}))}},{key:"Vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(gf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ws",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ns=function(){e.Hn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e._s()}))},this.document.addEventListener("visibilitychange",this.ns),this.inForeground="visible"===this.document.visibilityState)}},{key:"xs",value:function(){this.ns&&(this.document.removeEventListener("visibilitychange",this.ns),this.ns=null)}},{key:"gs",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.es=function(){t.Cs(),!ma()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hn.enterRestrictedMode(!0),t.Hn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.es))}},{key:"Ns",value:function(){this.es&&(this.window.removeEventListener("pagehide",this.es),this.es=null)}},{key:"Ds",value:function(e){var t;try{var n=null!==(null===(t=this.ds)||void 0===t?void 0:t.getItem(this.Ss(e)));return mf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return gf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Cs",value:function(){if(this.ds)try{this.ds.setItem(this.Ss(this.clientId),String(Date.now()))}catch(hu){gf("Failed to set zombie client id.",hu)}}},{key:"ks",value:function(){if(this.ds)try{this.ds.removeItem(this.Ss(this.clientId))}catch(hu){}}},{key:"Ss",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return Mv.vt()}}]),e}();function fm(e){return Wv(e,"owner")}function hm(e){return Wv(e,"clientMetadata")}function dm(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var pm=On((function e(t,n){An(this,e),this.progress=t,this.$s=n})),vm=function(){function e(t,n,r){An(this,e),this.ls=t,this.Fs=n,this.indexManager=r}return On(e,[{key:"Bs",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.ls.getEntry(e,t).next((function(e){var t,r=ta(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=ta(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Us",value:function(e,t){var n=this;return this.ls.getEntries(e,t).next((function(t){return n.Ks(e,t).next((function(){return t}))}))}},{key:"Ks",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Gs",value:function(e,t,n){return function(e){return lh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):hd(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new lh(t)).next((function(e){var t=vp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=vp();return this.indexManager.getCollectionParents(e,i).next((function(o){return Dv.forEach(o,(function(o){var u=function(e,t){return new ad(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.ls.getAll(e,t.path,n).next((function(n){return r=n,i.Fs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=ta(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=ta(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Ph.newInvalidDocument(s),r=r.insert(s,c)),qd(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){kd(t,n)||(r=r.remove(e))})),r}))}}]),e}(),ym=function(){function e(t,n,r,i){An(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return On(e,null,[{key:"Js",value:function(t,n){var r,i=kp(),a=kp(),o=ta(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),mm=function(){function e(){An(this,e)}return On(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Gs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(zf.min())?this.Zs(e,t):this.Xs.Us(e,r).next((function(a){var o=i.ti(t,a);return(sd(t)||cd(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(yf()<=Wa.DEBUG&&mf("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gd(t)),i.Xs.Gs(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new cp(bd(e));return t.forEach((function(t,r){kd(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return yf()<=Wa.DEBUG&&mf("QueryEngine","Using full collection scan to execute query:",gd(t)),this.Xs.Gs(e,t,zf.min())}}]),e}(),gm=function(){function e(t,n,r,i){An(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new op(jf),this.ii=new ap((function(e){return Bh(e)}),zh),this.ri=zf.min(),this.oi=t.getRemoteDocumentCache(),this.hs=t.getTargetCache(),this.fs=t.getBundleCache(),this.ai(r)}return On(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Fs=this.persistence.getMutationQueue(e,this.indexManager),this.ui=new vm(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function km(e,t,n,r){return new gm(e,t,n,r)}function bm(e,t){return wm.apply(this,arguments)}function wm(){return wm=Cn(Vn().mark((function e(t,n){var r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Fs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Fs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=kp(),s=ta(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ta(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=ta(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=ta(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ui.Us(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),wm.apply(this,arguments)}function xm(e,t){var n=_f(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Dv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);xf(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Fs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}function _m(e){var t=_f(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.hs.getLastRemoteSnapshotVersion(e)}))}function Em(e,t){var n=_f(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.hs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.hs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Xf.EMPTY_BYTE_STRING,zf.min()).withLastLimboFreeSnapshotVersion(zf.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.hs.updateTargetData(e,c))}}));var u=dp();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Sm(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(zf.min())){var s=n.hs.getLastRemoteSnapshotVersion(e).next((function(t){return n.hs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Dv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ui.Ks(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function Sm(e,t,n){var r=kp();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=dp();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(zf.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):mf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Im(e,t){var n=_f(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Fs.getNextMutationBatchAfterBatchId(e,t)}))}function Tm(e,t){var n=_f(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.hs.getTargetData(e,t).next((function(i){return i?(r=i,Dv.resolve(r)):n.hs.allocateTargetId(e).next((function(i){return r=new Qv(t,i,0,e.currentSequenceNumber),n.hs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function Cm(e,t,n){return Am.apply(this,arguments)}function Am(){return Am=Cn(Vn().mark((function e(t,n,r){var i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=_f(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Uv(e.t1)){e.next=12;break}throw e.t1;case 12:mf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Am.apply(this,arguments)}function Nm(e,t,n){var r=_f(e),i=zf.min(),a=kp();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=_f(e),i=r.ii.get(n);return void 0!==i?Dv.resolve(r.si.get(i)):r.hs.getTargetData(t,n)}(r,e,pd(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.hs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Gs(e,t,n?i:zf.min(),n?a:kp())})).next((function(e){return{documents:e,hi:a}}))}))}function Om(e,t){var n=_f(e),r=_f(n.hs),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Pm(e){var t=_f(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=_f(e),i=dp(),a=Zv(n),o=am(t),u=IDBKeyRange.lowerBound(a,!0);return o.Wt({index:"readTimeIndex",range:u},(function(e,t){var n=Xv(r.M,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{$s:i,readTime:ey(a)}}))}(t.oi,e,t.ri)})).then((function(e){var n=e.$s,r=e.readTime;return t.ri=r,n}))}function Rm(e){return Dm.apply(this,arguments)}function Dm(){return Dm=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_f(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=am(e),n=zf.min();return t.Wt({index:"readTimeIndex",reverse:!0},(function(e,t,r){t.readTime&&(n=ey(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.ri=e})));case 2:case"end":return e.stop()}}),e)}))),Dm.apply(this,arguments)}function Lm(e,t,n,r){return Mm.apply(this,arguments)}function Mm(){return Mm=Cn(Vn().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=_f(t),o=kp(),u=dp(),s=ta(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,Tm(a,function(e){return pd(ud(Gf.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Sm(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.hs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.hs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ui.Ks(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Mm.apply(this,arguments)}function Fm(e,t){return jm.apply(this,arguments)}function jm(){return jm=Cn(Vn().mark((function e(t,n){var r,i,a,o=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:kp(),e.next=3,Tm(t,pd(oy(n.bundledQuery)));case 3:return i=e.sent,a=_f(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Fp(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.fs.saveNamedQuery(e,n);var o=i.withResumeToken(Xf.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.hs.updateTargetData(e,o).next((function(){return a.hs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.hs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.fs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),jm.apply(this,arguments)}var Um=function(){function e(t){An(this,e),this.M=t,this._i=new Map,this.wi=new Map}return On(e,[{key:"getBundleMetadata",value:function(e,t){return Dv.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:Fp(n.createTime)}),Dv.resolve()}},{key:"getNamedQuery",value:function(e,t){return Dv.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:oy(e.bundledQuery),readTime:Fp(e.readTime)}}(t)),Dv.resolve()}}]),e}(),Vm=function(){function e(){An(this,e),this.overlays=new op(lh.comparator),this.mi=new Map}return On(e,[{key:"getOverlay",value:function(e,t){return Dv.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Dv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),Dv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=yp(),i=t.length+1,a=new lh(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Dv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new op((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=yp(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=yp(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Dv.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new $v(t,n));var a=this.mi.get(t);void 0===a&&(a=kp(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),Bm=function(){function e(){An(this,e),this.gi=new cp(zm.yi),this.pi=new cp(zm.Ii)}return On(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new zm(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new zm(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new lh(new Gf([])),r=new zm(n,e),i=new zm(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new lh(new Gf([])),n=new zm(t,e),r=new zm(t,e+1),i=kp();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new zm(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),zm=function(){function e(t,n){An(this,e),this.key=t,this.Vi=n}return On(e,null,[{key:"yi",value:function(e,t){return lh.comparator(e.key,t.key)||jf(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return jf(e.Vi,t.Vi)||lh.comparator(e.key,t.key)}}]),e}(),qm=function(){function e(t,n){An(this,e),this.indexManager=t,this.referenceDelegate=n,this.Fs=[],this.vi=1,this.Si=new cp(zm.yi)}return On(e,[{key:"checkEmpty",value:function(e){return Dv.resolve(0===this.Fs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.Fs.length>0&&this.Fs[this.Fs.length-1];var a=new Kv(i,t,n,r);this.Fs.push(a);var o,u=ta(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new zm(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Dv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Dv.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return Dv.resolve(this.Fs.length>i?this.Fs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Dv.resolve(0===this.Fs.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return Dv.resolve(this.Fs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new zm(t,0),i=new zm(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),Dv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cp(jf);return t.forEach((function(e){var t=new zm(e,0),i=new zm(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),Dv.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;lh.isDocumentKey(i)||(i=i.child(""));var a=new zm(new lh(i),0),o=new cp(jf);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),Dv.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;xf(0===this.Ni(t.batchId,"removed")),this.Fs.shift();var r=this.Si;return Dv.forEach(t.mutations,(function(i){var a=new zm(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new zm(t,0),r=this.Si.firstAfterOrEqual(n);return Dv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Fs.length,Dv.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.Fs.length?0:e-this.Fs[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.Fs.length?null:this.Fs[t]}}]),e}(),Hm=function(){function e(t){An(this,e),this.ki=t,this.docs=new op(lh.comparator),this.size=0}return On(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Dv.resolve(n?n.document.mutableCopy():Ph.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=dp();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ph.newInvalidDocument(e))})),Dv.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=dp(),i=new lh(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Dv.resolve(r)}},{key:"Mi",value:function(e,t){return Dv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Wm(this)}},{key:"getSize",value:function(e){return Dv.resolve(this.size)}}]),e}(),Wm=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this)).Un=e,r}return On(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Un.addEntry(e,i)):t.Un.removeEntry(r)})),Dv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Un.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Un.getEntries(e,t)}}]),n}(tm),Km=function(){function e(t){An(this,e),this.persistence=t,this.Oi=new ap((function(e){return Bh(e)}),zh),this.lastRemoteSnapshotVersion=zf.min(),this.highestTargetId=0,this.$i=0,this.Fi=new Bm,this.targetCount=0,this.Bi=zy.mn()}return On(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),Dv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Dv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Dv.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),Dv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),Dv.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new zy(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,Dv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),Dv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.Fi.Ri(t.targetId),this.targetCount-=1,Dv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Dv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Dv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return Dv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Fi.Ti(t,n),Dv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Fi.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Dv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Fi.Ri(t),Dv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Fi.Pi(t);return Dv.resolve(n)}},{key:"containsKey",value:function(e,t){return Dv.resolve(this.Fi.containsKey(t))}}]),e}(),Gm=function(){function e(t,n){var r=this;An(this,e),this.Li={},this.overlays={},this.Zn=new Lf(0),this.ts=!1,this.ts=!0,this.referenceDelegate=t(this),this.hs=new Km(this),this.indexManager=new Sy,this.ls=new Hm((function(e){return r.referenceDelegate.qi(e)})),this.M=new Yv(n),this.fs=new Um(this.M)}return On(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ts=!1,Promise.resolve()}},{key:"started",get:function(){return this.ts}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Vm,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new qm(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;mf("MemoryPersistence","Starting transaction:",e);var i=new $m(this.Zn.next());return this.referenceDelegate.Ui(),n(i).next((function(e){return r.referenceDelegate.Ki(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gi",value:function(e,t){return Dv.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$m=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return On(n)}(Rv),Qm=function(){function e(t){An(this,e),this.persistence=t,this.Qi=new Bm,this.ji=null}return On(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw wf()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),Dv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),Dv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),Dv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ui",value:function(){this.ji=new Set}},{key:"Ki",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dv.forEach(this.zi,(function(r){var i=lh.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,zf.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return Dv.or([function(){return Dv.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gi(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function Ym(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Xm(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Jm(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Zm=function(){function e(t,n,r,i){An(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return On(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Sf(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(gf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),eg=function(){function e(t,n,r){An(this,e),this.targetId=t,this.state=n,this.error=r}return On(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Sf(i.error.code,i.error.message))),a?new e(t,i.state,r):(gf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),tg=function(){function e(t,n){An(this,e),this.clientId=t,this.activeTargetIds=n}return On(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=wp(),o=0;i&&o<r.activeTargetIds.length;++o)i=ch(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(gf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ng=function(){function e(t,n){An(this,e),this.clientId=t,this.onlineState=n}return On(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(gf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),rg=function(){function e(){An(this,e),this.activeTargetIds=wp()}return On(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ig=function(){function e(t,n,r,i,a){An(this,e),this.window=t,this.Hn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new op(jf),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Ym(this.persistenceKey,this.tr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new rg),this.ur=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return On(e,[{key:"start",value:function(){var e=Cn(Vn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ms();case 2:t=e.sent,n=ta(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ym(this.persistenceKey,i)))&&(o=tg.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=ta(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Jm(this.persistenceKey,e));if(n){var r=eg.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Jm(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(){this.Ar()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return mf("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){mf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){mf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(mf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void gf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hn.enqueueRetryable(Cn(Vn().mark((function e(){var r,i,a,o,u,s;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.ur.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=39;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=39;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=39;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=Lf.A;if(null!=e)try{var n=JSON.parse(e);xf("number"==typeof n),t=n}catch(e){gf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Lf.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.dr){e.next=39;break}return e.abrupt("return",t.syncEngine.Cr());case 39:e.next=42;break;case 41:t.ir.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Zm(this.currentUser,e,t,n),i=Xm(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Xm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Jm(this.persistenceKey,e),i=new eg(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(){this.setItem(this.dr,"value-not-used")}},{key:"Rr",value:function(e){var t=this.ur.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return tg.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Zm.Ji(new df(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return eg.Ji(r,t)}},{key:"wr",value:function(e){return ng.Ji(e)}},{key:"vr",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Nr(t.batchId,t.state,t.error));case 2:mf("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.kr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=wp();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ag=function(){function e(){An(this,e),this.Or=new rg,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return On(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Or.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Or.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Or.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Or=new rg,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),og=function(){function e(){An(this,e)}return On(e,[{key:"Fr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ug=function(){function e(){var t=this;An(this,e),this.Br=function(){return t.Lr()},this.qr=function(){return t.Ur()},this.Kr=[],this.Gr()}return On(e,[{key:"Fr",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}},{key:"Gr",value:function(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}},{key:"Lr",value:function(){mf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ta(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ur",value:function(){mf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ta(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),sg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},cg=function(){function e(t){An(this,e),this.Qr=t.Qr,this.jr=t.jr}return On(e,[{key:"Wr",value:function(e){this.zr=e}},{key:"Hr",value:function(e){this.Jr=e}},{key:"onMessage",value:function(e){this.Yr=e}},{key:"close",value:function(){this.jr()}},{key:"send",value:function(e){this.Qr(e)}},{key:"Xr",value:function(){this.zr()}},{key:"Zr",value:function(e){this.Jr(e)}},{key:"eo",value:function(e){this.Yr(e)}}]),e}(),lg=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return On(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ff;o.listenOnce(of.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case af.NO_ERROR:var t=o.getResponseJson();mf("Connection","XHR received:",JSON.stringify(t)),i(t);break;case af.TIMEOUT:mf("Connection",'RPC "'+e+'" timed out'),a(new Sf(Ef.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:var n=o.getStatus();if(mf("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ef).indexOf(t)>=0?t:Ef.UNKNOWN}(r.status);a(new Sf(u,r.message))}else a(new Sf(Ef.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Sf(Ef.UNAVAILABLE,"Connection failed."));break;default:wf()}}finally{mf("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"co",value:function(e,t,n){var r=[this.no,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=nf(),a=rf(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new cf({})),this.oo(o.initMessageHeaders,t,n),ya()||ka()||va().indexOf("Electron/")>=0||ba()||va().indexOf("MSAppHost/")>=0||ga()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");mf("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new cg({Qr:function(e){l?mf("Connection","Not sending because WebChannel is closed:",e):(c||(mf("Connection","Opening WebChannel transport."),s.open(),c=!0),mf("Connection","WebChannel sending:",e),s.send(e))},jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,lf.EventType.OPEN,(function(){l||mf("Connection","WebChannel transport opened.")})),h(s,lf.EventType.CLOSE,(function(){l||(l=!0,mf("Connection","WebChannel transport closed"),f.Zr())})),h(s,lf.EventType.ERROR,(function(e){l||(l=!0,kf("Connection","WebChannel transport errored:",e),f.Zr(new Sf(Ef.UNAVAILABLE,"The operation could not be completed")))})),h(s,lf.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];xf(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){mf("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Jd[e];if(void 0!==t)return ip(t)}(a),u=i.message;void 0===o&&(o=Ef.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Zr(new Sf(o,u)),s.close()}else mf("Connection","WebChannel received:",n),f.eo(n)}})),h(a,uf.STAT_EVENT,(function(e){e.stat===sf.PROXY?mf("Connection","Detected buffering proxy"):e.stat===sf.NOPROXY&&mf("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Xr()}),0),f}}]),n}(function(){function e(t){An(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.no=n+"://"+t.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return On(e,[{key:"io",value:function(e,t,n,r,i){var a=this.ro(e,t);mf("RestConnection","Sending: ",a,n);var o={};return this.oo(o,r,i),this.ao(e,a,o,n).then((function(e){return mf("RestConnection","Received: ",e),e}),(function(t){throw kf("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"uo",value:function(e,t,n,r,i){return this.io(e,t,n,r,i)}},{key:"oo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+pf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ro",value:function(e,t){var n=sg[e];return"".concat(this.no,"/v1/").concat(t,":").concat(n)}}]),e}());function fg(){return"undefined"!=typeof window?window:null}function hg(){return"undefined"!=typeof document?document:null}function dg(e){return new Rp(e,!0)}var pg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;An(this,e),this.Hn=t,this.timerId=n,this.ho=r,this.lo=i,this.fo=a,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}return On(e,[{key:"reset",value:function(){this._o=0}},{key:"yo",value:function(){this._o=this.fo}},{key:"po",value:function(e){var t=this;this.cancel();var n=Math.floor(this._o+this.Io()),r=Math.max(0,Date.now()-this.mo),i=Math.max(0,n-r);i>0&&mf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this._o," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.wo=this.Hn.enqueueAfterDelay(this.timerId,i,(function(){return t.mo=Date.now(),e()})),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}},{key:"To",value:function(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}},{key:"cancel",value:function(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}},{key:"Io",value:function(){return(Math.random()-.5)*this._o}}]),e}(),vg=function(){function e(t,n,r,i,a,o,u,s){An(this,e),this.Hn=t,this.Eo=r,this.Ao=i,this.Ro=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new pg(t,n)}return On(e,[{key:"So",value:function(){return 1===this.state||5===this.state||this.Do()}},{key:"Do",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Co()}},{key:"stop",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.So(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xo",value:function(){this.state=0,this.vo.reset()}},{key:"No",value:function(){var e=this;this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,(function(){return e.ko()})))}},{key:"Mo",value:function(e){this.Oo(),this.stream.send(e)}},{key:"ko",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Do()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.Po&&(this.Po.cancel(),this.Po=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Oo(),this.$o(),this.vo.cancel(),this.bo++,4!==t?this.vo.reset():n&&n.code===Ef.RESOURCE_EXHAUSTED?(gf(n.toString()),gf("Using maximum backoff delay to prevent overloading the backend."),this.vo.yo()):n&&n.code===Ef.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Fo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Hr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Bo(this.bo),n=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=ia(t,2),i=r[0],a=r[1];e.bo===n&&e.Lo(i,a)}),(function(n){t((function(){var t=new Sf(Ef.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Lo",value:function(e,t){var n=this,r=this.Bo(this.bo);this.stream=this.Uo(e,t),this.stream.Wr((function(){r((function(){return n.state=2,n.Vo=n.Hn.enqueueAfterDelay(n.Ao,1e4,(function(){return n.Do()&&(n.state=3),Promise.resolve()})),n.listener.Wr()}))})),this.stream.Hr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Co",value:function(){var e=this;this.state=5,this.vo.po(Cn(Vn().mark((function t(){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return mf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Bo",value:function(e){var t=this;return function(n){t.Hn.enqueueAndForget((function(){return t.bo===e?n():(mf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),yg=function(e){Pn(n,e);var t=jn(n);function n(e,r,i,a,o,u){var s;return An(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return On(n,[{key:"Uo",value:function(e,t){return this.Ro.co("Listen",e,t)}},{key:"onMessage",value:function(e){this.vo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(xf(void 0===t||"string"==typeof t),Xf.fromBase64String(t||"")):(xf(void 0===t||t instanceof Uint8Array),Xf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ef.UNKNOWN:ip(e.code);return new Sf(t,e.message||"")}(o);n=new Ip(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Bp(e,s.document.name),l=Fp(s.document.updateTime),f=new Nh({mapValue:{fields:s.document.fields}}),h=Ph.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Ep(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Bp(e,v.document),m=v.readTime?Fp(v.readTime):zf.min(),g=Ph.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Ep([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Bp(e,b.document),x=b.removedTargetIds||[];n=new Ep([],x,w,null)}else{if(!("filter"in t))return wf();t.filter;var _=t.filter;_.targetId;var E=_.count||0,S=new np(E),I=_.targetId;n=new Sp(I,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return zf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?zf.min():t.readTime?Fp(t.readTime):zf.min()}(e);return this.listener.Ko(t,n)}},{key:"Go",value:function(e){var t={};t.database=Hp(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=qh(r)?{documents:Xp(e,r)}:{query:Jp(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Lp(e,t.resumeToken):t.snapshotVersion.compareTo(zf.min())>0&&(n.readTime=Dp(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wf()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Mo(t)}},{key:"Qo",value:function(e){var t={};t.database=Hp(this.M),t.removeTarget=e,this.Mo(t)}}]),n}(vg),mg=function(e){Pn(n,e);var t=jn(n);function n(e,r,i,a,o,u){var s;return An(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.jo=!1,s}return On(n,[{key:"Wo",get:function(){return this.jo}},{key:"start",value:function(){this.jo=!1,this.lastStreamToken=void 0,Xo(Rn(n.prototype),"start",this).call(this)}},{key:"Fo",value:function(){this.jo&&this.zo([])}},{key:"Uo",value:function(e,t){return this.Ro.co("Write",e,t)}},{key:"onMessage",value:function(e){if(xf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.jo){this.vo.reset();var t=function(e,t){return e&&e.length>0?(xf(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Fp(e.updateTime):Fp(t);return n.isEqual(zf.min())&&(n=Fp(t)),new jd(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Fp(e.commitTime);return this.listener.Ho(n,t)}return xf(!e.writeResults||0===e.writeResults.length),this.jo=!0,this.listener.Jo()}},{key:"Yo",value:function(){var e={};e.database=Hp(this.M),this.Mo(e)}},{key:"zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Qp(t.M,e)}))};this.Mo(n)}}]),n}(vg),gg=function(e){Pn(n,e);var t=jn(n);function n(e,r,i,a){var o;return An(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Ro=i,o.M=a,o.Xo=!1,o}return On(n,[{key:"Zo",value:function(){if(this.Xo)throw new Sf(Ef.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"io",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=ia(i,2),o=a[0],u=a[1];return r.Ro.io(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ef.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Sf(Ef.UNKNOWN,e.toString())}))}},{key:"uo",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=ia(i,2),o=a[0],u=a[1];return r.Ro.uo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ef.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Sf(Ef.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Xo=!0}}]),n}(function(){return On((function e(){An(this,e)}))}()),kg=function(){function e(t,n){An(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}return On(e,[{key:"sa",value:function(){var e=this;0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ea=null,e.ra("Backend didn't respond within 10 seconds."),e.ia("Offline"),Promise.resolve()})))}},{key:"oa",value:function(e){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ia("Offline")))}},{key:"set",value:function(e){this.aa(),this.ta=0,"Online"===e&&(this.na=!1),this.ia(e)}},{key:"ia",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ra",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.na?(gf(t),this.na=!1):mf("OnlineStateTracker",t)}},{key:"aa",value:function(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}]),e}(),bg=On((function e(t,n,r,i,a){var o=this;An(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=a,this.fa.Fr((function(e){r.enqueueAndForget(Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Og(o),!e.t0){e.next=5;break}return mf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=_f(t)).ha.add(4),e.next=4,_g(n);case 4:return n.da.set("Unknown"),n.ha.delete(4),e.next=8,wg(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.da=new kg(r,i)}));function wg(e){return xg.apply(this,arguments)}function xg(){return xg=Cn(Vn().mark((function e(t){var n,r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Og(t)){e.next=18;break}n=ta(t.la),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),xg.apply(this,arguments)}function _g(e){return Eg.apply(this,arguments)}function Eg(){return Eg=Cn(Vn().mark((function e(t){var n,r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ta(t.la),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Eg.apply(this,arguments)}function Sg(e,t){var n=_f(e);n.ca.has(t.targetId)||(n.ca.set(t.targetId,t),Ng(n)?Ag(n):ok(n).Do()&&Tg(n,t))}function Ig(e,t){var n=_f(e),r=ok(n);n.ca.delete(t),r.Do()&&Cg(n,t),0===n.ca.size&&(r.Do()?r.No():Og(n)&&n.da.set("Unknown"))}function Tg(e,t){e._a.Z(t.targetId),ok(e).Go(t)}function Cg(e,t){e._a.Z(t),ok(e).Qo(t)}function Ag(e){e._a=new Cp({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.ca.get(t)||null}}),ok(e).start(),e.da.sa()}function Ng(e){return Og(e)&&!ok(e).So()&&e.ca.size>0}function Og(e){return 0===_f(e).ha.size}function Pg(e){e._a=void 0}function Rg(e){return Dg.apply(this,arguments)}function Dg(){return Dg=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ca.forEach((function(e,n){Tg(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Dg.apply(this,arguments)}function Lg(e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pg(t),Ng(t)?(t.da.oa(n),Ag(t)):t.da.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Mg.apply(this,arguments)}function Fg(e,t,n){return jg.apply(this,arguments)}function jg(){return jg=Cn(Vn().mark((function e(t,n,r){var i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.da.set("Online"),!(n instanceof Ip&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Cn(Vn().mark((function e(t,n){var r,i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ta(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.ca.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.ca.delete(o),t._a.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),mf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Ug(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ep?t._a.at(n):n instanceof Sp?t._a._t(n):t._a.ht(n),r.isEqual(zf.min())){e.next=29;break}return e.prev=14,e.next=17,_m(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e._a.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.ca.get(r);i&&e.ca.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.ca.get(t);if(n){e.ca.set(t,n.withResumeToken(Xf.EMPTY_BYTE_STRING,n.snapshotVersion)),Cg(e,t);var r=new Qv(n.target,t,1,n.sequenceNumber);Tg(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),mf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Ug(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),jg.apply(this,arguments)}function Ug(e,t,n){return Vg.apply(this,arguments)}function Vg(){return Vg=Cn(Vn().mark((function e(t,n,r){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Uv(n)){e.next=2;break}throw n;case 2:return t.ha.add(1),e.next=5,_g(t);case 5:t.da.set("Offline"),r||(r=function(){return _m(t.localStore)}),t.asyncQueue.enqueueRetryable(Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.ha.delete(1),e.next=6,wg(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Vg.apply(this,arguments)}function Bg(e,t){return t().catch((function(n){return Ug(e,n,t)}))}function zg(e){return qg.apply(this,arguments)}function qg(){return qg=Cn(Vn().mark((function e(t){var n,r,i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_f(t),r=uk(n),i=n.ua.length>0?n.ua[n.ua.length-1].batchId:-1;case 2:if(!Hg(n)){e.next=19;break}return e.prev=3,e.next=6,Im(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.ua.length&&r.No(),e.abrupt("break",19);case 10:i=a.batchId,Wg(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Ug(n,e.t0);case 17:e.next=2;break;case 19:Kg(n)&&Gg(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),qg.apply(this,arguments)}function Hg(e){return Og(e)&&e.ua.length<10}function Wg(e,t){e.ua.push(t);var n=uk(e);n.Do()&&n.Wo&&n.zo(t.mutations)}function Kg(e){return Og(e)&&!uk(e).So()&&e.ua.length>0}function Gg(e){uk(e).start()}function $g(e){return Qg.apply(this,arguments)}function Qg(){return Qg=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uk(t).Yo();case 1:case"end":return e.stop()}}),e)}))),Qg.apply(this,arguments)}function Yg(e){return Xg.apply(this,arguments)}function Xg(){return Xg=Cn(Vn().mark((function e(t){var n,r,i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=uk(t),r=ta(t.ua);try{for(r.s();!(i=r.n()).done;)a=i.value,n.zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Xg.apply(this,arguments)}function Jg(e,t,n){return Zg.apply(this,arguments)}function Zg(){return Zg=Cn(Vn().mark((function e(t,n,r){var i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.ua.shift(),a=Gv.from(i,n,r),e.next=3,Bg(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,zg(t);case 5:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function ek(e,t){return tk.apply(this,arguments)}function tk(){return tk=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&uk(t).Wo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Cn(Vn().mark((function e(t,n){var r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rp(i=n.code)||i===Ef.ABORTED){e.next=7;break}return r=t.ua.shift(),uk(t).xo(),e.next=5,Bg(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,zg(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Kg(t)&&Gg(t);case 5:case"end":return e.stop()}}),e)}))),tk.apply(this,arguments)}function nk(e,t){return rk.apply(this,arguments)}function rk(){return rk=Cn(Vn().mark((function e(t,n){var r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=_f(t)).asyncQueue.verifyOperationInProgress(),mf("RemoteStore","RemoteStore received new credentials"),i=Og(r),r.ha.add(3),e.next=6,_g(r);case 6:return i&&r.da.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.ha.delete(3),e.next=12,wg(r);case 12:case"end":return e.stop()}}),e)}))),rk.apply(this,arguments)}function ik(e,t){return ak.apply(this,arguments)}function ak(){return ak=Cn(Vn().mark((function e(t,n){var r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_f(t),!n){e.next=7;break}return r.ha.delete(2),e.next=5,wg(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.ha.add(2),e.next=12,_g(r);case 12:r.da.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e){return e.wa||(e.wa=function(e,t,n){var r=_f(e);return r.Zo(),new yg(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:Rg.bind(null,e),Hr:Lg.bind(null,e),Ko:Fg.bind(null,e)}),e.la.push(function(){var t=Cn(Vn().mark((function t(n){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.wa.xo(),Ng(e)?Ag(e):e.da.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.wa.stop();case 6:Pg(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.wa}function uk(e){return e.ma||(e.ma=function(e,t,n){var r=_f(e);return r.Zo(),new mg(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:$g.bind(null,e),Hr:ek.bind(null,e),Jo:Yg.bind(null,e),Ho:Jg.bind(null,e)}),e.la.push(function(){var t=Cn(Vn().mark((function t(n){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.ma.xo(),t.next=4,zg(e);case 4:t.next=9;break;case 6:return t.next=8,e.ma.stop();case 8:e.ua.length>0&&(mf("RemoteStore","Stopping write stream with ".concat(e.ua.length," pending writes")),e.ua=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.ma}var sk=function(){function e(t,n,r,i,a){An(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new If,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return On(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sf(Ef.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ck(e,t){if(gf("AsyncQueue","".concat(t,": ").concat(e)),Uv(e))return new Sf(Ef.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var lk=function(){function e(t){An(this,e),this.comparator=t?function(e,n){return t(e,n)||lh.comparator(e.key,n.key)}:function(e,t){return lh.comparator(e.key,t.key)},this.keyedMap=vp(),this.sortedSet=new op(this.comparator)}return On(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),fk=function(){function e(){An(this,e),this.ga=new op(lh.comparator)}return On(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):wf():this.ga=this.ga.insert(t,e)}},{key:"ya",value:function(){var e=[];return this.ga.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),hk=function(){function e(t,n,r,i,a,o,u,s){An(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return On(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,lk.emptySet(n),a,r,i,!0,!1)}}]),e}(),dk=On((function e(){An(this,e),this.pa=void 0,this.listeners=[]})),pk=On((function e(){An(this,e),this.queries=new ap((function(e){return md(e)}),yd),this.onlineState="Unknown",this.Ia=new Set}));function vk(e,t){return yk.apply(this,arguments)}function yk(){return yk=Cn(Vn().mark((function e(t,n){var r,i,a,o,u;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_f(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new dk),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.pa=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ck(e.t0,"Initialization of query '".concat(gd(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ta(r.onlineState),o.pa&&n.Ea(o.pa)&&wk(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),yk.apply(this,arguments)}function mk(e,t){return gk.apply(this,arguments)}function gk(){return gk=Cn(Vn().mark((function e(t,n){var r,i,a,o,u;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_f(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function kk(e,t){var n,r=_f(e),i=!1,a=ta(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ta(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ea(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.pa=o}}}catch(f){a.e(f)}finally{a.f()}i&&wk(r)}function bk(e,t,n){var r=_f(e),i=r.queries.get(t);if(i){var a,o=ta(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function wk(e){e.Ia.forEach((function(e){e.next()}))}var xk=function(){function e(t,n,r){An(this,e),this.query=t,this.Aa=n,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=r||{}}return On(e,[{key:"Ea",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ta(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new hk(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Ra?this.Pa(e)&&(this.Aa.next(e),a=!0):this.Va(e,this.onlineState)&&(this.va(e),a=!0),this.ba=e,a}},{key:"onError",value:function(e){this.Aa.error(e)}},{key:"Ta",value:function(e){this.onlineState=e;var t=!1;return this.ba&&!this.Ra&&this.Va(this.ba,e)&&(this.va(this.ba),t=!0),t}},{key:"Va",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Sa||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Pa",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ba&&this.ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"va",value:function(e){e=hk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Ra=!0,this.Aa.next(e)}}]),e}(),_k=function(){function e(t,n){An(this,e),this.payload=t,this.byteLength=n}return On(e,[{key:"Da",value:function(){return"metadata"in this.payload}}]),e}(),Ek=function(){function e(t){An(this,e),this.M=t}return On(e,[{key:"li",value:function(e){return Bp(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?Gp(this.M,e.document,!1):Ph.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return Fp(e)}}]),e}(),Sk=function(){function e(t,n,r){An(this,e),this.Ca=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.progress=Ik(t)}return On(e,[{key:"xa",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Na",value:function(e){var t,n=new Map,r=new Ek(this.M),i=ta(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=ta(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||kp()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Cn(Vn().mark((function e(){var t,n,r,i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lm(this.localStore,new Ek(this.M),this.documents,this.Ca.id);case 2:t=e.sent,n=this.Na(this.documents),r=ta(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Fm(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new pm(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ik(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Tk=On((function e(t){An(this,e),this.key=t})),Ck=On((function e(t){An(this,e),this.key=t})),Ak=function(){function e(t,n){An(this,e),this.query=t,this.ka=n,this.Ma=null,this.current=!1,this.Oa=kp(),this.mutatedKeys=kp(),this.$a=bd(t),this.Fa=new lk(this.$a)}return On(e,[{key:"Ba",get:function(){return this.ka}},{key:"La",value:function(e,t){var n=this,r=t?t.qa:new fk,i=t?t.Fa:this.Fa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=sd(this.query)&&i.size===this.query.limit?i.last():null,c=cd(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=kd(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ua(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.$a(f,s)>0||c&&n.$a(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),sd(this.query)||cd(this.query))for(;o.size>this.query.limit;){var l=sd(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Fa:o,qa:r,ei:u,mutatedKeys:a}}},{key:"Ua",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Fa;this.Fa=e.Fa,this.mutatedKeys=e.mutatedKeys;var a=e.qa.ya();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wf()}};return n(e)-n(t)}(e.type,t.type)||r.$a(e.doc,t.doc)})),this.Ka(n);var o=t?this.Ga():[],u=0===this.Oa.size&&this.current?1:0,s=u!==this.Ma;return this.Ma=u,0!==a.length||s?{snapshot:new hk(this.query,e.Fa,i,a,e.mutatedKeys,0===u,s,!1),Qa:o}:{Qa:o}}},{key:"Ta",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new fk,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}},{key:"ja",value:function(e){return!this.ka.has(e)&&!!this.Fa.has(e)&&!this.Fa.get(e).hasLocalMutations}},{key:"Ka",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ka=t.ka.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ka=t.ka.delete(e)})),this.current=e.current)}},{key:"Ga",value:function(){var e=this;if(!this.current)return[];var t=this.Oa;this.Oa=kp(),this.Fa.forEach((function(t){e.ja(t.key)&&(e.Oa=e.Oa.add(t.key))}));var n=[];return t.forEach((function(t){e.Oa.has(t)||n.push(new Ck(t))})),this.Oa.forEach((function(e){t.has(e)||n.push(new Tk(e))})),n}},{key:"Wa",value:function(e){this.ka=e.hi,this.Oa=kp();var t=this.La(e.documents);return this.applyChanges(t,!0)}},{key:"za",value:function(){return hk.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}]),e}(),Nk=On((function e(t,n,r){An(this,e),this.query=t,this.targetId=n,this.view=r})),Ok=On((function e(t){An(this,e),this.key=t,this.Ha=!1})),Pk=function(){function e(t,n,r,i,a,o){An(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ja={},this.Ya=new ap((function(e){return md(e)}),yd),this.Xa=new Map,this.Za=new Set,this.tu=new op(lh.comparator),this.eu=new Map,this.nu=new Bm,this.su={},this.iu=new Map,this.ru=zy.gn(),this.onlineState="Unknown",this.ou=void 0}return On(e,[{key:"isPrimaryClient",get:function(){return!0===this.ou}}]),e}();function Rk(e,t){return Dk.apply(this,arguments)}function Dk(){return Dk=Cn(Vn().mark((function e(t,n){var r,i,a,o,u,s;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ib(t),!(o=r.Ya.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.za(),e.next=15;break;case 6:return e.next=8,Tm(r.localStore,pd(n));case 8:return u=e.sent,r.isPrimaryClient&&Sg(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Lk(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Dk.apply(this,arguments)}function Lk(e,t,n,r){return Mk.apply(this,arguments)}function Mk(){return Mk=Cn(Vn().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.au=function(e,n,r){return function(){var e=Cn(Vn().mark((function e(t,n,r,i){var a,o,u;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.La(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,Nm(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.La(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(nb(t,n.targetId,u.Qa),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Nm(t.localStore,n,!0);case 3:return a=e.sent,o=new Ak(n,a.hi),u=o.La(a.documents),s=_p.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),nb(t,r,c.Qa),l=new Nk(n,r,o),e.abrupt("return",(t.Ya.set(n,l),t.Xa.has(r)?t.Xa.get(r).push(n):t.Xa.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Mk.apply(this,arguments)}function Fk(e,t){return jk.apply(this,arguments)}function jk(){return jk=Cn(Vn().mark((function e(t,n){var r,i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_f(t),i=r.Ya.get(n),!((a=r.Xa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Xa.set(i.targetId,a.filter((function(e){return!yd(e,n)}))),void r.Ya.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Cm(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ig(r.remoteStore,i.targetId),eb(r,i.targetId)})).catch(Gy);case 9:e.next=14;break;case 11:return eb(r,i.targetId),e.next=14,Cm(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),jk.apply(this,arguments)}function Uk(e,t,n){return Vk.apply(this,arguments)}function Vk(){return Vk=Cn(Vn().mark((function e(t,n,r){var i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tb(t),e.prev=1,e.next=4,function(e,t){var n,r=_f(e),i=Bf.now(),a=t.reduce((function(e,t){return e.add(t.key)}),kp());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ui.Us(e,a).next((function(a){n=a;var o,u=[],s=ta(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Hd(c,n.get(c.key));null!=l&&u.push(new $d(c.key,l,Oh(l.value.mapValue),Ud.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Fs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.su[e.currentUser.toKey()];r||(r=new op(jf)),r=r.insert(t,n),e.su[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ab(i,a.changes);case 9:return e.next=11,zg(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ck(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Vk.apply(this,arguments)}function Bk(e,t){return zk.apply(this,arguments)}function zk(){return zk=Cn(Vn().mark((function e(t,n){var r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),e.prev=1,e.next=4,Em(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.eu.get(t);n&&(xf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ha=!0:e.modifiedDocuments.size>0?xf(n.Ha):e.removedDocuments.size>0&&(xf(n.Ha),n.Ha=!1))})),e.next=8,ab(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Gy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),zk.apply(this,arguments)}function qk(e,t,n){var r=_f(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ya.forEach((function(e,n){var r=n.view.Ta(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=_f(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ta(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ta(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&wk(n)}(r.eventManager,t),i.length&&r.Ja.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Hk(e,t,n){return Wk.apply(this,arguments)}function Wk(){return Wk=Cn(Vn().mark((function e(t,n,r){var i,a,o,u,s,c;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=_f(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.eu.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new op(lh.comparator)).insert(o,Ph.newNoDocument(o,zf.min())),s=kp().add(o),c=new xp(zf.min(),new Map,new cp(jf),u,s),e.next=9,Bk(i,c);case 9:i.tu=i.tu.remove(o),i.eu.delete(n),ib(i),e.next=16;break;case 14:return e.next=16,Cm(i.localStore,n,!1).then((function(){return eb(i,n,r)})).catch(Gy);case 16:case"end":return e.stop()}}),e)}))),Wk.apply(this,arguments)}function Kk(e,t){return Gk.apply(this,arguments)}function Gk(){return Gk=Cn(Vn().mark((function e(t,n){var r,i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),i=n.batch.batchId,e.prev=1,e.next=4,xm(r.localStore,n);case 4:return a=e.sent,Zk(r,i,null),Jk(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ab(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Gk.apply(this,arguments)}function $k(e,t,n){return Qk.apply(this,arguments)}function Qk(){return Qk=Cn(Vn().mark((function e(t,n,r){var i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_f(t),e.prev=1,e.next=4,function(e,t){var n=_f(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Fs.lookupMutationBatch(e,t).next((function(t){return xf(null!==t),r=t.keys(),n.Fs.removeMutationBatch(e,t)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Zk(i,n,r),Jk(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ab(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Qk.apply(this,arguments)}function Yk(e,t){return Xk.apply(this,arguments)}function Xk(){return Xk=Cn(Vn().mark((function e(t,n){var r,i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Og((r=_f(t)).remoteStore)||mf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=_f(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Fs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.iu.get(i)||[]).push(n),r.iu.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ck(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Xk.apply(this,arguments)}function Jk(e,t){(e.iu.get(t)||[]).forEach((function(e){e.resolve()})),e.iu.delete(t)}function Zk(e,t,n){var r=_f(e),i=r.su[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.su[r.currentUser.toKey()]=i}}function eb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ta(e.Xa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ya.delete(a),n&&e.Ja.uu(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Xa.delete(t),e.isPrimaryClient&&e.nu.Ri(t).forEach((function(t){e.nu.containsKey(t)||tb(e,t)}))}function tb(e,t){e.Za.delete(t.path.canonicalString());var n=e.tu.get(t);null!==n&&(Ig(e.remoteStore,n),e.tu=e.tu.remove(t),e.eu.delete(n),ib(e))}function nb(e,t,n){var r,i=ta(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Tk?(e.nu.addReference(a.key,t),rb(e,a)):a instanceof Ck?(mf("SyncEngine","Document no longer in limbo: "+a.key),e.nu.removeReference(a.key,t),e.nu.containsKey(a.key)||tb(e,a.key)):wf()}}catch(o){i.e(o)}finally{i.f()}}function rb(e,t){var n=t.key,r=n.path.canonicalString();e.tu.get(n)||e.Za.has(r)||(mf("SyncEngine","New document in limbo: "+n),e.Za.add(r),ib(e))}function ib(e){for(;e.Za.size>0&&e.tu.size<e.maxConcurrentLimboResolutions;){var t=e.Za.values().next().value;e.Za.delete(t);var n=new lh(Gf.fromString(t)),r=e.ru.next();e.eu.set(r,new Ok(n)),e.tu=e.tu.insert(n,r),Sg(e.remoteStore,new Qv(pd(ud(n.path)),r,2,Lf.A))}}function ab(e,t,n){return ob.apply(this,arguments)}function ob(){return ob=Cn(Vn().mark((function e(t,n,r){var i,a,o,u;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=_f(t),a=[],o=[],u=[],e.t0=i.Ya.isEmpty(),e.t0){e.next=9;break}return i.Ya.forEach((function(e,t){u.push(i.au(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=ym.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ja.Ko(a),e.next=9,function(){var e=Cn(Vn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Dv.forEach(n,(function(t){return Dv.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Dv.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Uv(e.t0)){e.next=10;break}throw e.t0;case 10:mf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ta(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),ob.apply(this,arguments)}function ub(e,t){return sb.apply(this,arguments)}function sb(){return sb=Cn(Vn().mark((function e(t,n){var r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=_f(t)).currentUser.isEqual(n)){e.next=11;break}return mf("SyncEngine","User change. New user:",n.toKey()),e.next=5,bm(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.iu.forEach((function(e){e.forEach((function(e){e.reject(new Sf(Ef.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.iu.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ab(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),sb.apply(this,arguments)}function cb(e,t){var n=_f(e),r=n.eu.get(t);if(r&&r.Ha)return kp().add(r.key);var i=kp(),a=n.Xa.get(t);if(!a)return i;var o,u=ta(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Ya.get(s);i=i.unionWith(c.view.Ba)}}catch(l){u.e(l)}finally{u.f()}return i}function lb(e,t){return fb.apply(this,arguments)}function fb(){return fb=Cn(Vn().mark((function e(t,n){var r,i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),e.next=3,Nm(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Wa(i),e.abrupt("return",(r.isPrimaryClient&&nb(r,n.targetId,a.Qa),a));case 6:case"end":return e.stop()}}),e)}))),fb.apply(this,arguments)}function hb(e){return db.apply(this,arguments)}function db(){return db=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_f(t),e.abrupt("return",Pm(n.localStore).then((function(e){return ab(n,e)})));case 2:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function pb(e,t,n,r){return vb.apply(this,arguments)}function vb(){return vb=Cn(Vn().mark((function e(t,n,r,i){var a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_f(t),e.next=3,function(e,t){var n=_f(e),r=_f(n.Fs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ui.Us(e,t):Dv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,zg(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Zk(a,n,i||null),Jk(a,n),function(e,t){_f(_f(e).Fs).dn(t)}(a.localStore,n)):wf();case 11:return e.next=13,ab(a,o);case 13:e.next=16;break;case 15:mf("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),vb.apply(this,arguments)}function yb(e,t){return mb.apply(this,arguments)}function mb(){return mb=Cn(Vn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ib(r=_f(t)),Tb(r),!0!==n||!0===r.ou){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,gb(r,i.toArray());case 5:return a=e.sent,r.ou=!0,e.next=9,ik(r.remoteStore,!0);case 9:o=ta(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Sg(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ou){e.next=25;break}return c=[],l=Promise.resolve(),r.Xa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return eb(r,t),Cm(r.localStore,t,!0)})),Ig(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,gb(r,c);case 21:return function(e){var t=_f(e);t.eu.forEach((function(e,n){Ig(t.remoteStore,n)})),t.nu.bi(),t.eu=new Map,t.tu=new op(lh.comparator)}(r),r.ou=!1,e.next=25,ik(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),mb.apply(this,arguments)}function gb(e,t,n){return kb.apply(this,arguments)}function kb(){return kb=Cn(Vn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=_f(t),a=[],o=[],u=ta(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Xa.get(c))||0===f.length){e.next=34;break}return e.next=11,Tm(i.localStore,pd(f[0]));case 11:l=e.sent,h=ta(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Ya.get(p),e.next=20,lb(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Om(i.localStore,c);case 36:return m=e.sent,e.next=39,Tm(i.localStore,m);case 39:return l=e.sent,e.next=42,Lk(i,bb(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ja.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),kb.apply(this,arguments)}function bb(e){return od(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function wb(e){var t=_f(e);return _f(_f(t.localStore).persistence).Ms()}function xb(e,t,n,r){return _b.apply(this,arguments)}function _b(){return _b=Cn(Vn().mark((function e(t,n,r,i){var a,o,u;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=_f(t)).ou){e.next=5;break}mf("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Xa.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Pm(a.localStore);case 11:return o=e.sent,u=xp.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,ab(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,Cm(a.localStore,n,!0);case 18:return eb(a,n,i),e.abrupt("break",21);case 20:wf();case 21:case"end":return e.stop()}}),e)}))),_b.apply(this,arguments)}function Eb(e,t,n){return Sb.apply(this,arguments)}function Sb(){return Sb=Cn(Vn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Ib(t)).ou){e.next=45;break}a=ta(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Xa.has(u)){e.next=10;break}return mf("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Om(i.localStore,u);case 12:return s=e.sent,e.next=15,Tm(i.localStore,s);case 15:return c=e.sent,e.next=18,Lk(i,bb(s),c.targetId,!1);case 18:Sg(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ta(r),e.prev=30,h=Vn().mark((function e(){var t;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Xa.has(t),!e.t0){e.next=5;break}return e.next=5,Cm(i.localStore,t,!1).then((function(){Ig(i.remoteStore,t),eb(i,t)})).catch(Gy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Sb.apply(this,arguments)}function Ib(e){var t=_f(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hk.bind(null,t),t.Ja.Ko=kk.bind(null,t.eventManager),t.Ja.uu=bk.bind(null,t.eventManager),t}function Tb(e){var t=_f(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Kk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$k.bind(null,t),t}function Cb(e,t,n){var r=_f(e);(function(){var e=Cn(Vn().mark((function e(t,n,r){var i,a,o,u,s;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=_f(e),r=Fp(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.fs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Ik(i)),a=new Sk(i,t.localStore,n.M),e.next=14,n.cu();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.xa(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.cu();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,ab(t,s.$s,void 0);case 30:return e.next=32,function(e,t){var n=_f(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.fs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),kf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Ab=function(){function e(){An(this,e),this.synchronizeTabs=!1}return On(e,[{key:"initialize",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=dg(t.databaseInfo.databaseId),this.sharedClientState=this.hu(t),this.persistence=this.lu(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.fu(t),this.localStore=this.du(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fu",value:function(e){return null}},{key:"du",value:function(e){return km(this.persistence,new mm,e.initialUser,this.M)}},{key:"lu",value:function(e){return new Gm(Qm.Wi,this.M)}},{key:"hu",value:function(e){return new ag}},{key:"terminate",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Nb=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this))._u=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return On(n,[{key:"initialize",value:function(){var e=Cn(Vn().mark((function e(t){var r=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo(Rn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Rm(this.localStore);case 4:return e.next=6,this._u.initialize(this,t);case 6:return e.next=8,Tb(this._u.syncEngine);case 8:return e.next=10,zg(this._u.remoteStore);case 10:return e.next=12,this.persistence.ps((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"du",value:function(e){return km(this.persistence,new mm,e.initialUser,this.M)}},{key:"fu",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Xy(t,e.asyncQueue)}},{key:"lu",value:function(e){var t=dm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Dy.withCacheSize(this.cacheSizeBytes):Dy.DEFAULT;return new lm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,fg(),hg(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"hu",value:function(e){return new ag}}]),n}(Ab),Ob=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,r,!1))._u=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return On(n,[{key:"initialize",value:function(){var e=Cn(Vn().mark((function e(t){var r,i=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo(Rn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this._u.syncEngine,e.t0=this.sharedClientState instanceof ig,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Nr:pb.bind(null,r),kr:xb.bind(null,r),Mr:Eb.bind(null,r),Ms:wb.bind(null,r),Cr:hb.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ps(function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yb(i._u.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t=fg();if(!ig.vt(t))throw new Sf(Ef.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=dm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ig(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Nb),Pb=function(){function e(){An(this,e)}return On(e,[{key:"initialize",value:function(){var e=Cn(Vn().mark((function e(t,n){var r=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return qk(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ub.bind(null,this.syncEngine),e.next=12,ik(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new pk}},{key:"createDatastore",value:function(e){var t,n=dg(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new lg(t));return function(e,t,n,r){return new gg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return qk(o.syncEngine,e,0)},a=ug.vt()?new ug:new og,new bg(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Pk(e,t,n,r,i,a);return o&&(u.ou=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_f(t),mf("RemoteStore","RemoteStore shutting down."),n.ha.add(5),e.next=5,_g(n);case 5:n.fa.shutdown(),n.da.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Rb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Cn(Vn().mark((function r(){var i;return Vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Db=function(){function e(t){An(this,e),this.observer=t,this.muted=!1}return On(e,[{key:"next",value:function(e){this.observer.next&&this.wu(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.wu(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"mu",value:function(){this.muted=!0}},{key:"wu",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Lb=function(){function e(t,n){var r=this;An(this,e),this.gu=t,this.M=n,this.metadata=new If,this.buffer=new Uint8Array,this.yu=new TextDecoder("utf-8"),this.pu().then((function(e){e&&e.Da()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return On(e,[{key:"close",value:function(){return this.gu.cancel()}},{key:"getMetadata",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.pu());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pu",value:function(){var e=Cn(Vn().mark((function e(){var t,n,r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Iu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.yu.decode(t),r=Number(n),isNaN(r)&&this.Tu("length string (".concat(n,") is not valid number")),e.next=9,this.Eu(r);case 9:return i=e.sent,e.abrupt("return",new _k(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Au",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Iu",value:function(){var e=Cn(Vn().mark((function e(){var t,n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Au()<0)){e.next=7;break}return e.next=3,this.Ru();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Au())<0&&this.Tu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Eu",value:function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ru();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Tu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.yu.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tu",value:function(e){throw this.gu.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ru",value:function(){var e=Cn(Vn().mark((function e(){var t,n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gu.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Mb=function(){function e(t){An(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return On(e,[{key:"lookup",value:function(){var e=Cn(Vn().mark((function e(t){var n,r=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Sf(Ef.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Cn(Vn().mark((function e(t,n){var r,i,a,o,u,s;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),i=Hp(r.M)+"/documents",a={documents:n.map((function(e){return Vp(r.M,e)}))},e.next=5,r.uo("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=$p(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());xf(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ep(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Cn(Vn().mark((function e(){var t,n=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=lh.fromPath(t);n.mutations.push(new tp(r,n.precondition(r)))})),e.next=7,function(){var e=Cn(Vn().mark((function e(t,n){var r,i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),i=Hp(r.M)+"/documents",a={writes:n.map((function(e){return Qp(r.M,e)}))},e.next=3,r.io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wf();t=zf.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Sf(Ef.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ud.updateTime(t):Ud.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(zf.min()))throw new Sf(Ef.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ud.updateTime(t)}return Ud.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Fb=function(){function e(t,n,r,i){An(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.bu=5,this.vo=new pg(this.asyncQueue,"transaction_retry")}return On(e,[{key:"run",value:function(){this.bu-=1,this.Pu()}},{key:"Pu",value:function(){var e=this;this.vo.po(Cn(Vn().mark((function t(){var n,r;return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Mb(e.datastore),(r=e.Vu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.vu(t)}))}))})).catch((function(t){e.vu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Vu",value:function(e){try{var t=this.updateFunction(e);return!uh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"vu",value:function(e){var t=this;this.bu>0&&this.Su(e)?(this.bu-=1,this.asyncQueue.enqueueAndForget((function(){return t.Pu(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Su",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!rp(t)}return!1}}]),e}(),jb=function(){function e(t,n,r,i){var a=this;An(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=df.UNAUTHENTICATED,this.clientId=Ff.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mf("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return mf("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return On(e,[{key:"getConfiguration",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Sf(Ef.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new If;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Cn(Vn().mark((function n(){var r;return Vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ck(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Ub(e,t){return Vb.apply(this,arguments)}function Vb(){return Vb=Cn(Vn().mark((function e(t,n){var r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),mf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,bm(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Vb.apply(this,arguments)}function Bb(e,t){return zb.apply(this,arguments)}function zb(){return zb=Cn(Vn().mark((function e(t,n){var r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,qb(t);case 3:return r=e.sent,mf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return nk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return nk(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),zb.apply(this,arguments)}function qb(e){return Hb.apply(this,arguments)}function Hb(){return Hb=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return mf("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Ub(t,new Ab);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Hb.apply(this,arguments)}function Wb(e){return Kb.apply(this,arguments)}function Kb(){return Kb=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return mf("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Bb(t,new Pb);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}function Gb(e){return qb(e).then((function(e){return e.persistence}))}function $b(e){return qb(e).then((function(e){return e.localStore}))}function Qb(e){return Wb(e).then((function(e){return e.remoteStore}))}function Yb(e){return Wb(e).then((function(e){return e.syncEngine}))}function Xb(e){return Jb.apply(this,arguments)}function Jb(){return Jb=Cn(Vn().mark((function e(t){var n,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wb(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Rk.bind(null,n.syncEngine),r.onUnlisten=Fk.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Jb.apply(this,arguments)}function Zb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new If;return e.asyncQueue.enqueueAndForget(Cn(Vn().mark((function i(){return Vn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Db({next:function(a){t.enqueueAndForget((function(){return mk(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Sf(Ef.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Sf(Ef.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new xk(ud(n.path),a,{includeMetadataChanges:!0,Sa:!0});return vk(e,o)},i.next=3,Xb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function ew(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new If;return e.asyncQueue.enqueueAndForget(Cn(Vn().mark((function i(){return Vn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Db({next:function(n){t.enqueueAndForget((function(){return mk(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Sf(Ef.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new xk(n,a,{includeMetadataChanges:!0,Sa:!0});return vk(e,o)},i.next=3,Xb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var tw=new Map;function nw(e,t,n){if(!n)throw new Sf(Ef.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function rw(e,t,n,r){if(!0===t&&!0===r)throw new Sf(Ef.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function iw(e){if(!lh.isDocumentKey(e))throw new Sf(Ef.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function aw(e){if(lh.isDocumentKey(e))throw new Sf(Ef.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ow(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":wf()}function uw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Sf(Ef.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ow(e);throw new Sf(Ef.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function sw(e,t){if(t<=0)throw new Sf(Ef.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var cw=function(){function e(t){var n;if(An(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Sf(Ef.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Sf(Ef.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,rw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return On(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),lw=function(){function e(t,n,r){An(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cw({}),this._settingsFrozen=!1,t instanceof oh?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Sf(Ef.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oh(e.options.projectId)}(t))}return On(e,[{key:"app",get:function(){if(!this._app)throw new Sf(Ef.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Sf(Ef.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Cf;switch(e.type){case"gapi":var t=e.client;return xf(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Pf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Sf(Ef.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=tw.get(e);t&&(mf("ComponentProvider","Removing Datastore"),tw.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function fw(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=uw(e,lw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&kf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=df.MOCK_USER;else{o=pa(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Sf(Ef.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new df(s)}e._authCredentials=new Af(new Tf(o,u))}}var hw=function(){function e(t,n,r){An(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return On(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new pw(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),dw=function(){function e(t,n,r){An(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return On(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),pw=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this,e,r,ud(i)))._path=i,a.type="collection",a}return On(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new hw(this.firestore,null,new lh(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(dw);function vw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=La(e),nw("collection","path",t),e instanceof lw){var a=Gf.fromString.apply(Gf,[t].concat(r));return aw(a),new pw(e,null,a)}if(!(e instanceof hw||e instanceof pw))throw new Sf(Ef.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gf.fromString.apply(Gf,[t].concat(r)));return aw(o),new pw(e.firestore,null,o)}function yw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=La(e),1===arguments.length&&(t=Ff.R()),nw("doc","path",t),e instanceof lw){var a=Gf.fromString.apply(Gf,[t].concat(r));return iw(a),new hw(e,null,new lh(a))}if(!(e instanceof hw||e instanceof pw))throw new Sf(Ef.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gf.fromString.apply(Gf,[t].concat(r)));return iw(o),new hw(e.firestore,e instanceof pw?e.converter:null,new lh(o))}function mw(e,t){return e=La(e),t=La(t),(e instanceof hw||e instanceof pw)&&(t instanceof hw||t instanceof pw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function gw(e,t){return e=La(e),t=La(t),e instanceof dw&&t instanceof dw&&e.firestore===t.firestore&&yd(e._query,t._query)&&e.converter===t.converter}var kw=function(){function e(){var t=this;An(this,e),this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new pg(this,"async_queue_retry"),this.Fu=function(){var e=hg();e&&mf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.vo.To()};var n=hg();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Fu)}return On(e,[{key:"isShuttingDown",get:function(){return this.xu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Bu(),this.Lu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.xu){this.xu=!0,this.Ou=e||!1;var t=hg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Fu)}}},{key:"enqueue",value:function(e){var t=this;if(this.Bu(),this.xu)return new Promise((function(){}));var n=new If;return this.Lu((function(){return t.xu&&t.Ou?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Cu.push(e),t.qu()}))}},{key:"qu",value:function(){var e=Cn(Vn().mark((function e(){var t=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Cu.length){e.next=14;break}return e.prev=1,e.next=4,this.Cu[0]();case 4:this.Cu.shift(),this.vo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Uv(e.t0)){e.next=12;break}throw e.t0;case 12:mf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Cu.length>0&&this.vo.po((function(){return t.qu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Lu",value:function(e){var t=this,n=this.Du.then((function(){return t.Mu=!0,e().catch((function(e){t.ku=e,t.Mu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw gf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Mu=!1,e}))}));return this.Du=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Bu(),this.$u.indexOf(e)>-1&&(t=0);var i=sk.createAndSchedule(this,e,t,n,(function(e){return r.Uu(e)}));return this.Nu.push(i),i}},{key:"Bu",value:function(){this.ku&&wf()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ku",value:function(){var e=Cn(Vn().mark((function e(){var t;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Du,e.next=3,t;case 3:if(t!==this.Du){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Gu",value:function(e){var t,n=ta(this.Nu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Qu",value:function(e){var t=this;return this.Ku().then((function(){t.Nu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ta(t.Nu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ku()}))}},{key:"ju",value:function(e){this.$u.push(e)}},{key:"Uu",value:function(e){var t=this.Nu.indexOf(e);this.Nu.splice(t,1)}}]),e}();function bw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ta(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ww=function(){function e(){An(this,e),this._progressObserver={},this._taskCompletionResolver=new If,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return On(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),xw=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new kw,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return On(n,[{key:"_terminate",value:function(){return this._firestoreClient||Ew(this),this._firestoreClient.terminate()}}]),n}(lw);function _w(e){return e._firestoreClient||Ew(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ew(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ah(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new jb(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Sw(e,t,n){var r=new If;return e.asyncQueue.enqueue(Cn(Vn().mark((function i(){return Vn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ub(e,n);case 3:return i.next=5,Bb(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Ef.FAILED_PRECONDITION||e.code===Ef.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Iw(e){return function(e){return e.asyncQueue.enqueue(Cn(Vn().mark((function t(){var n,r;return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gb(e);case 2:return n=t.sent,t.next=5,Qb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=_f(e);return t.ha.delete(0),wg(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(_w(e=uw(e,xw)))}function Tw(e){return function(e){return e.asyncQueue.enqueue(Cn(Vn().mark((function t(){var n,r;return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gb(e);case 2:return n=t.sent,t.next=5,Qb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=_f(t)).ha.add(0),e.next=4,_g(n);case 4:n.da.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(_w(e=uw(e,xw)))}function Cw(e,t){var n=_w(e=uw(e,xw)),r=new ww;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Lb(e,t)}(function(e,t){if(e instanceof Uint8Array)return Rb(e,t);if(e instanceof ArrayBuffer)return Rb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,dg(t));e.asyncQueue.enqueueAndForget(Cn(Vn().mark((function t(){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Cb,t.next=3,Yb(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Aw(e,t){return function(e,t){return e.asyncQueue.enqueue(Cn(Vn().mark((function n(){return Vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=_f(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.fs.getNamedQuery(e,t)}))},n.next=3,$b(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(_w(e=uw(e,xw)),t).then((function(t){return t?new dw(e,null,t.query):null}))}function Nw(e){if(e._initialized||e._terminated)throw new Sf(Ef.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ow=function(){function e(){An(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qf(n)}return On(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Pw=function(){function e(t){An(this,e),this._byteString=t}return On(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Xf.fromBase64String(t))}catch(t){throw new Sf(Ef.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Xf.fromUint8Array(t))}}]),e}(),Rw=On((function e(t){An(this,e),this._methodName=t})),Dw=function(){function e(t,n){if(An(this,e),!isFinite(t)||t<-90||t>90)throw new Sf(Ef.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Sf(Ef.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return On(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return jf(this._lat,e._lat)||jf(this._long,e._long)}}]),e}(),Lw=/^__.*__$/,Mw=function(){function e(t,n,r){An(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return On(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new $d(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gd(e,this.data,t,this.fieldTransforms)}}]),e}(),Fw=function(){function e(t,n,r){An(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return On(e,[{key:"toMutation",value:function(e,t){return new $d(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function jw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wf()}}var Uw=function(){function e(t,n,r,i,a,o){An(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Wu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return On(e,[{key:"path",get:function(){return this.settings.path}},{key:"zu",get:function(){return this.settings.zu}},{key:"Hu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Ju",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Xu(e),r}},{key:"Zu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Wu(),r}},{key:"tc",value:function(e){return this.Hu({path:void 0,Yu:!0})}},{key:"ec",value:function(e){return ax(e,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Wu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Xu(this.path.get(e))}},{key:"Xu",value:function(e){if(0===e.length)throw this.ec("Document fields must not be empty");if(jw(this.zu)&&Lw.test(e))throw this.ec('Document fields cannot begin and end with "__"')}}]),e}(),Vw=function(){function e(t,n,r){An(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||dg(t)}return On(e,[{key:"ic",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Uw({zu:e,methodName:t,sc:n,path:Qf.emptyPath(),Yu:!1,nc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function Bw(e){var t=e._freezeSettings(),n=dg(e._databaseId);return new Vw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zw(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ic(a.merge||a.mergeFields?2:0,t,n,i);tx("Data must be an object, but it was:",o,r);var u,s,c=Zw(r,o);if(a.merge)u=new Yf(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ta(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=nx(t,d,n);if(!o.contains(p))throw new Sf(Ef.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));ox(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Yf(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Mw(new Nh(c),u,s)}var qw=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.apply(this,arguments)}return On(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.zu)throw 1===e.zu?e.ec("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ec("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Rw);function Hw(e,t,n){return new Uw({zu:3,sc:t.settings.sc,methodName:e._methodName,Yu:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var Ww=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.apply(this,arguments)}return On(n,[{key:"_toFieldTransform",value:function(e){return new Fd(e.path,new Ad)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Rw),Kw=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e)).rc=r,i}return On(n,[{key:"_toFieldTransform",value:function(e){var t=Hw(this,e,!0),n=this.rc.map((function(e){return Jw(e,t)})),r=new Nd(n);return new Fd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Rw),Gw=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e)).rc=r,i}return On(n,[{key:"_toFieldTransform",value:function(e){var t=Hw(this,e,!0),n=this.rc.map((function(e){return Jw(e,t)})),r=new Pd(n);return new Fd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Rw),$w=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e)).oc=r,i}return On(n,[{key:"_toFieldTransform",value:function(e){var t=new Dd(e.M,Ed(e.M,this.oc));return new Fd(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Rw);function Qw(e,t,n,r){var i=e.ic(1,t,n);tx("Data must be an object, but it was:",i,r);var a=[],o=Nh.empty();Hf(r,(function(e,r){var u=ix(t,e,n);r=La(r);var s=i.Zu(u);if(r instanceof qw)a.push(u);else{var c=Jw(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Yf(a);return new Fw(o,u,i.fieldTransforms)}function Yw(e,t,n,r,i,a){var o=e.ic(1,t,n),u=[nx(t,r,n)],s=[i];if(a.length%2!=0)throw new Sf(Ef.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(nx(t,a[c])),s.push(a[c+1]);for(var l=[],f=Nh.empty(),h=u.length-1;h>=0;--h)if(!ox(l,u[h])){var d=u[h],p=s[h];p=La(p);var v=o.Zu(d);if(p instanceof qw)l.push(d);else{var y=Jw(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Yf(l);return new Fw(f,m,o.fieldTransforms)}function Xw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Jw(n,e.ic(r?4:3,t))}function Jw(e,t){if(ex(e=La(e)))return tx("Unsupported field value:",t,e),Zw(e,t);if(e instanceof Rw)return function(e,t){if(!jw(t.zu))throw t.ec("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ec("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Yu&&4!==t.zu)throw t.ec("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ta(e);try{for(a.s();!(n=a.n()).done;){var o=Jw(n.value,t.tc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=La(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ed(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Bf.fromDate(e);return{timestampValue:Dp(t.M,n)}}if(e instanceof Bf){var r=new Bf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Dp(t.M,r)}}if(e instanceof Dw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pw)return{bytesValue:Lp(t.M,e._byteString)};if(e instanceof hw){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ec("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:jp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ec("Unsupported field value: ".concat(ow(e)))}(e,t)}function Zw(e,t){var n={};return Wf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hf(e,(function(e,r){var i=Jw(r,t.Ju(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ex(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bf||e instanceof Dw||e instanceof Pw||e instanceof hw||e instanceof Rw)}function tx(e,t,n){if(!ex(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ow(n);throw"an object"===r?t.ec(e+" a custom object"):t.ec(e+" "+r)}}function nx(e,t,n){if((t=La(t))instanceof Ow)return t._internalPath;if("string"==typeof t)return ix(e,t);throw ax("Field path arguments must be of type string or ",e,!1,void 0,n)}var rx=new RegExp("[~\\*/\\[\\]]");function ix(e,t,n){if(t.search(rx)>=0)throw ax("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return aa(Ow,hn(t.split(".")))._internalPath}catch(r){throw ax("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ax(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Sf(Ef.INVALID_ARGUMENT,u+e+s)}function ox(e,t){return e.some((function(e){return e.isEqual(t)}))}var ux=function(){function e(t,n,r,i,a){An(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return On(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new hw(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(cx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),sx=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.apply(this,arguments)}return On(n,[{key:"data",value:function(){return Xo(Rn(n.prototype),"data",this).call(this)}}]),n}(ux);function cx(e,t){return"string"==typeof t?ix(e,t):t instanceof Ow?t._internalPath:t._delegate._internalPath}var lx=function(){function e(t,n){An(this,e),this.hasPendingWrites=t,this.fromCache=n}return On(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),fx=function(e){Pn(n,e);var t=jn(n);function n(e,r,i,a,o,u){var s;return An(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return On(n,[{key:"exists",value:function(){return Xo(Rn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new hx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(cx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(ux),hx=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.apply(this,arguments)}return On(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xo(Rn(n.prototype),"data",this).call(this,e)}}]),n}(fx),dx=function(){function e(t,n,r,i){An(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new lx(i.hasPendingWrites,i.fromCache),this.query=r}return On(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new hx(n._firestore,n._userDataWriter,r.key,r,new lx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Sf(Ef.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new hx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new hx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:px(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function px(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wf()}}function vx(e,t){return e instanceof fx&&t instanceof fx?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof dx&&t instanceof dx&&e._firestore===t._firestore&&gw(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function yx(e){if(cd(e)&&0===e.explicitOrderBy.length)throw new Sf(Ef.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mx=On((function e(){An(this,e)}));function gx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var kx=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this)).ac=e,a.uc=r,a.cc=i,a.type="where",a}return On(n,[{key:"_apply",value:function(e){var t=Bw(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Nx(o,a);var s,c=[],l=ta(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Ax(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Ax(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Nx(o,a),u=Xw(n,"where",o,"in"===a||"not-in"===a);var h=Wh.create(i,a,u);return function(e,t){if(t.S()){var n=fd(e);if(null!==n&&!n.isEqual(t.field))throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=ld(e);null!==r&&Ox(e,t.field,r)}var i=function(e,t){var n,r=ta(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Sf(Ef.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Sf(Ef.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ac,this.uc,this.cc);return new dw(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(mx);var bx=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this)).ac=e,i.hc=r,i.type="orderBy",i}return On(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new td(t,n);return function(e,t){if(null===ld(e)){var n=fd(e);null!==n&&Ox(e,n,t.field)}}(e,r),r}(e._query,this.ac,this.hc);return new dw(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ad(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(mx);var wx=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this)).type=e,a.lc=r,a.fc=i,a}return On(n,[{key:"_apply",value:function(e){return new dw(e.firestore,e.converter,vd(e._query,this.lc,this.fc))}}]),n}(mx);var xx=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return On(n,[{key:"_apply",value:function(e){var t=Cx(e,this.type,this.dc,this._c);return new dw(e.firestore,e.converter,function(e,t){return new ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(mx);function _x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xx("startAt",t,!0)}function Ex(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xx("startAfter",t,!1)}var Sx=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){var a;return An(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return On(n,[{key:"_apply",value:function(e){var t=Cx(e,this.type,this.dc,this._c);return new dw(e.firestore,e.converter,function(e,t){return new ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(mx);function Ix(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sx("endBefore",t,!1)}function Tx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sx("endAt",t,!0)}function Cx(e,t,n,r){if(n[0]=La(n[0]),n[0]instanceof ux)return function(e,t,n,r,i){if(!r)throw new Sf(Ef.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=ta(dd(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(bh(t,r.key));else{var c=r.data.field(s.field);if(nh(c))throw new Sf(Ef.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ed(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Bw(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Sf(Ef.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!hd(e)&&-1!==c.indexOf("/"))throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Gf.fromString(c));if(!lh.isDocumentKey(l))throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new lh(l);u.push(bh(t,f))}else{var h=Xw(n,r,c);u.push(h)}}return new ed(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Ax(e,t,n){if("string"==typeof(n=La(n))){if(""===n)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hd(t)&&-1!==n.indexOf("/"))throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Gf.fromString(n));if(!lh.isDocumentKey(r))throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return bh(e,new lh(r))}if(n instanceof hw)return bh(e,n._key);throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ow(n),"."))}function Nx(e,t){if(!Array.isArray(e)||0===e.length)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Ox(e,t,n){if(!n.isEqual(t))throw new Sf(Ef.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Px=function(){function e(){An(this,e)}return On(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(dh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return eh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(th(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wf()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Hf(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Dw(eh(e.latitude),eh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=rh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ih(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Zf(e);return new Bf(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Gf.fromString(e);xf(sv(n));var r=new oh(n.get(1),n.get(3)),i=new lh(n.popFirst(5));return r.isEqual(t)||gf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Rx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Dx=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this)).firestore=e,r}return On(n,[{key:"convertBytes",value:function(e){return new Pw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new hw(this.firestore,null,t)}}]),n}(Px),Lx=function(){function e(t,n){An(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bw(t)}return On(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Mx(e,this._firestore),i=Rx(r.converter,t,n),a=zw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Ud.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Mx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=La(t))||t instanceof Ow?Yw(this._dataReader,"WriteBatch.update",i._key,t,n,o):Qw(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Ud.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Mx(e,this._firestore);return this._mutations=this._mutations.concat(new ep(t._key,Ud.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Sf(Ef.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Mx(e,t){if((e=La(e)).firestore!==t)throw new Sf(Ef.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Fx=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this)).firestore=e,r}return On(n,[{key:"convertBytes",value:function(e){return new Pw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new hw(this.firestore,null,t)}}]),n}(Px);function jx(e){e=uw(e,hw);var t=uw(e.firestore,xw),n=_w(t),r=new Fx(t);return function(e,t){var n=new If;return e.asyncQueue.enqueueAndForget(Cn(Vn().mark((function r(){return Vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Cn(Vn().mark((function e(t,n,r){var i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=_f(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ui.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Sf(Ef.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ck(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$b(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new fx(t,r,e._key,n,new lx(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Ux(e){e=uw(e,dw);var t=uw(e.firestore,xw),n=_w(t),r=new Fx(t);return function(e,t){var n=new If;return e.asyncQueue.enqueueAndForget(Cn(Vn().mark((function r(){return Vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Cn(Vn().mark((function e(t,n,r){var i,a,o,u,s;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nm(t,n,!0);case 3:i=e.sent,a=new Ak(n,i.hi),o=a.La(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=ck(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$b(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new dx(t,r,e,n)}))}function Vx(e,t,n){e=uw(e,hw);var r=uw(e.firestore,xw),i=Rx(e.converter,t,n);return Hx(r,[zw(Bw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ud.none())])}function Bx(e,t,n){e=uw(e,hw);for(var r=uw(e.firestore,xw),i=Bw(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Hx(r,[("string"==typeof(t=La(t))||t instanceof Ow?Yw(i,"updateDoc",e._key,t,n,o):Qw(i,"updateDoc",e._key,t)).toMutation(e._key,Ud.exists(!0))])}function zx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=La(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||bw(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(bw(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof hw)l=uw(e.firestore,xw),f=ud(e._key.path),c={next:function(t){n[s]&&n[s](Wx(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=uw(e,dw);l=uw(p.firestore,xw),f=p._query;var v=new Fx(l);c={next:function(e){n[s]&&n[s](new dx(l,v,p,e))},error:n[s+1],complete:n[s+2]},yx(e._query)}return function(e,t,n,r){var i=new Db(r),a=new xk(t,i,n);return e.asyncQueue.enqueueAndForget(Cn(Vn().mark((function t(){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vk,t.next=3,Xb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.mu(),e.asyncQueue.enqueueAndForget(Cn(Vn().mark((function t(){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=mk,t.next=3,Xb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(_w(l),f,h,c)}function qx(e,t){return function(e,t){var n=new Db(t);return e.asyncQueue.enqueueAndForget(Cn(Vn().mark((function t(){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){_f(e).Ia.add(t),t.next()},t.next=3,Xb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.mu(),e.asyncQueue.enqueueAndForget(Cn(Vn().mark((function t(){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){_f(e).Ia.delete(t)},t.next=3,Xb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(_w(e=uw(e,xw)),bw(t)?t:{next:t})}function Hx(e,t){return function(e,t){var n=new If;return e.asyncQueue.enqueueAndForget(Cn(Vn().mark((function r(){return Vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Uk,r.next=3,Yb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(_w(e),t)}function Wx(e,t,n){var r=n.docs.get(t._key),i=new Fx(e);return new fx(e,i,t._key,r,new lx(n.hasPendingWrites,n.fromCache),t.converter)}var Kx=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,r))._firestore=e,i}return On(n,[{key:"get",value:function(e){var t=this,r=Mx(e,this._firestore),i=new Fx(this._firestore);return Xo(Rn(n.prototype),"get",this).call(this,e).then((function(e){return new fx(t._firestore,i,r._key,e._document,new lx(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){An(this,e),this._firestore=t,this._transaction=n,this._dataReader=Bw(t)}return On(e,[{key:"get",value:function(e){var t=this,n=Mx(e,this._firestore),r=new Dx(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return wf();var i=e[0];if(i.isFoundDocument())return new ux(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ux(t._firestore,r,n._key,null,n.converter);throw wf()}))}},{key:"set",value:function(e,t,n){var r=Mx(e,this._firestore),i=Rx(r.converter,t,n),a=zw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Mx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=La(t))||t instanceof Ow?Yw(this._dataReader,"Transaction.update",i._key,t,n,o):Qw(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Mx(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Gx(e,t){return function(e,t){var n=new If;return e.asyncQueue.enqueueAndForget(Cn(Vn().mark((function r(){var i;return Vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Wb(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Fb(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(_w(e=uw(e,xw)),(function(n){return t(new Kx(e,n))}))}function $x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Kw("arrayUnion",t)}function Qx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Gw("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){pf=e}(ko),fo(new Ba("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new xw(i,new Nf(e.getProvider("auth-internal")),new Df(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),So(hf,"3.4.6",e),So(hf,"3.4.6","esm2017")}();function Yx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Sf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Xx(){if("undefined"===typeof Uint8Array)throw new Sf("unimplemented","Uint8Arrays are not available in this environment.")}function Jx(){if("undefined"==typeof atob)throw new Sf("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Zx=function(){function e(t){An(this,e),this._delegate=t}return On(e,[{key:"toBase64",value:function(){return Jx(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Xx(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Jx(),new e(Pw.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Xx(),new e(Pw.fromUint8Array(t))}}]),e}();function e_(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ta(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var t_=function(){function e(){An(this,e)}return On(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Nw(e=uw(e,xw));var n=_w(e),r=e._freezeSettings(),i=new Pb;return Sw(n,i,new Nb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Nw(e=uw(e,xw));var t=_w(e),n=e._freezeSettings(),r=new Pb;return Sw(t,r,new Ob(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Sf(Ef.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new If;return e._queue.enqueueAndForgetEvenWhileRestricted(Cn(Vn().mark((function n(){return Vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mv.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Mv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(dm(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),n_=function(){function e(t,n,r){var i=this;An(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof oh||(this._appCompat=t)}return On(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||kf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fw(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Iw(this._delegate)}},{key:"disableNetwork",value:function(){return Tw(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&rw("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new If;return e.asyncQueue.enqueueAndForget(Cn(Vn().mark((function n(){return Vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Yk,n.next=3,Yb(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(_w(e=uw(e,xw)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return qx(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Sf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new y_(this,vw(this._delegate,e))}catch(t){throw s_(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new u_(this,yw(this._delegate,e))}catch(t){throw s_(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new d_(this,function(e,t){if(e=uw(e,lw),nw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Sf(Ef.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new dw(e,null,function(e){return new ad(Gf.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw s_(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Gx(this._delegate,(function(n){return e(new i_(t,n))}))}},{key:"batch",value:function(){var e=this;return _w(this._delegate),new a_(new Lx(this._delegate,(function(t){return Hx(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Cw(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Aw(this._delegate,e).then((function(e){return e?new d_(t,e):null}))}}]),e}(),r_=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this)).firestore=e,r}return On(n,[{key:"convertBytes",value:function(e){return new Zx(new Pw(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return u_.forKey(t,this.firestore,null)}}]),n}(Px);var i_=function(){function e(t,n){An(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new r_(t)}return On(e,[{key:"get",value:function(e){var t=this,n=m_(e);return this._delegate.get(n).then((function(e){return new f_(t._firestore,new fx(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=m_(e);return n?(Yx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=m_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=m_(e);return this._delegate.delete(t),this}}]),e}(),a_=function(){function e(t){An(this,e),this._delegate=t}return On(e,[{key:"set",value:function(e,t,n){var r=m_(e);return n?(Yx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=m_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=m_(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),o_=function(){function e(t,n,r){An(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return On(e,[{key:"fromFirestore",value:function(e,t){var n=new hx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new h_(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new r_(t),n),i.set(n,a)),a}}]),e}();o_.INSTANCES=new WeakMap;var u_=function(){function e(t,n){An(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new r_(t)}return On(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new y_(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new y_(this.firestore,vw(this._delegate,e))}catch(t){throw s_(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=La(e))instanceof hw&&mw(this._delegate,e)}},{key:"set",value:function(e,t){t=Yx("DocumentReference.set",t);try{return t?Vx(this._delegate,e,t):Vx(this._delegate,e)}catch(n){throw s_(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Bx(this._delegate,e):Bx.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw s_(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Hx(uw(e.firestore,xw),[new ep(e._key,Ud.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=c_(n),a=l_(n,(function(t){return new f_(e.firestore,new fx(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return zx(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?jx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=uw(e,hw);var t=uw(e.firestore,xw);return Zb(_w(t),e._key,{source:"server"}).then((function(n){return Wx(t,e,n)}))}(this._delegate):function(e){e=uw(e,hw);var t=uw(e.firestore,xw);return Zb(_w(t),e._key).then((function(n){return Wx(t,e,n)}))}(this._delegate),t.then((function(e){return new f_(n.firestore,new fx(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(o_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Sf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new hw(n._delegate,r,new lh(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new hw(n._delegate,r,t))}}]),e}();function s_(e,t,n){return e.message=e.message.replace(t,n),e}function c_(e){var t,n=ta(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!e_(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function l_(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=e_(e[0])?e[0]:e_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var f_=function(){function e(t,n){An(this,e),this._firestore=t,this._delegate=n}return On(e,[{key:"ref",get:function(){return new u_(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return vx(this._delegate,e._delegate)}}]),e}(),h_=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.apply(this,arguments)}return On(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||wf()}(void 0!==t),t}}]),n}(f_),d_=function(){function e(t,n){An(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new r_(t)}return On(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,gx(this._delegate,function(e,t,n){var r=t,i=cx("where",e);return new kx(i,r,n)}(t,n,r)))}catch(i){throw s_(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,gx(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=cx("orderBy",e);return new bx(n,t)}(t,n)))}catch(r){throw s_(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,gx(this._delegate,function(e){return sw("limit",e),new wx("limit",e,"F")}(t)))}catch(n){throw s_(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,gx(this._delegate,function(e){return sw("limitToLast",e),new wx("limitToLast",e,"L")}(t)))}catch(n){throw s_(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,gx(this._delegate,_x.apply(void 0,arguments)))}catch(t){throw s_(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,gx(this._delegate,Ex.apply(void 0,arguments)))}catch(t){throw s_(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,gx(this._delegate,Ix.apply(void 0,arguments)))}catch(t){throw s_(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,gx(this._delegate,Tx.apply(void 0,arguments)))}catch(t){throw s_(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return gw(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ux(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=uw(e,dw);var t=uw(e.firestore,xw),n=_w(t),r=new Fx(t);return ew(n,e._query,{source:"server"}).then((function(n){return new dx(t,r,e,n)}))}(this._delegate):function(e){e=uw(e,dw);var t=uw(e.firestore,xw),n=_w(t),r=new Fx(t);return yx(e._query),ew(n,e._query).then((function(n){return new dx(t,r,e,n)}))}(this._delegate),t.then((function(e){return new v_(n.firestore,new dx(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=c_(n),a=l_(n,(function(t){return new v_(e.firestore,new dx(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return zx(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(o_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),p_=function(){function e(t,n){An(this,e),this._firestore=t,this._delegate=n}return On(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new h_(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),v_=function(){function e(t,n){An(this,e),this._firestore=t,this._delegate=n}return On(e,[{key:"query",get:function(){return new d_(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new h_(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new p_(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new h_(n._firestore,r))}))}},{key:"isEqual",value:function(e){return vx(this._delegate,e._delegate)}}]),e}(),y_=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return On(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new u_(this.firestore,e):null}},{key:"doc",value:function(e){try{return new u_(this.firestore,void 0===e?yw(this._delegate):yw(this._delegate,e))}catch(t){throw s_(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=uw(e.firestore,xw),r=yw(e),i=Rx(e.converter,t);return Hx(n,[zw(Bw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ud.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new u_(t.firestore,e)}))}},{key:"isEqual",value:function(e){return mw(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(o_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(d_);function m_(e){return uw(e,hw)}var g_,k_=function(){function e(){An(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=aa(Ow,n)}return On(e,[{key:"isEqual",value:function(e){return(e=La(e))instanceof Ow&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Qf.keyField().canonicalString())}}]),e}(),b_=function(){function e(t){An(this,e),this._delegate=t}return On(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Ww("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new qw("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=$x.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Qx.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new $w("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),w_={Firestore:n_,GeoPoint:Dw,Timestamp:Bf,Blob:Zx,Transaction:i_,WriteBatch:a_,DocumentReference:u_,DocumentSnapshot:f_,Query:d_,QueryDocumentSnapshot:h_,QuerySnapshot:v_,CollectionReference:y_,FieldPath:k_,FieldValue:b_,setLogLevel:function(e){!function(e){vf.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Ba("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},w_)))})(g_=Qo,(function(e,t){return new n_(e,t,new t_)})),g_.registerVersion("@firebase/firestore-compat","0.1.15");function x_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var __;Object.create;var E_="facebook.com",S_="github.com",I_="google.com",T_="password",C_="twitter.com",A_="EMAIL_SIGNIN",N_="PASSWORD_RESET",O_="RECOVER_EMAIL",P_="REVERT_SECOND_FACTOR_ADDITION",R_="VERIFY_AND_CHANGE_EMAIL",D_="VERIFY_EMAIL";function L_(){return gt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var M_=function(){var e;return gt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),gt(e,"argument-error",""),gt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),gt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),gt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),gt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),gt(e,"cordova-not-ready","Cordova framework is not ready."),gt(e,"cors-unsupported","This browser is not supported."),gt(e,"credential-already-in-use","This credential is already associated with a different user account."),gt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),gt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),gt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),gt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),gt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),gt(e,"email-already-in-use","The email address is already in use by another account."),gt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),gt(e,"expired-action-code","The action code has expired."),gt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),gt(e,"internal-error","An internal AuthError has occurred."),gt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),gt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),gt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),gt(e,"invalid-auth-event","An internal AuthError has occurred."),gt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),gt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),gt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),gt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),gt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),gt(e,"invalid-email","The email address is badly formatted."),gt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),gt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),gt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),gt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),gt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),gt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),gt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),gt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),gt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),gt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),gt(e,"wrong-password","The password is invalid or the user does not have a password."),gt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),gt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),gt(e,"invalid-provider-id","The specified provider ID is invalid."),gt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),gt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),gt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),gt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),gt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),gt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),gt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),gt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),gt(e,"missing-continue-uri","A continue URL must be provided in the request."),gt(e,"missing-iframe-start","An internal AuthError has occurred."),gt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),gt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),gt(e,"missing-multi-factor-info","No second factor identifier is provided."),gt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),gt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),gt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),gt(e,"app-deleted","This instance of FirebaseApp has been deleted."),gt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),gt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),gt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),gt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),gt(e,"no-auth-event","An internal AuthError has occurred."),gt(e,"no-such-provider","User was not linked to an account with the given provider."),gt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),gt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),gt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),gt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),gt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),gt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),gt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),gt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),gt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),gt(e,"rejected-credential","The request contains malformed or mismatching credentials."),gt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),gt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),gt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),gt(e,"timeout","The operation has timed out."),gt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),gt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),gt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),gt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),gt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),gt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),gt(e,"unverified-email","The operation requires a verified email."),gt(e,"user-cancelled","The user did not grant your application the permissions it requested."),gt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),gt(e,"user-disabled","The user account has been disabled by an administrator."),gt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),gt(e,"user-signed-out",""),gt(e,"weak-password","The password must be 6 characters long or more."),gt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),gt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},F_=L_,j_=new _a("auth","Firebase",L_()),U_=new eo("@firebase/auth");function V_(e){if(U_.logLevel<=Wa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];U_.error.apply(U_,["Auth (".concat(ko,"): ").concat(e)].concat(n))}}function B_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw W_.apply(void 0,[e].concat(n))}function z_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W_.apply(void 0,[e].concat(n))}function q_(e,t,n){var r=Object.assign(Object.assign({},F_()),gt({},t,n));return new _a("auth","Firebase",r).create(t,{appName:e.name})}function H_(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&B_(e,"argument-error"),q_(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function W_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=hn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(hn(o)))}return j_.create.apply(j_,[e].concat(n))}function K_(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw W_.apply(void 0,[t].concat(r))}}function G_(e){var t="INTERNAL ASSERTION FAILED: "+e;throw V_(t),new Error(t)}function $_(e,t){e||G_(t)}var Q_=new Map;function Y_(e){$_(e instanceof Function,"Expected a class definition");var t=Q_.get(e);return t?($_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Q_.set(e,t),t)}function X_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function J_(){return"http:"===Z_()||"https:"===Z_()}function Z_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var eE=function(){function e(t,n){An(this,e),this.shortDelay=t,this.longDelay=n,$_(n>t,"Short delay should be less than long delay!"),this.isMobile=ya()||ka()}return On(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(J_()||ga()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function tE(e,t){$_(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var nE=function(){function e(){An(this,e)}return On(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void G_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void G_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void G_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),rE=(gt(__={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),gt(__,"MISSING_CUSTOM_TOKEN","internal-error"),gt(__,"INVALID_IDENTIFIER","invalid-email"),gt(__,"MISSING_CONTINUE_URI","internal-error"),gt(__,"INVALID_PASSWORD","wrong-password"),gt(__,"MISSING_PASSWORD","internal-error"),gt(__,"EMAIL_EXISTS","email-already-in-use"),gt(__,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),gt(__,"INVALID_IDP_RESPONSE","invalid-credential"),gt(__,"INVALID_PENDING_TOKEN","invalid-credential"),gt(__,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),gt(__,"MISSING_REQ_TYPE","internal-error"),gt(__,"EMAIL_NOT_FOUND","user-not-found"),gt(__,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),gt(__,"EXPIRED_OOB_CODE","expired-action-code"),gt(__,"INVALID_OOB_CODE","invalid-action-code"),gt(__,"MISSING_OOB_CODE","internal-error"),gt(__,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),gt(__,"INVALID_ID_TOKEN","invalid-user-token"),gt(__,"TOKEN_EXPIRED","user-token-expired"),gt(__,"USER_NOT_FOUND","user-token-expired"),gt(__,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),gt(__,"INVALID_CODE","invalid-verification-code"),gt(__,"INVALID_SESSION_INFO","invalid-verification-id"),gt(__,"INVALID_TEMPORARY_PROOF","invalid-credential"),gt(__,"MISSING_SESSION_INFO","missing-verification-id"),gt(__,"SESSION_EXPIRED","code-expired"),gt(__,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),gt(__,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),gt(__,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),gt(__,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),gt(__,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),gt(__,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),gt(__,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),gt(__,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),gt(__,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),gt(__,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),gt(__,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),__),iE=new eE(3e4,6e4);function aE(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function oE(e,t,n,r){return uE.apply(this,arguments)}function uE(){return uE=Cn(Vn().mark((function e(t,n,r,i){var a,o=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",sE(t,a,Cn(Vn().mark((function e(){var a,o,u,s;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Aa(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",nE.fetch()(hE(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function sE(e,t,n){return cE.apply(this,arguments)}function cE(){return cE=Cn(Vn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},rE),n),e.prev=2,a=new dE(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw pE(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=ia(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw pE(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw pE(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw q_(t,d,h);case 30:B_(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof xa)){e.next=37;break}throw e.t0;case 37:B_(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),cE.apply(this,arguments)}function lE(e,t,n,r){return fE.apply(this,arguments)}function fE(){return fE=Cn(Vn().mark((function e(t,n,r,i){var a,o,u=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,oE(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&B_(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function hE(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?tE(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var dE=function(){function e(t){var n=this;An(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(z_(n.auth,"network-request-failed"))}),iE.get())}))}return On(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function pE(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=z_(e,t,r);return i.customData._tokenResponse=n,i}function vE(e,t){return yE.apply(this,arguments)}function yE(){return yE=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oE(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function mE(e,t){return gE.apply(this,arguments)}function gE(){return gE=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oE(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function xE(){return xE=Cn(Vn().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=La(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,K_((a=EE(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:wE(_E(a.auth_time)),issuedAtTime:wE(_E(a.iat)),expirationTime:wE(_E(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function _E(e){return 1e3*Number(e)}function EE(e){var t=ia(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return V_("JWT malformed, contained fewer than 3 sections"),null;try{var a=la(r);return a?JSON.parse(a):(V_("Failed to decode base64 JWT payload"),null)}catch(o){return V_("Caught error parsing JWT payload as JSON",o),null}}function SE(e,t){return IE.apply(this,arguments)}function IE(){return IE=Cn(Vn().mark((function e(t,n){var r=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof xa&&TE(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),IE.apply(this,arguments)}function TE(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var CE=function(){function e(t){An(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return On(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Cn(Vn().mark((function t(){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),AE=function(){function e(t,n){An(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return On(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=wE(this.lastLoginAt),this.creationTime=wE(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function NE(e){return OE.apply(this,arguments)}function OE(){return OE=Cn(Vn().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,SE(t,kE(r,{idToken:i}));case 6:K_(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?DE(o.providerUserInfo):[],s=RE(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new AE(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function PE(){return(PE=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=La(t),e.next=3,NE(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RE(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(hn(n),hn(t))}function DE(e){return e.map((function(e){var t=e.providerId,n=x_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function LE(e,t){return ME.apply(this,arguments)}function ME(){return ME=Cn(Vn().mark((function e(t,n){var r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sE(t,{},Cn(Vn().mark((function e(){var r,i,a,o,u,s;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Aa({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=hE(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",nE.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}var FE=function(){function e(){An(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return On(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){K_(e.idToken,"internal-error"),K_("undefined"!==typeof e.idToken,"internal-error"),K_("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=EE(e);return K_(t,"internal-error"),K_("undefined"!==typeof t.exp,"internal-error"),K_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Cn(Vn().mark((function e(t){var n,r=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],K_(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Cn(Vn().mark((function e(t,n){var r,i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LE(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return G_("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(K_("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(K_("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(K_("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function jE(e,t){K_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var UE=function(){function e(t){An(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=x_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?hn(a.providerData):[],this.metadata=new AE(a.createdAt||void 0,a.lastLoginAt||void 0)}return On(e,[{key:"getIdToken",value:function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SE(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(K_(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return xE.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return PE.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(K_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){K_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Cn(Vn().mark((function e(t){var n,r,i=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,NE(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Cn(Vn().mark((function e(){var t;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,SE(this,vE(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;K_(k&&_,t,"internal-error");var E=FE.fromJSON(this.name,_);K_("string"===typeof k,t,"internal-error"),jE(f,t.name),jE(h,t.name),K_("boolean"===typeof b,t,"internal-error"),K_("boolean"===typeof w,t,"internal-error"),jE(d,t.name),jE(p,t.name),jE(v,t.name),jE(y,t.name),jE(m,t.name),jE(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=Cn(Vn().mark((function t(n,r){var i,a,o,u=arguments;return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new FE).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,NE(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),VE=function(){function e(){An(this,e),this.type="NONE",this.storage={}}return On(e,[{key:"_isAvailable",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();VE.type="NONE";var BE=VE;function zE(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var qE=function(){function e(t,n,r){An(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=zE(this.userKey,a.apiKey,o),this.fullPersistenceKey=zE("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return On(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Cn(Vn().mark((function e(){var t;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?UE._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Cn(Vn().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Y_(BE),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Y_(BE),u=zE(i,n.config.apiKey,n.name),s=null,c=ta(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=UE._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function HE(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($E(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(WE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(YE(t))return"Blackberry";if(XE(t))return"Webos";if(KE(t))return"Safari";if((t.includes("chrome/")||GE(t))&&!t.includes("edge/"))return"Chrome";if(QE(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function WE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/firefox\//i.test(e)}function KE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function GE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/crios\//i.test(e)}function $E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/iemobile/i.test(e)}function QE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/android/i.test(e)}function YE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/blackberry/i.test(e)}function XE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/webos/i.test(e)}function JE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/iphone|ipad|ipod/i.test(e)}function ZE(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return JE(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function eS(){return ba()&&10===document.documentMode}function tS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return JE(e)||QE(e)||XE(e)||YE(e)||/windows phone/i.test(e)||$E(e)}function nS(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=HE(va());break;case"Worker":t="".concat(HE(va()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ko,"/").concat(r)}var rS=function(){function e(t,n,r){An(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aS(this),this.idTokenSubscription=new aS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j_,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return On(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Y_(t)),this._initializationPromise=this.queue(Cn(Vn().mark((function r(){var i,a;return Vn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,qE.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Cn(Vn().mark((function e(){var t;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Cn(Vn().mark((function e(t){var n,r,i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return K_(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,NE(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?La(t):null)&&K_(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Cn(Vn().mark((function e(t){var n=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&K_(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Cn(Vn().mark((function n(){return Vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Y_(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new _a("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Cn(Vn().mark((function e(t,n){var r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return K_(n=t&&Y_(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,qE.create(this,[Y_(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Cn(Vn().mark((function e(t){var n,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Cn(Vn().mark((function e(t){var n=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return K_(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return K_(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nS(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Cn(Vn().mark((function e(){var t,n,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function iS(e){return La(e)}var aS=function(){function e(t){var n=this;An(this,e),this.auth=t,this.observer=null,this.addObserver=Pa((function(e){return n.observer=e}))}return On(e,[{key:"next",get:function(){return K_(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function oS(e,t,n){var r=iS(e);K_(r._canInitEmulator,r,"emulator-config-failed"),K_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=uS(t),o=function(e){var t=uS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:sS(r.substr(a.length+1))}}var o=ia(r.split(":"),2);return{host:o[0],port:sS(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function uS(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function sS(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var cS=function(){function e(t,n){An(this,e),this.providerId=t,this.signInMethod=n}return On(e,[{key:"toJSON",value:function(){return G_("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return G_("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return G_("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return G_("not implemented")}}]),e}();function lS(e,t){return fS.apply(this,arguments)}function fS(){return fS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oE(t,"POST","/v1/accounts:resetPassword",aE(t,n)));case 1:case"end":return e.stop()}}),e)}))),fS.apply(this,arguments)}function hS(e,t){return dS.apply(this,arguments)}function dS(){return dS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),dS.apply(this,arguments)}function pS(e,t){return vS.apply(this,arguments)}function vS(){return vS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oE(t,"POST","/v1/accounts:update",aE(t,n)));case 1:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function yS(e,t){return mS.apply(this,arguments)}function mS(){return mS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lE(t,"POST","/v1/accounts:signInWithPassword",aE(t,n)));case 1:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}function gS(e,t){return kS.apply(this,arguments)}function kS(){return kS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oE(t,"POST","/v1/accounts:sendOobCode",aE(t,n)));case 1:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function bS(e,t){return wS.apply(this,arguments)}function wS(){return wS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gS(t,n));case 1:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function xS(e,t){return _S.apply(this,arguments)}function _S(){return _S=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gS(t,n));case 1:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function ES(e,t){return SS.apply(this,arguments)}function SS(){return SS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gS(t,n));case 1:case"end":return e.stop()}}),e)}))),SS.apply(this,arguments)}function IS(e,t){return TS.apply(this,arguments)}function TS(){return TS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gS(t,n));case 1:case"end":return e.stop()}}),e)}))),TS.apply(this,arguments)}function CS(e,t){return AS.apply(this,arguments)}function AS(){return AS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lE(t,"POST","/v1/accounts:signInWithEmailLink",aE(t,n)));case 1:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}function NS(e,t){return OS.apply(this,arguments)}function OS(){return OS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lE(t,"POST","/v1/accounts:signInWithEmailLink",aE(t,n)));case 1:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}var PS=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return An(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return On(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",yS(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",CS(t,{email:this._email,oobCode:this._password}));case 5:B_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",hS(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",NS(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:B_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(cS);function RS(e,t){return DS.apply(this,arguments)}function DS(){return DS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lE(t,"POST","/v1/accounts:signInWithIdp",aE(t,n)));case 1:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}var LS=function(e){Pn(n,e);var t=jn(n);function n(){var e;return An(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return On(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return RS(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,RS(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,RS(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Aa(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):B_("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=x_(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(cS);function MS(e,t){return FS.apply(this,arguments)}function FS(){return FS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oE(t,"POST","/v1/accounts:sendVerificationCode",aE(t,n)));case 1:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function jS(){return jS=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lE(t,"POST","/v1/accounts:signInWithPhoneNumber",aE(t,n)));case 1:case"end":return e.stop()}}),e)}))),jS.apply(this,arguments)}function US(){return US=Cn(Vn().mark((function e(t,n){var r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lE(t,"POST","/v1/accounts:signInWithPhoneNumber",aE(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw pE(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}var VS=gt({},"USER_NOT_FOUND","user-not-found");function BS(){return BS=Cn(Vn().mark((function e(t,n){var r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",lE(t,"POST","/v1/accounts:signInWithPhoneNumber",aE(t,r),VS));case 2:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}var zS=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this,"phone","phone")).params=e,r}return On(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return jS.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return US.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return BS.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(cS);var qS=function(){function e(t){var n,r,i,a,o,u;An(this,e);var s=Na(Oa(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);K_(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return On(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Na(Oa(e)).link,n=t?Na(Oa(t)).deep_link_id:null,r=Na(Oa(e)).deep_link_id;return(r?Na(Oa(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(nk){return null}}}]),e}();var HS=function(){function e(){An(this,e),this.providerId=e.PROVIDER_ID}return On(e,null,[{key:"credential",value:function(e,t){return PS._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=qS.parseLink(t);return K_(n,"argument-error"),PS._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();HS.PROVIDER_ID="password",HS.EMAIL_PASSWORD_SIGN_IN_METHOD="password",HS.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var WS=function(){function e(t){An(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return On(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),KS=function(e){Pn(n,e);var t=jn(n);function n(){var e;return An(this,n),(e=t.apply(this,arguments)).scopes=[],e}return On(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return hn(this.scopes)}}]),n}(WS),GS=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.apply(this,arguments)}return On(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return K_(e.idToken||e.accessToken,"argument-error"),LS._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return K_("providerId"in t&&"signInMethod"in t,"argument-error"),LS._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(KS),$S=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.call(this,"facebook.com")}return On(n,null,[{key:"credential",value:function(e){return LS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(nk){return null}}}]),n}(KS);$S.FACEBOOK_SIGN_IN_METHOD="facebook.com",$S.PROVIDER_ID="facebook.com";var QS=function(e){Pn(n,e);var t=jn(n);function n(){var e;return An(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return On(n,null,[{key:"credential",value:function(e,t){return LS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(nk){return null}}}]),n}(KS);QS.GOOGLE_SIGN_IN_METHOD="google.com",QS.PROVIDER_ID="google.com";var YS=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.call(this,"github.com")}return On(n,null,[{key:"credential",value:function(e){return LS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(nk){return null}}}]),n}(KS);YS.GITHUB_SIGN_IN_METHOD="github.com",YS.PROVIDER_ID="github.com";var XS=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i;return An(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return On(n,[{key:"_getIdTokenResponse",value:function(e){return RS(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,RS(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,RS(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(cS),JS=function(e){Pn(n,e);var t=jn(n);function n(e){return An(this,n),K_(e.startsWith("saml."),"argument-error"),t.call(this,e)}return On(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=XS.fromJSON(e);return K_(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return XS._create(r,n)}catch(i){return null}}}]),n}(WS),ZS=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.call(this,"twitter.com")}return On(n,null,[{key:"credential",value:function(e,t){return LS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(nk){return null}}}]),n}(KS);function eI(e,t){return tI.apply(this,arguments)}function tI(){return tI=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lE(t,"POST","/v1/accounts:signUp",aE(t,n)));case 1:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}ZS.TWITTER_SIGN_IN_METHOD="twitter.com",ZS.PROVIDER_ID="twitter.com";var nI=function(){function e(t){An(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return On(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Cn(Vn().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,UE._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=rI(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Cn(Vn().mark((function t(n,r,i){var a;return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=rI(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function rI(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function iI(){return iI=Cn(Vn().mark((function e(t){var n,r,i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=iS(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new nI({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,eI(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,nI._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}var aI=function(e){Pn(n,e);var t=jn(n);function n(e,r,i,a){var o,u;return An(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Mn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return On(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(xa);function oI(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw aI._fromErrorAndOperation(e,n,t,r);throw n}))}function uI(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function sI(e,t){return cI.apply(this,arguments)}function cI(){return cI=Cn(Vn().mark((function e(t,n){var r,i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=La(t),e.next=3,hI(!0,r,n);case 3:return e.t0=mE,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=uI(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(e,t){return fI.apply(this,arguments)}function fI(){return fI=Cn(Vn().mark((function e(t,n){var r,i,a=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=SE,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",nI._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e,t,n){return dI.apply(this,arguments)}function dI(){return dI=Cn(Vn().mark((function e(t,n,r){var i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NE(n);case 2:i=uI(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",K_(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(e,t){return vI.apply(this,arguments)}function vI(){return vI=Cn(Vn().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,SE(t,oI(i,a,n,t),r);case 6:return K_((o=e.sent).idToken,i,"internal-error"),K_(u=EE(o.idToken),i,"internal-error"),s=u.sub,K_(t.uid===s,i,"user-mismatch"),e.abrupt("return",nI._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&B_(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),vI.apply(this,arguments)}function yI(e,t){return mI.apply(this,arguments)}function mI(){return mI=Cn(Vn().mark((function e(t,n){var r,i,a,o,u=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,oI(t,i,n);case 4:return a=e.sent,e.next=7,nI._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function gI(e,t){return kI.apply(this,arguments)}function kI(){return kI=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yI(iS(t),n));case 1:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function bI(e,t){return wI.apply(this,arguments)}function wI(){return(wI=Cn(Vn().mark((function e(t,n){var r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=La(t),e.next=3,hI(!1,r,n.providerId);case 3:return e.abrupt("return",lI(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xI(e,t){return _I.apply(this,arguments)}function _I(){return(_I=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pI(La(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EI(e,t){return SI.apply(this,arguments)}function SI(){return SI=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lE(t,"POST","/v1/accounts:signInWithCustomToken",aE(t,n)));case 1:case"end":return e.stop()}}),e)}))),SI.apply(this,arguments)}function II(){return II=Cn(Vn().mark((function e(t,n){var r,i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=iS(t),e.next=3,EI(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,nI._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}var TI=function(){function e(t,n){An(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return On(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?CI._fromServerResponse(e,t):B_(e,"internal-error")}}]),e}(),CI=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return On(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(TI);function AI(e,t,n){var r;K_((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),K_("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(K_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(K_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function NI(){return NI=Cn(Vn().mark((function e(t,n,r){var i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=La(t),a={requestType:"PASSWORD_RESET",email:n},r&&AI(i,a,r),e.next=5,xS(i,a);case 5:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function OI(){return OI=Cn(Vn().mark((function e(t,n,r){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lS(La(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function PI(){return PI=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pS(La(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),PI.apply(this,arguments)}function RI(e,t){return DI.apply(this,arguments)}function DI(){return DI=Cn(Vn().mark((function e(t,n){var r,i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=La(t),e.next=3,lS(r,{oobCode:n});case 3:i=e.sent,K_(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return K_(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:K_(i.mfaInfo,r,"internal-error");case 13:K_(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=TI._fromServerResponse(iS(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function LI(){return LI=Cn(Vn().mark((function e(t,n){var r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RI(La(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function MI(e,t,n){return FI.apply(this,arguments)}function FI(){return FI=Cn(Vn().mark((function e(t,n,r){var i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=iS(t),e.next=3,eI(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,nI._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function jI(){return jI=Cn(Vn().mark((function e(t,n,r){var i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=La(t),a={requestType:"EMAIL_SIGNIN",email:n},K_(r.handleCodeInApp,i,"argument-error"),r&&AI(i,a,r),e.next=6,ES(i,a);case 6:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function UI(){return UI=Cn(Vn().mark((function e(t,n,r){var i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=La(t),K_((a=HS.credentialWithLink(n,r||X_()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",gI(i,a));case 4:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function VI(e,t){return BI.apply(this,arguments)}function BI(){return BI=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oE(t,"POST","/v1/accounts:createAuthUri",aE(t,n)));case 1:case"end":return e.stop()}}),e)}))),BI.apply(this,arguments)}function zI(){return zI=Cn(Vn().mark((function e(t,n){var r,i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=J_()?X_():"http://localhost",i={identifier:n,continueUri:r},e.next=4,VI(La(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),zI.apply(this,arguments)}function qI(){return(qI=Cn(Vn().mark((function e(t,n){var r,i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=La(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&AI(r.auth,a,n),e.next=8,bS(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HI(){return(HI=Cn(Vn().mark((function e(t,n,r){var i,a,o,u;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=La(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&AI(i.auth,o,r),e.next=8,IS(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WI(e,t){return KI.apply(this,arguments)}function KI(){return KI=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),KI.apply(this,arguments)}function GI(){return(GI=Cn(Vn().mark((function e(t,n){var r,i,a,o,u,s,c;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=La(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,SE(a,WI(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $I(e,t,n){return QI.apply(this,arguments)}function QI(){return QI=Cn(Vn().mark((function e(t,n,r){var i,a,o,u;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,SE(t,hS(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}var YI=On((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};An(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),XI=function(e){Pn(n,e);var t=jn(n);function n(e,r,i,a){var o;return An(this,n),(o=t.call(this,e,r,i)).username=a,o}return On(n)}(YI),JI=function(e){Pn(n,e);var t=jn(n);function n(e,r){return An(this,n),t.call(this,e,"facebook.com",r)}return On(n)}(YI),ZI=function(e){Pn(n,e);var t=jn(n);function n(e,r){return An(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return On(n)}(XI),eT=function(e){Pn(n,e);var t=jn(n);function n(e,r){return An(this,n),t.call(this,e,"google.com",r)}return On(n)}(YI),tT=function(e){Pn(n,e);var t=jn(n);function n(e,r,i){return An(this,n),t.call(this,e,"twitter.com",r,i)}return On(n)}(XI);function nT(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=EE(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new YI(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new JI(a,i);case"github.com":return new ZI(a,i);case"google.com":return new eT(a,i);case"twitter.com":return new tT(a,i,e.screenName||null);case"custom":case"anonymous":return new YI(a,null);default:return new YI(a,r,i)}}(n)}var rT=function(){function e(t,n){An(this,e),this.type=t,this.credential=n}return On(e,[{key:"toJSON",value:function(){return{multiFactorSession:gt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),iT=function(){function e(t,n,r){An(this,e),this.session=t,this.hints=n,this.signInResolver=r}return On(e,[{key:"resolveSignIn",value:function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=iS(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return TI._fromServerResponse(r,e)}));K_(i.mfaPendingCredential,r,"internal-error");var o=rT._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Cn(Vn().mark((function e(t){var a,u,s;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,nI._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return K_(n.user,r,"internal-error"),e.abrupt("return",nI._forOperation(n.user,n.operationType,u));case 17:B_(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function aT(e,t){return oE(e,"POST","/v2/accounts/mfaEnrollment:start",aE(e,t))}function oT(e,t){return oE(e,"POST","/v2/accounts/mfaEnrollment:withdraw",aE(e,t))}var uT=function(){function e(t){var n=this;An(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return TI._fromServerResponse(t.auth,e)})))}))}return On(e,[{key:"getSession",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=rT,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Cn(Vn().mark((function e(t,n){var r,i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,SE(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Cn(Vn().mark((function e(t){var n,r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,SE(this.user,oT(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),sT=new WeakMap;var cT="__sak",lT=function(){function e(t,n){An(this,e),this.storageRetriever=t,this.type=n}return On(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(cT,"1"),this.storage.removeItem(cT),Promise.resolve(!0)):Promise.resolve(!1)}catch(nk){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var fT=function(e){Pn(n,e);var t=jn(n);function n(){var e;return An(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=va();return KE(e)||JE(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=tS(),e._shouldAllowMigration=!0,e}return On(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);eS()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Cn(Vn().mark((function e(t,r){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo(Rn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Cn(Vn().mark((function e(t){var r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo(Rn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo(Rn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(lT);fT.type="LOCAL";var hT=fT,dT=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return On(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(lT);dT.type="SESSION";var pT=dT;function vT(e){return Promise.all(e.map(function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var yT=function(){function e(t){An(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return On(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Cn(Vn().mark((function e(t){var n,r,i,a,o,u,s,c;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,vT(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function mT(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}yT.receivers=[];var gT=function(){function e(t){An(this,e),this.target=t,this.handlers=new Set}return On(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Cn(Vn().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=mT("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function kT(){return window}function bT(){return"undefined"!==typeof kT().WorkerGlobalScope&&"function"===typeof kT().importScripts}function wT(){return xT.apply(this,arguments)}function xT(){return(xT=Cn(Vn().mark((function e(){var t;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function _T(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ET="firebaseLocalStorageDb",ST="firebaseLocalStorage",IT="fbase_key",TT=function(){function e(t){An(this,e),this.request=t}return On(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function CT(e,t){return e.transaction([ST],t?"readwrite":"readonly").objectStore(ST)}function AT(){var e=indexedDB.deleteDatabase(ET);return new TT(e).toPromise()}function NT(){var e=indexedDB.open(ET,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ST,{keyPath:IT})}catch(r){n(r)}})),e.addEventListener("success",Cn(Vn().mark((function n(){var r;return Vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ST)){n.next=12;break}return r.close(),n.next=5,AT();case 5:return n.t0=t,n.next=8,NT();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function OT(e,t,n){return PT.apply(this,arguments)}function PT(){return PT=Cn(Vn().mark((function e(t,n,r){var i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=CT(t,!0).put((gt(i={},IT,n),gt(i,"value",r),i)),e.abrupt("return",new TT(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),PT.apply(this,arguments)}function RT(e,t){return DT.apply(this,arguments)}function DT(){return DT=Cn(Vn().mark((function e(t,n){var r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=CT(t,!1).get(n),e.next=3,new TT(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),DT.apply(this,arguments)}function LT(e,t){var n=CT(e,!0).delete(t);return new TT(n).toPromise()}var MT=function(){function e(){An(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return On(e,[{key:"_openDb",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,NT();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Cn(Vn().mark((function e(t){var n,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bT()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Cn(Vn().mark((function e(){var t=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=yT._getInstance(bT()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Cn(Vn().mark((function e(n,r){var i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Cn(Vn().mark((function e(){var t,n,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wT();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new gT(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&_T()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Cn(Vn().mark((function e(){var t;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,NT();case 5:return t=e.sent,e.next=8,OT(t,cT,"1");case 8:return e.next=10,LT(t,cT);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Cn(Vn().mark((function e(t,n){var r=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return OT(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return RT(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Cn(Vn().mark((function e(t){var n=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return LT(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Cn(Vn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=CT(e,!1).getAll();return new TT(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ta(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Cn(Vn().mark((function t(){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();MT.type="LOCAL";var FT=MT;function jT(e,t){return oE(e,"POST","/v2/accounts/mfaSignIn:start",aE(e,t))}function UT(e){return VT.apply(this,arguments)}function VT(){return VT=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oE(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}function BT(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=z_("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function zT(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var qT=1e12,HT=function(){function e(t){An(this,e),this.auth=t,this.counter=qT,this._widgets=new Map}return On(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new WT(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||qT;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||qT;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Cn(Vn().mark((function e(t){var n,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||qT,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),WT=function(){function e(t,n,r){var i=this;An(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;K_(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return On(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var KT=zT("rcb"),GT=new eE(3e4,6e4),$T="https://www.google.com/recaptcha/api.js?",QT=function(){function e(){An(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kT().grecaptcha}return On(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return K_(YT(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(kT().grecaptcha):new Promise((function(r,i){var a=kT().setTimeout((function(){i(z_(e,"network-request-failed"))}),GT.get());kT()[KT]=function(){kT().clearTimeout(a),delete kT()[KT];var o=kT().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(z_(e,"internal-error"))},BT("".concat($T,"?").concat(Aa({onload:KT,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(z_(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!kT().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function YT(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var XT=function(){function e(){An(this,e)}return On(e,[{key:"load",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new HT(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),JT="recaptcha",ZT={theme:"light",type:"image"},eC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ZT),r=arguments.length>2?arguments[2]:void 0;An(this,e),this.parameters=n,this.type=JT,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=iS(r),this.isInvisible="invisible"===this.parameters.size,K_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;K_(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new XT:new QT,this.validateStartingState()}return On(e,[{key:"verify",value:function(){var e=Cn(Vn().mark((function e(){var t,n,r,i=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){K_(!this.parameters.sitekey,this.auth,"argument-error"),K_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=kT()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){K_(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Cn(Vn().mark((function e(){var t,n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Cn(Vn().mark((function e(){var t;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K_(J_()&&!bT(),this.auth,"internal-error"),e.next=3,tC();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,UT(this.auth);case 8:K_(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return K_(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function tC(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var nC=function(){function e(t,n){An(this,e),this.verificationId=t,this.onConfirmation=n}return On(e,[{key:"confirm",value:function(e){var t=zS._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function rC(){return rC=Cn(Vn().mark((function e(t,n,r){var i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=iS(t),e.next=3,uC(i,n,La(r));case 3:return a=e.sent,e.abrupt("return",new nC(a,(function(e){return gI(i,e)})));case 5:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e,t,n){return aC.apply(this,arguments)}function aC(){return(aC=Cn(Vn().mark((function e(t,n,r){var i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=La(t),e.next=3,hI(!1,i,"phone");case 3:return e.next=5,uC(i.auth,n,La(r));case 5:return a=e.sent,e.abrupt("return",new nC(a,(function(e){return bI(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oC(){return(oC=Cn(Vn().mark((function e(t,n,r){var i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=La(t),e.next=3,uC(i.auth,n,La(r));case 3:return a=e.sent,e.abrupt("return",new nC(a,(function(e){return xI(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uC(e,t,n){return sC.apply(this,arguments)}function sC(){return sC=Cn(Vn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,K_("string"===typeof a,t,"argument-error"),K_(r.type===JT,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return K_("enroll"===u.type,t,"internal-error"),e.next=13,aT(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return K_("signin"===u.type,t,"internal-error"),K_(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,jT(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,MS(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),sC.apply(this,arguments)}function cC(){return(cC=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lI(La(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lC=function(){function e(t){An(this,e),this.providerId=e.PROVIDER_ID,this.auth=iS(t)}return On(e,[{key:"verifyPhoneNumber",value:function(e,t){return uC(this.auth,e,La(t))}}],[{key:"credential",value:function(e,t){return zS._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?zS._fromTokenResponse(n,r):null}}]),e}();function fC(e,t){return t?Y_(t):(K_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}lC.PROVIDER_ID="phone",lC.PHONE_SIGN_IN_METHOD="phone";var hC=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this,"custom","custom")).params=e,r}return On(n,[{key:"_getIdTokenResponse",value:function(e){return RS(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return RS(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return RS(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(cS);function dC(e){return yI(e.auth,new hC(e),e.bypassAuthState)}function pC(e){var t=e.auth,n=e.user;return K_(n,t,"internal-error"),pI(n,new hC(e),e.bypassAuthState)}function vC(e){return yC.apply(this,arguments)}function yC(){return yC=Cn(Vn().mark((function e(t){var n,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,K_(r=t.user,n,"internal-error"),e.abrupt("return",lI(r,new hC(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),yC.apply(this,arguments)}var mC=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];An(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return On(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Cn(Vn().mark((function t(n,r){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Cn(Vn().mark((function e(t){var n,r,i,a,o,u,s;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dC;case"linkViaPopup":case"linkViaRedirect":return vC;case"reauthViaPopup":case"reauthViaRedirect":return pC;default:B_(this.auth,"internal-error")}}},{key:"resolve",value:function(e){$_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){$_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),gC=new eE(2e3,1e4);function kC(e,t,n){return bC.apply(this,arguments)}function bC(){return bC=Cn(Vn().mark((function e(t,n,r){var i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=iS(t),H_(t,n,WS),a=fC(i,r),o=new EC(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function wC(){return wC=Cn(Vn().mark((function e(t,n,r){var i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H_((i=La(t)).auth,n,WS),a=fC(i.auth,r),o=new EC(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),wC.apply(this,arguments)}function xC(e,t,n){return _C.apply(this,arguments)}function _C(){return _C=Cn(Vn().mark((function e(t,n,r){var i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H_((i=La(t)).auth,n,WS),a=fC(i.auth,r),o=new EC(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}var EC=function(e){Pn(n,e);var t=jn(n);function n(e,r,i,a,o){var u;return An(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Mn(u),u}return On(n,[{key:"executeNotNull",value:function(){var e=Cn(Vn().mark((function e(){var t;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return K_(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Cn(Vn().mark((function e(){var t,n=this;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $_(1===this.filter.length,"Popup operations only handle one event"),t=mT(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(z_(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(z_(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(z_(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,gC.get())}()}}]),n}(mC);EC.currentPopupAction=null;var SC=new Map,IC=function(e){Pn(n,e);var t=jn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return An(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return On(n,[{key:"execute",value:function(){var e=Cn(Vn().mark((function e(){var t,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=SC.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,TC(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Xo(Rn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:SC.set(this.auth._key(),t);case 21:return this.bypassAuthState||SC.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Cn(Vn().mark((function e(t){var r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Xo(Rn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Xo(Rn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(mC);function TC(e,t){return CC.apply(this,arguments)}function CC(){return CC=Cn(Vn().mark((function e(t,n){var r,i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PC(n),i=OC(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),CC.apply(this,arguments)}function AC(e,t){return NC.apply(this,arguments)}function NC(){return NC=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OC(t)._set(PC(n),"true"));case 1:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}function OC(e){return Y_(e._redirectPersistence)}function PC(e){return zE("pendingRedirect",e.config.apiKey,e.name)}function RC(e,t,n){return function(e,t,n){return DC.apply(this,arguments)}(e,t,n)}function DC(){return DC=Cn(Vn().mark((function e(t,n,r){var i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=iS(t),H_(t,n,WS),a=fC(i,r),e.next=5,AC(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),DC.apply(this,arguments)}function LC(e,t,n){return function(e,t,n){return MC.apply(this,arguments)}(e,t,n)}function MC(){return MC=Cn(Vn().mark((function e(t,n,r){var i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H_((i=La(t)).auth,n,WS),a=fC(i.auth,r),e.next=5,AC(a,i.auth);case 5:return e.next=7,qC(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),MC.apply(this,arguments)}function FC(e,t,n){return function(e,t,n){return jC.apply(this,arguments)}(e,t,n)}function jC(){return jC=Cn(Vn().mark((function e(t,n,r){var i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H_((i=La(t)).auth,n,WS),a=fC(i.auth,r),e.next=5,hI(!1,i,n.providerId);case 5:return e.next=7,AC(a,i.auth);case 7:return e.next=9,qC(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),jC.apply(this,arguments)}function UC(e,t){return VC.apply(this,arguments)}function VC(){return VC=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iS(t)._initializationPromise;case 2:return e.abrupt("return",BC(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function BC(e,t){return zC.apply(this,arguments)}function zC(){return zC=Cn(Vn().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=iS(t),a=fC(i,n),o=new IC(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),zC.apply(this,arguments)}function qC(e){return HC.apply(this,arguments)}function HC(){return(HC=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mT("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var WC=function(){function e(t){An(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return On(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GC(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!GC(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(z_(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(KC(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(KC(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function KC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function GC(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function $C(e){return QC.apply(this,arguments)}function QC(){return QC=Cn(Vn().mark((function e(t){var n,r=arguments;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",oE(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),QC.apply(this,arguments)}var YC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;function JC(){return JC=Cn(Vn().mark((function e(t){var n,r,i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$C(t);case 4:n=e.sent,r=n.authorizedDomains,i=ta(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ZC(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:B_(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),JC.apply(this,arguments)}function ZC(e){var t=X_(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!XC.test(r))return!1;if(YC.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var eA=new eE(3e4,6e4);function tA(){var e=kT().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=hn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var nA=null;function rA(e){return nA=nA||function(e){return new Promise((function(t,n){var r,i,a;function o(){tA(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){tA(),n(z_(e,"network-request-failed"))},timeout:eA.get()})}if(null===(i=null===(r=kT().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=kT().gapi)||void 0===a?void 0:a.load)){var u=zT("iframefcb");return kT()[u]=function(){gapi.load?o():n(z_(e,"network-request-failed"))},BT("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw nA=null,e}))}(e),nA}var iA=new eE(5e3,15e3),aA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uA(e){var t=e.config;K_(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?tE(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ko},i=oA.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Aa(r).slice(1))}function sA(e){return cA.apply(this,arguments)}function cA(){return cA=Cn(Vn().mark((function e(t){var n,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rA(t);case 2:return n=e.sent,K_(r=kT().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:uA(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aA,dontclear:!0},(function(e){return new Promise(function(){var n=Cn(Vn().mark((function n(r,i){var a,o,u;return Vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){kT().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=z_(t,"network-request-failed"),o=kT().setTimeout((function(){i(a)}),iA.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}var lA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fA="_blank",hA="http://localhost",dA=function(){function e(t){An(this,e),this.window=t,this.associatedEvent=null}return On(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function pA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},lA),{width:r.toString(),height:i.toString(),top:a,left:o}),c=va().toLowerCase();n&&(u=GE(c)?fA:n),WE(c)&&(t=t||hA,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=ia(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ZE(c)&&"_self"!==u)return vA(t||"",u),new dA(null);var f=window.open(t||"",u,l);K_(f,e,"popup-blocked");try{f.focus()}catch(h){}return new dA(f)}function vA(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var yA="__/auth/handler",mA="emulator/auth/handler";function gA(e,t,n,r,i,a){K_(e.config.authDomain,e,"auth-domain-config-required"),K_(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ko,eventId:i};if(t instanceof WS){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=ia(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof KS){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yA);return tE(t,mA)}(e),"?").concat(Aa(d).slice(1))}var kA="webStorageSupport",bA=function(){function e(){An(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pT,this._completeRedirectFn=BC}return On(e,[{key:"_openPopup",value:function(){var e=Cn(Vn().mark((function e(t,n,r,i){var a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $_(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=gA(t,n,r,X_(),i),e.abrupt("return",pA(t,o,mT()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Cn(Vn().mark((function e(t,n,r,i){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=gA(t,n,r,X_(),i),kT().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):($_(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Cn(Vn().mark((function e(t){var n,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sA(t);case 2:return n=e.sent,r=new WC(t),n.register("authEvent",(function(e){return K_(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(kA,{type:kA},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),B_(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return JC.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return tS()||KE()||JE()}}]),e}(),wA=bA,xA=function(){function e(t){An(this,e),this.factorId=t}return On(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return G_("unexpected MultiFactorSessionType")}}}]),e}(),_A=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this,"phone")).credential=e,r}return On(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return oE(e,"POST","/v2/accounts/mfaEnrollment:finalize",aE(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return oE(e,"POST","/v2/accounts/mfaSignIn:finalize",aE(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(xA),EA=function(){function e(){An(this,e)}return On(e,null,[{key:"assertion",value:function(e){return _A._fromCredential(e)}}]),e}();EA.FACTOR_ID="phone";var SA,IA="@firebase/auth",TA="0.19.10",CA=function(){function e(t){An(this,e),this.auth=t,this.internalListeners=new Map}return On(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){K_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function AA(){return window}SA="Browser",fo(new Ba("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){K_(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),K_(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:SA,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nS(SA)},i=new rS(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Y_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),fo(new Ba("auth-internal",(function(e){return function(e){return new CA(e)}(iS(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),So(IA,TA,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(SA)),So(IA,TA,"esm2017");function NA(e,t,n){return OA.apply(this,arguments)}function OA(){return OA=Cn(Vn().mark((function e(t,n,r){var i,a,o,u,s;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=AA(),o=a.BuildInfo,$_(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,FA(n.sessionId);case 4:return u=e.sent,s={},JE()?s.ibi=o.packageName:QE()?s.apn=o.packageName:B_(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",gA(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),OA.apply(this,arguments)}function PA(){return PA=Cn(Vn().mark((function e(t){var n,r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=AA(),r=n.BuildInfo,i={},JE()?i.iosBundleId=r.packageName:QE()?i.androidPackageName=r.packageName:B_(t,"operation-not-supported-in-this-environment"),e.next=5,$C(t,i);case 5:case"end":return e.stop()}}),e)}))),PA.apply(this,arguments)}function RA(e){var t=AA().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function DA(e,t,n){return LA.apply(this,arguments)}function LA(){return LA=Cn(Vn().mark((function e(t,n,r){var i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=AA(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(z_(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),QE()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),LA.apply(this,arguments)}function MA(e){var t,n,r,i,a,o,u,s,c,l,f=AA();K_("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),K_("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),K_("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K_("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K_("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function FA(e){return jA.apply(this,arguments)}function jA(){return(jA=Cn(Vn().mark((function e(t){var n,r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=UA(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UA(e){if($_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var VA=function(e){Pn(n,e);var t=jn(n);function n(){var e;return An(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return On(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Xo(Rn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(WC);function BA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:KA(),postBody:null,tenantId:e.tenantId,error:z_(e,"no-auth-event")}}function zA(e,t){return GA()._set($A(e),t)}function qA(e){return HA.apply(this,arguments)}function HA(){return HA=Cn(Vn().mark((function e(t){var n;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GA()._get($A(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,GA()._remove($A(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),HA.apply(this,arguments)}function WA(e,t){var n,r,i=function(e){var t=QA(e),n=t.link?decodeURIComponent(t.link):void 0,r=QA(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return QA(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=QA(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?z_(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function KA(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function GA(){return Y_(hT)}function $A(e){return zE("authEvent",e.config.apiKey,e.name)}function QA(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=na(t=n)||ln(t)||fn(t)||ra();r[0];return Na(r.slice(1).join("?"))}var YA=function(){function e(){An(this,e),this._redirectPersistence=pT,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=BC}return On(e,[{key:"_initialize",value:function(){var e=Cn(Vn().mark((function e(t){var n,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new VA(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){B_(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Cn(Vn().mark((function e(t,n,r,i){var a,o,u,s;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return MA(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),SC.clear(),e.next=10,this._originValidation(t);case 10:return o=BA(t,r,i),e.next=13,zA(t,o);case 13:return e.next=15,NA(t,o,n);case 15:return u=e.sent,e.next=18,RA(u);case 18:return s=e.sent,e.abrupt("return",DA(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return PA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=AA(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Cn(Vn().mark((function n(){return Vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,qA(e);case 2:t.onEvent(JA());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Cn(Vn().mark((function n(r){var i,a;return Vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,qA(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=WA(i,r.url)),t.onEvent(a||JA());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");AA().handleOpenURL=function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),XA=YA;function JA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:z_("no-auth-event")}}function ZA(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function eN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return!("file:"!==ZA()&&"ionic:"!==ZA()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function tN(){return ba()&&11===(null===document||void 0===document?void 0:document.documentMode)}function nN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return/Edge\/\d+/.test(e)}function rN(){try{var e=self.localStorage,t=mT();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va();return tN()||nN(e)}()||wa()}catch(n){return iN()&&wa()}return!1}function iN(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function aN(){return("http:"===ZA()||"https:"===ZA()||ga()||eN())&&!(ka()||ma())&&rN()&&!iN()}function oN(){return eN()&&"undefined"!==typeof document}function uN(){return sN.apply(this,arguments)}function sN(){return(sN=Cn(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oN()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cN={LOCAL:"local",NONE:"none",SESSION:"session"},lN=K_,fN="persistence";function hN(e,t){lN(Object.values(cN).includes(t),e,"invalid-persistence-type"),ka()?lN(t!==cN.SESSION,e,"unsupported-persistence-type"):ma()?lN(t===cN.NONE,e,"unsupported-persistence-type"):iN()?lN(t===cN.NONE||t===cN.LOCAL&&wa(),e,"unsupported-persistence-type"):lN(t===cN.NONE||rN(),e,"unsupported-persistence-type")}function dN(e){return pN.apply(this,arguments)}function pN(){return pN=Cn(Vn().mark((function e(t){var n,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=vN(),r=zE(fN,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),pN.apply(this,arguments)}function vN(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var yN=K_,mN=function(){function e(){An(this,e),this.browserResolver=Y_(wA),this.cordovaResolver=Y_(XA),this.underlyingResolver=null,this._redirectPersistence=pT,this._completeRedirectFn=BC}return On(e,[{key:"_initialize",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Cn(Vn().mark((function e(t,n,r,i){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Cn(Vn().mark((function e(t,n,r,i){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return oN()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return yN(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Cn(Vn().mark((function e(){var t;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,uN();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gN(e){return e.unwrap()}function kN(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new EN(e,function(e,t){var n,r=La(e),i=t;return K_(t.customData.operationType,r,"argument-error"),K_(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),iT._fromError(r,i)}(e,t));else if(r){var i=bN(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function bN(e){var t=(e instanceof xa?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof xa)&&"temporaryProof"in t&&"phoneNumber"in t)return lC.credentialFromResult(e);var n,r=t.providerId;if(!r||r===T_)return null;switch(r){case I_:n=QS;break;case E_:n=$S;break;case S_:n=YS;break;case C_:n=ZS;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?XS._create(r,u):LS._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new GS(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof xa?n.credentialFromError(e):n.credentialFromResult(e)}function wN(e,t){return t.catch((function(t){throw t instanceof xa&&kN(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,bN(t)),additionalUserInfo:nT(e),user:SN.getOrCreate(r)}}))}function xN(e,t){return _N.apply(this,arguments)}function _N(){return _N=Cn(Vn().mark((function e(t,n){var r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return wN(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),_N.apply(this,arguments)}var EN=function(){function e(t,n){An(this,e),this.resolver=n,this.auth=t.wrapped()}return On(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return wN(gN(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),SN=function(){function e(t){An(this,e),this._delegate=t,this.multiFactor=function(e){var t=La(e);return sT.has(t)||sT.set(t,uT._fromUser(t)),sT.get(t)}(t)}return On(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wN(this.auth,bI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xN(this.auth,iC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wN(this.auth,xC(this._delegate,t,mN)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dN(iS(this.auth));case 2:return e.abrupt("return",FC(this._delegate,t,mN));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wN(this.auth,xI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return xN(this.auth,function(e,t,n){return oC.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return wN(this.auth,function(e,t,n){return wC.apply(this,arguments)}(this._delegate,e,mN))}},{key:"reauthenticateWithRedirect",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dN(iS(this.auth));case 2:return e.abrupt("return",LC(this._delegate,t,mN));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return qI.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sI(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return $I(La(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return $I(La(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return cC.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return GI.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return HI.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();SN.USER_MAP=new WeakMap;var IN=K_,TN=function(){function e(t,n){if(An(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;IN(r,"invalid-api-key",{appName:t.name}),IN(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?mN:void 0;this._delegate=n.initialize({options:{persistence:AN(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(M_),this.linkUnderlyingAuth()}return On(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?SN.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){oS(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return PI.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return RI(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return OI.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Cn(Vn().mark((function e(t,n){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wN(this._delegate,MI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return zI.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=qS.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Cn(Vn().mark((function e(){var t;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IN(aN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,UC(this._delegate,mN);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",wN(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){iS(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=CN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=CN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return jI.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return NI.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Cn(Vn().mark((function e(t){var n,r;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hN(this._delegate,t),e.t0=t,e.next=e.t0===cN.SESSION?4:e.t0===cN.LOCAL?6:e.t0===cN.NONE?11:13;break;case 4:return n=pT,e.abrupt("break",14);case 6:return e.next=8,Y_(FT)._isAvailable();case 8:return r=e.sent,n=r?FT:hT,e.abrupt("break",14);case 11:return n=BE,e.abrupt("break",14);case 13:return e.abrupt("return",B_("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return wN(this._delegate,function(e){return iI.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return wN(this._delegate,gI(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return wN(this._delegate,function(e,t){return II.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return wN(this._delegate,function(e,t,n){return gI(La(e),HS.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return wN(this._delegate,function(e,t,n){return UI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return xN(this._delegate,function(e,t,n){return rC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IN(aN(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",wN(this._delegate,kC(this._delegate,t,mN)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Cn(Vn().mark((function e(t){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IN(aN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,dN(this._delegate);case 3:return e.abrupt("return",RC(this._delegate,t,mN));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return LI.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function CN(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&SN.getOrCreate(e))},error:t,complete:n}}function AN(e,t){var n=function(e,t){var n=vN();if(!n)return[];var r=zE(fN,e,t);switch(n.getItem(r)){case cN.NONE:return[BE];case cN.LOCAL:return[FT,pT];case cN.SESSION:return[pT];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(FT)||n.push(FT),"undefined"!==typeof window)for(var r=0,i=[hT,pT];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(BE)||n.push(BE),n}TN.Persistence=cN;var NN=function(){function e(){An(this,e),this.providerId="phone",this._delegate=new lC(gN(Qo.auth()))}return On(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return lC.credential(e,t)}}]),e}();NN.PHONE_SIGN_IN_METHOD=lC.PHONE_SIGN_IN_METHOD,NN.PROVIDER_ID=lC.PROVIDER_ID;var ON=K_,PN=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qo.app();An(this,e),ON(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new eC(t,n,i.auth()),this.type=this._delegate.type}return On(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Ba("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new TN(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:A_,PASSWORD_RESET:N_,RECOVER_EMAIL:O_,REVERT_SECOND_FACTOR_ADDITION:P_,VERIFY_AND_CHANGE_EMAIL:R_,VERIFY_EMAIL:D_}},EmailAuthProvider:HS,FacebookAuthProvider:$S,GithubAuthProvider:YS,GoogleAuthProvider:QS,OAuthProvider:GS,SAMLAuthProvider:JS,PhoneAuthProvider:NN,PhoneMultiFactorGenerator:EA,RecaptchaVerifier:PN,TwitterAuthProvider:ZS,Auth:TN,AuthCredential:cS,Error:xa}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.10")}(Qo);Qo.initializeApp({apiKey:"AIzaSyCdrOSSBpZNa4_Gok6y_UJQljjIIGCBB8s",authDomain:"crwn-db-f9321.firebaseapp.com",projectId:"crwn-db-f9321",storageBucket:"crwn-db-f9321.appspot.com",messagingSenderId:"974481636969",appId:"1:974481636969:web:0bc951cad5bdfe0c24ecf8",measurementId:"G-VGBWRX2M8Z"});var RN=function(){var e=Cn(Vn().mark((function e(t,n){var r,i,a,o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=LN.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return i=t.displayName,a=t.email,o=new Date,e.prev=9,e.next=12,r.set(bt({displayName:i,email:a,createdAt:o},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}(),DN=Qo.auth(),LN=Qo.firestore(),MN=new Qo.auth.GoogleAuthProvider;MN.setCustomParameters({prompt:"select_account"});var FN,jN,UN,VN,BN,zN,qN,HN,WN,KN,GN,$N,QN,YN,XN,JN,ZN,eO=function(){return DN.signInWithPopup(MN)},tO=function(){return function(e){var t=LN.collection("collections");e({type:kn.FETCH_COLLECTIONS_START}),t.get().then((function(t){var n=t.docs.map((function(e){var t=e.data(),n=t.title,r=t.items;return{routeName:encodeURI(n.toLowerCase()),id:e.id,title:n,items:r}})).reduce((function(e,t){return e[t.title.toLowerCase()]=t,e}),{});e(function(e){return{type:kn.FETCH_COLLECTIONS_SUCCESS,payload:e}}(n))})).catch((function(t){return e((n=t.message,{type:kn.FETCH_COLLECTIONS_FAILURE,payload:n}));var n}))}},nO=Di.div(FN||(FN=er(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),rO=Di.div(jN||(jN=er(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]))),iO=["isLoading"],aO=function(e){return function(t){var n=t.isLoading,r=$n(t,iO);return n?(0,Yn.jsx)(nO,{children:(0,Yn.jsx)(rO,{})}):(0,Yn.jsx)(e,bt({},r))}},oO=aO(Zi),uO=aO(ea),sO=function(e){Pn(n,e);var t=jn(n);function n(){return An(this,n),t.apply(this,arguments)}return On(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchCollectionsStartAsync)()}},{key:"render",value:function(){var e=this.props,t=e.match,n=e.isFetchingCollections,r=e.isCollectionsLoaded;return(0,Yn.jsxs)("div",{className:"shop-page",children:[(0,Yn.jsx)(ue,{exact:!0,path:"".concat(t.path),render:function(e){return(0,Yn.jsx)(oO,bt({isLoading:n},e))}}),(0,Yn.jsx)(ue,{path:"".concat(t.path,"/:collectionId"),render:function(e){return(0,Yn.jsx)(uO,bt({isLoading:!r},e))}})]})}}]),n}(t.Component),cO=ut(Gn({isFetchingCollections:Yi,isCollectionsLoaded:Xi}),(function(e){return{fetchCollectionsStartAsync:function(){return e(tO())}}}))(sO),lO=["handleChange","label"],fO=function(e){var t=e.handleChange,n=e.label,r=$n(e,lO);return(0,Yn.jsxs)("div",{className:"group",children:[(0,Yn.jsx)("input",bt({className:"form-input",onChange:t},r)),n?(0,Yn.jsx)("label",{className:"".concat(r.value.length?"shrink":""," form-input-label"),children:n}):null]})},hO=function(e){Pn(n,e);var t=jn(n);function n(e){var r;return An(this,n),(r=t.call(this,e)).handleSubmit=function(){var e=Cn(Vn().mark((function e(t){var n,i,a;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=r.state,i=n.email,a=n.password,e.prev=2,e.next=5,DN.signInWithEmailAndPassword(i,a);case 5:r.setState({email:"",password:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),r.handleChange=function(e){var t=e.target,n=t.value,i=t.name;r.setState(gt({},i,n))},r.state={email:"",password:""},r}return On(n,[{key:"render",value:function(){return(0,Yn.jsxs)("div",{className:"sign-in",children:[(0,Yn.jsx)("h2",{children:"I already have an account"}),(0,Yn.jsx)("span",{children:"Sign in with your email and password"}),(0,Yn.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,Yn.jsx)(fO,{name:"email",type:"email",handleChange:this.handleChange,value:this.state.email,label:"email",required:!0}),(0,Yn.jsx)(fO,{name:"password",type:"password",value:this.state.password,handleChange:this.handleChange,label:"password",required:!0}),(0,Yn.jsxs)("div",{className:"buttons",children:[(0,Yn.jsx)(zi,{type:"submit",children:" Sign in "}),(0,Yn.jsx)(zi,{onClick:eO,isGoogleSignIn:!0,children:"Sign in with Google"})]})]})]})}}]),n}(t.Component),dO=hO,pO=function(e){Pn(n,e);var t=jn(n);function n(){var e;return An(this,n),(e=t.call(this)).handleSubmit=function(){var t=Cn(Vn().mark((function t(n){var r,i,a,o,u,s,c;return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state,i=r.displayName,a=r.email,o=r.password,u=r.confirmPassword,o===u){t.next=5;break}return alert("passwords don't match"),t.abrupt("return");case 5:return t.prev=5,t.next=8,DN.createUserWithEmailAndPassword(a,o);case 8:return s=t.sent,c=s.user,t.next=12,RN(c,{displayName:i});case 12:e.setState({displayName:"",email:"",password:"",confirmPassword:""}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,r=n.name,i=n.value;e.setState(gt({},r,i))},e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return On(n,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,r=e.password,i=e.confirmPassword;return(0,Yn.jsxs)("div",{className:"sign-up",children:[(0,Yn.jsx)("h2",{className:"title",children:"I do not have a account"}),(0,Yn.jsx)("span",{children:"Sign up with your email and password"}),(0,Yn.jsxs)("form",{className:"sign-up-form",onSubmit:this.handleSubmit,children:[(0,Yn.jsx)(fO,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Display Name",required:!0}),(0,Yn.jsx)(fO,{type:"email",name:"email",value:n,onChange:this.handleChange,label:"Email",required:!0}),(0,Yn.jsx)(fO,{type:"password",name:"password",value:r,onChange:this.handleChange,label:"Password",required:!0}),(0,Yn.jsx)(fO,{type:"password",name:"confirmPassword",value:i,onChange:this.handleChange,label:"Confirm Password",required:!0}),(0,Yn.jsx)(zi,{type:"submit",children:"SIGN UP"})]})]})}}]),n}(t.Component),vO=pO,yO=function(){return(0,Yn.jsxs)("div",{className:"sign-in-and-sign-up",children:[(0,Yn.jsx)(dO,{}),(0,Yn.jsx)(vO,{})]})},mO=ut(null,(function(e){return{clearItem:function(t){return e(function(e){return{type:sn.CLEAR_ITEM_FROM_CART,payload:e}}(t))},addItem:function(t){return e(Hi(t))},removeItem:function(t){return e(function(e){return{type:sn.REMOVE_ITEM,payload:e}}(t))}}}))((function(e){var t=e.cartItem,n=e.clearItem,r=e.addItem,i=e.removeItem,a=t.name,o=t.imageUrl,u=t.price,s=t.quantity;return(0,Yn.jsxs)("div",{className:"checkout-item",children:[(0,Yn.jsx)("div",{className:"image-container",children:(0,Yn.jsx)("img",{src:o,alt:"item"})}),(0,Yn.jsx)("span",{className:"name",children:a}),(0,Yn.jsxs)("span",{className:"quantity",children:[(0,Yn.jsx)("div",{className:"arrow",onClick:function(){return i(t)},children:"\u276e"}),(0,Yn.jsx)("span",{className:"value",children:s}),(0,Yn.jsx)("div",{className:"arrow",onClick:function(){return r(t)},children:"\u276f"})]}),(0,Yn.jsx)("span",{className:"price",children:u}),(0,Yn.jsx)("div",{className:"remove-button",onClick:function(){return n(t)},children:"\u2715"})]})})),gO=n(210),kO=function(e){var t=e.price,n=100*t;return(0,Yn.jsx)(gO.Z,{label:"Pay Now",name:"CRWN Clothing Ltd.",billingAddress:!0,shippingAddress:!0,image:"https://svgshare.com/i/CUz.svg",description:"Your total is $".concat(t),amount:n,panelLabel:"Pay Now",token:function(e){console.log(e),alert("Payment Succesful!")},stripeKey:"pk_test_WBqax2FWVzS9QlpJScO07iuL"})},bO=function(e){return e.cart},wO=Kn([bO],(function(e){return e.cartItems})),xO=Kn([bO],(function(e){return e.hidden})),_O=Kn([wO],(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),EO=ut(Gn({cartItems:wO,total:Kn([wO],(function(e){return e.reduce((function(e,t){return e+t.quantity*t.price}),0)}))}))((function(e){var t=e.cartItems,n=e.total;return(0,Yn.jsxs)("div",{className:"checkout-page",children:[(0,Yn.jsxs)("div",{className:"checkout-header",children:[(0,Yn.jsx)("div",{className:"header-block",children:(0,Yn.jsx)("span",{children:"Product"})}),(0,Yn.jsx)("div",{className:"header-block",children:(0,Yn.jsx)("span",{children:"Description"})}),(0,Yn.jsx)("div",{className:"header-block",children:(0,Yn.jsx)("span",{children:"Quantity"})}),(0,Yn.jsx)("div",{className:"header-block",children:(0,Yn.jsx)("span",{children:"Price"})}),(0,Yn.jsx)("div",{className:"header-block",children:(0,Yn.jsx)("span",{children:"Remove"})})]}),t.map((function(e){return(0,Yn.jsx)(mO,{cartItem:e},e.id)})),(0,Yn.jsxs)("div",{className:"total",children:["TOTAL: $",n]}),(0,Yn.jsxs)("div",{className:"test-warning",children:["*Please use the following test credit card for payments*",(0,Yn.jsx)("br",{}),"4242 4242 4242 4242 - Exp: 01/20 - CVV: 123"]}),(0,Yn.jsx)(kO,{price:n})]})})),SO=["title","titleId"];function IO(){return IO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IO.apply(this,arguments)}function TO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CO(e,n){var r=e.title,i=e.titleId,a=TO(e,SO);return t.createElement("svg",IO({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 407.453 407.453",style:{enableBackground:"new 0 0 407.453 407.453"},xmlSpace:"preserve",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("g",null,t.createElement("path",{style:{fill:"#010002"},d:"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z"}),t.createElement("path",{style:{fill:"#010002"},d:"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z"}),t.createElement("path",{style:{fill:"#010002"},d:"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z"}),t.createElement("path",{style:{fill:"#010002"},d:"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z"}),t.createElement("path",{style:{fill:"#010002"},d:"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z"})),UN||(UN=t.createElement("g",null)),VN||(VN=t.createElement("g",null)),BN||(BN=t.createElement("g",null)),zN||(zN=t.createElement("g",null)),qN||(qN=t.createElement("g",null)),HN||(HN=t.createElement("g",null)),WN||(WN=t.createElement("g",null)),KN||(KN=t.createElement("g",null)),GN||(GN=t.createElement("g",null)),$N||($N=t.createElement("g",null)),QN||(QN=t.createElement("g",null)),YN||(YN=t.createElement("g",null)),XN||(XN=t.createElement("g",null)),JN||(JN=t.createElement("g",null)),ZN||(ZN=t.createElement("g",null)))}var AO,NO,OO=t.forwardRef(CO),PO=(n.p,ut(Gn({itemCount:_O}),(function(e){return{toggleCartHidden:function(){return e(qi())}}}))((function(e){var t=e.toggleCartHidden,n=e.itemCount;return(0,Yn.jsxs)("div",{className:"cart-icon",onClick:t,children:[(0,Yn.jsx)(OO,{className:"shopping-icon"}),(0,Yn.jsx)("span",{className:"item-count",children:n})]})}))),RO=function(e){var t=e.item,n=t.imageUrl,r=t.price,i=t.name,a=t.quantity;return(0,Yn.jsxs)("div",{className:"cart-item",children:[(0,Yn.jsx)("img",{src:n,alt:"item"}),(0,Yn.jsxs)("div",{className:"item-details",children:[(0,Yn.jsx)("span",{className:"name",children:i}),(0,Yn.jsxs)("span",{className:"price",children:[a," x $",r]})]})]})},DO=pe(ut(Gn({cartItems:wO}))((function(e){var t=e.cartItems,n=e.history,r=e.dispatch;return(0,Yn.jsxs)("div",{className:"cart-dropdown",children:[(0,Yn.jsx)("div",{className:"cart-items",children:t.length?t.map((function(e){return(0,Yn.jsx)(RO,{item:e},e.id)})):(0,Yn.jsx)("span",{className:"empty-message",children:"Your cart is empty"})}),(0,Yn.jsx)(zi,{onClick:function(){n.push("/checkout"),r(qi())},children:"GO TO CHECKOUT"})]})}))),LO=Kn([function(e){return e.user}],(function(e){return e.currentUser})),MO=["title","titleId"];function FO(){return FO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FO.apply(this,arguments)}function jO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UO(e,n){var r=e.title,i=e.titleId,a=jO(e,MO);return t.createElement("svg",FO({width:"50px",height:"39px",viewBox:"0 0 50 39",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:n,"aria-labelledby":i},a),void 0===r?t.createElement("title",{id:i},"Group"):r?t.createElement("title",{id:i},r):null,AO||(AO=t.createElement("desc",null,"Created with Sketch.")),NO||(NO=t.createElement("g",{id:"WiP",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},t.createElement("g",{id:"Artboard",transform:"translate(-90.000000, -38.000000)"},t.createElement("g",{id:"Group",transform:"translate(90.000000, 38.000000)"},t.createElement("polygon",{id:"Rectangle",fill:"#808282",points:"3 14 25 26.5 47 14 40.855176 39 9.08421785 39"}),t.createElement("polygon",{id:"Triangle",fillOpacity:.262838724,fill:"#101A1A",points:"25 8 40 39 10 39"}),t.createElement("circle",{id:"Oval",fill:"#5E6363",cx:2,cy:9,r:2}),t.createElement("circle",{id:"Oval",fill:"#5E6363",cx:25,cy:2,r:2}),t.createElement("circle",{id:"Oval",fill:"#5E6363",cx:48,cy:9,r:2}))))))}var VO,BO,zO,qO,HO=t.forwardRef(UO),WO=(n.p,Di.div(VO||(VO=er(["\n  height: 70px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 25px;\n"])))),KO=Di(we)(BO||(BO=er(["\n  height: 100%;\n  width: 70px;\n  padding: 25px;\n"]))),GO=Di.div(zO||(zO=er(["\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n"]))),$O=Di(we)(qO||(qO=er(["\n  padding: 10px 15px;\n  cursor: pointer;\n"]))),QO=ut(Gn({currentUser:LO,hidden:xO}))((function(e){var t=e.currentUser,n=e.hidden;return(0,Yn.jsxs)(WO,{children:[(0,Yn.jsx)(KO,{to:"/",children:(0,Yn.jsx)(HO,{className:"logo"})}),(0,Yn.jsxs)(GO,{children:[(0,Yn.jsx)($O,{to:"/shop",children:"SHOP"}),(0,Yn.jsx)($O,{to:"/shop",children:"CONTACT"}),t?(0,Yn.jsx)($O,{as:"div",onClick:function(){return DN.signOut()},children:"SIGN OUT"}):(0,Yn.jsx)($O,{to:"/signin",children:"SIGN IN"}),(0,Yn.jsx)(PO,{})]}),n?null:(0,Yn.jsx)(DO,{})]})})),YO=function(e){Pn(n,e);var t=jn(n);function n(){var e;An(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).unsubscribeFromAuth=null,e}return On(n,[{key:"componentDidMount",value:function(){var e=this.props.setCurrentUser;this.unsubscribeFromAuth=DN.onAuthStateChanged(function(){var t=Cn(Vn().mark((function t(n){return Vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,RN(n);case 3:t.sent.onSnapshot((function(t){e(bt({id:t.id},t.data()))}));case 5:e(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){var e=this;return(0,Yn.jsxs)("div",{children:[(0,Yn.jsx)(QO,{}),(0,Yn.jsxs)(de,{children:[(0,Yn.jsx)(ue,{exact:!0,path:"/",component:Mi}),(0,Yn.jsx)(ue,{path:"/shop",component:cO}),(0,Yn.jsx)(ue,{exact:!0,path:"/checkout",component:EO}),(0,Yn.jsx)(ue,{exact:!0,path:"/signin",render:function(){return e.props.currentUser?(0,Yn.jsx)(re,{to:"/"}):(0,Yn.jsx)(yO,{})}})]})]})}}]),n}(t.Component),XO=ut(Gn({currentUser:LO}),(function(e){return{setCurrentUser:function(t){return e(function(e){return{type:an,payload:e}}(t))}}}))(YO);r.render((0,Yn.jsx)(Ne,{store:Sn,children:(0,Yn.jsx)(ve,{children:(0,Yn.jsx)(mt,{persistor:In,children:(0,Yn.jsx)(XO,{})})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.cdcb0a9f.js.map